!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(require,module,exports){(function(Buffer){!function(ns){var NODE_CLIENT=0;ns.wrapper=function(goog,wd){function n(t){return void 0!==t}function ba(){}function ca(t){t.mb=function(){return t.Je?t.Je:t.Je=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function q(t,e,n){return q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,q.apply(null,arguments)}function ma(t,e){function n(){}n.prototype=e.prototype,t.hg=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.bg=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function oa(){this.lb=[]}function pa(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.nb();null===n||o.ca(n.nb())||(t.lb.push(n),n=null),null===n&&(n=new qa(o)),n.add(i)}n&&t.lb.push(n)}function ra(t,e,n){pa(t,n),sa(t,function(t){return t.ca(e)})}function ta(t,e,n){pa(t,n),sa(t,function(t){return t.contains(e)||e.contains(t)})}function sa(t,e){for(var n=!0,r=0;r<t.lb.length;r++){var i=t.lb[r];if(i)if(i=i.nb(),e(i)){for(var i=t.lb[r],o=0;o<i.Vc.length;o++){var a=i.Vc[o];if(null!==a){i.Vc[o]=null;var s=a.gb();ua&&va("event: "+a.toString()),wa(s)}}t.lb[r]=null}else n=!1}n&&(t.lb=[])}function qa(t){this.va=t,this.Vc=[]}function xa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}function ya(t,e){return t&&"object"==typeof t?(r(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function za(e,n){var r=new Aa;return Ba(e,new t(""),function(t,e){r.bc(t,Ca(e,n))}),r}function Ca(t,e){var n,r=t.G().N(),r=ya(r,e);if(t.R()){var i=ya(t.Fa(),e);return i!==t.Fa()||r!==t.G().N()?new Da(i,u(r)):t}return n=t,r!==t.G().N()&&(n=n.fa(new Da(r))),t.Y(w,function(t,r){var i=Ca(r,e);i!==r&&(n=n.U(t,i))}),n}function Ka(t,e){var n=La(t,e,void 0);return 0>n?null:p(t)?t.charAt(n):t[n]}function La(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&e.call(n,i[o],o,t))return o;return-1}function Ma(t,e){var n=Ea(t,e);n>=0&&x.splice.call(t,n,1)}function Na(t,e,n){return 2>=arguments.length?x.slice.call(t,e):x.slice.call(t,e,n)}function Oa(t,e){t.sort(e||Pa)}function Pa(t,e){return t>e?1:e>t?-1:0}function z(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function Qa(t,e){var n,r={};for(n in t)r[n]=e.call(void 0,t[n],n,t);return r}function Ra(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function Sa(t){var e,n=0;for(e in t)n++;return n}function Ta(t){for(var e in t)return e}function Ua(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function Va(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function Wa(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function Xa(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r}function Ya(t,e){var n=Xa(t,e,void 0);return n&&t[n]}function Za(t){for(var e in t)return!1;return!0}function $a(t){var e,n={};for(e in t)n[e]=t[e];return n}function bb(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<ab.length;o++)n=ab[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function B(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function cb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function db(t){var e={};return cb(t,function(t,n){e[t]=n}),e}function eb(){this.oc={}}function fb(t){this.sf=t,this.dd=null}function gb(t,e){this.Ze={},this.vd=new fb(t),this.ea=e;var n=1e4+2e4*Math.random();setTimeout(q(this.Ve,this),Math.floor(n))}function jb(t){return t=t.toString(),hb[t]||(hb[t]=new eb),hb[t]}function kb(t,e){var n=t.toString();return ib[n]||(ib[n]=e()),ib[n]}function lb(t){this.pc=t,this.nd="wilddog:"}function nb(){this.kc={}}function ob(t){try{if("undefined"!=typeof window&&"undefined"!=typeof window[t]){var e=window[t];return e.setItem("wilddog:sentinel","cache"),e.removeItem("wilddog:sentinel"),new lb(e)}}catch(n){}return new nb}function rb(t,e,n,r,i){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.zb=e,this.Wb=n,this.md=i||"",this.Qa=pb.get("host:"+t)||this.host}function sb(t,e){null==e?(t.Qa=t.host,"s-"===t.Qa.substr(0,2)&&pb.remove("host:"+t.host)):e!==t.Qa&&(t.Qa=e,"s-"===t.Qa.substr(0,2)&&pb.set("host:"+t.host,t.Qa))}function tb(){this.o=-1}function ub(){this.o=-1,this.o=64,this.g=[],this.Va=[],this.Ed=[],this.ta=[],this.ta[0]=128;for(var t=1;t<this.o;++t)this.ta[t]=0;this.Ha=this.Z=0,this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.g[4]=3285377520,this.Ha=this.Z=0}function vb(t,e,n){n||(n=0);var r=t.Ed;if(p(e))for(var i=0;16>i;i++)r[i]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(i=0;16>i;i++)r[i]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(i=16;80>i;i++){var o=r[i-3]^r[i-8]^r[i-14]^r[i-16];r[i]=4294967295&(o<<1|o>>>31)}e=t.g[0],n=t.g[1];for(var a,s=t.g[2],u=t.g[3],h=t.g[4],i=0;80>i;i++)40>i?20>i?(o=u^n&(s^u),a=1518500249):(o=n^s^u,a=1859775393):60>i?(o=n&s|u&(n|s),a=2400959708):(o=n^s^u,a=3395469782),o=(e<<5|e>>>27)+o+h+a+r[i]&4294967295,h=u,u=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+n&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+u&4294967295,t.g[4]=t.g[4]+h&4294967295}function wb(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)}function xb(){}function yb(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(ea(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;e>o;o++)n.push(i),yb(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),zb(r,n),n.push(":"),yb(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":zb(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}}function zb(t,e){e.push('"',t.replace(Bb,function(t){var e=Ab[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Ab[t]=e),e}),'"')}function Cb(t){var e=[];return cb(t,function(t,n){ea(n)?Fa(n,function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""}function Db(t){var e={};return t=t.replace(/^\?/,"").split("&"),Fa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function mb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):wb(t)}function C(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];yb(new xb,t,e),t=e.join("")}return t}function Eb(){this.rd=D}function Ib(t){return-1!=Fb.indexOf(t)}function Nb(){var t=Fb;return Lb?/rv\:([^\);]+)(\)|;)/.exec(t):Kb&&Ib("Edge")?/Edge\/([\d\.]+)/.exec(t):Kb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Mb?/WebKit\/(\S+)/.exec(t):void 0}function Rb(){if(!Ob){Ob={},Pb={},Qb={};for(var t=0;65>t;t++)Ob[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Pb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),Qb[Pb[t]]=t,t>=62&&(Qb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function r(t,e){if(!t)throw Tb(e)}function Tb(t){return Error("Wilddog ("+E.o+") INTERNAL ASSERT FAILED: "+t)}function Ub(t){try{var e;if(NODE_CLIENT)e=new Buffer(t,"base64").toString("utf8");else{var n;if("undefined"!=typeof atob)n=atob(t);else{Rb();for(var r=Qb,i=[],o=0;o<t.length;){var a=r[t.charAt(o++)],s=o<t.length?r[t.charAt(o)]:0;++o;var u=o<t.length?r[t.charAt(o)]:64;++o;var h=o<t.length?r[t.charAt(o)]:64;if(++o,null==a||null==s||null==u||null==h)throw Error();i.push(a<<2|s>>4),64!=u&&(i.push(s<<4&240|u>>2),64!=h&&i.push(u<<6&192|h))}if(8192>i.length)n=String.fromCharCode.apply(null,i);else{for(t="",r=0;r<i.length;r+=8192)t+=String.fromCharCode.apply(null,Na(i,r,r+8192));n=t}}e=n}return e}catch(c){va("base64Decode failed: ",c)}return null}function Vb(t){for(var e=[],n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o>=55296&&56319>=o&&(o-=55296,i++,r(i<t.length,"Surrogate pair missing trail surrogate."),o=65536+(o<<10)+(t.charCodeAt(i)-56320)),128>o?e[n++]=o:(2048>o?e[n++]=o>>6|192:(65536>o?e[n++]=o>>12|224:(e[n++]=o>>18|240,e[n++]=o>>12&63|128),e[n++]=o>>6&63|128),e[n++]=63&o|128)}for(t=new ub,t.update(e),e=[],i=8*t.Ha,56>t.Z?t.update(t.ta,56-t.Z):t.update(t.ta,t.o-(t.Z-56)),n=t.o-1;n>=56;n--)t.Va[n]=255&i,i/=256;for(vb(t,t.Va),n=i=0;5>n;n++)for(o=24;o>=0;o-=8)e[i]=t.g[n]>>o&255,++i;if(!fa(e))throw Error("encodeByteArray takes an array as a parameter");for(Rb(),t=Ob,n=[],i=0;i<e.length;i+=3){var a=e[i],s=(o=i+1<e.length)?e[i+1]:0,u=i+2<e.length,h=u?e[i+2]:0,c=a>>2,a=(3&a)<<4|s>>4,s=(15&s)<<2|h>>6,h=63&h;u||(h=64,o||(s=64)),n.push(t[c],t[a],t[s],t[h])}return n.join("")}function Wb(t){for(var e="",n=0;n<arguments.length;n++)e+=fa(arguments[n])?Wb.apply(null,arguments[n]):"object"==typeof arguments[n]?C(arguments[n]):arguments[n],e+=" ";return e}function va(t){if(!0===Xb&&(Xb=!1,null===ua&&!0===qb.get("logging_enabled")&&E.ta()),ua){var e=Wb.apply(null,arguments);ua(e)}}function Yb(t){return function(){va(t,arguments)}}function Zb(t){if("undefined"!=typeof console){var e="WILDDOG INTERNAL ERROR: "+Wb.apply(null,arguments);"undefined"!=typeof console.error?console.error(e):console.log(e)}}function $b(t){var e=Wb.apply(null,arguments);throw Error("WILDDOG FATAL ERROR: "+e)}function F(t){if("undefined"!=typeof console){var e="WILDDOG WARNING: "+Wb.apply(null,arguments);"undefined"!=typeof console.warn?console.warn(e):console.log(e)}}function ac(t){var e="",n="",r="",i="",o=!0,a="https",s=443;if(p(t)){var u=t.indexOf("//");for(u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2)),u=t.indexOf("/"),-1===u&&(u=t.length),e=t.substring(0,u),i="",t=t.substring(u).split("/"),u=0;u<t.length;u++)if(0<t[u].length){var h=t[u];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(c){}i+="/"+h}t=e.split("."),3===t.length?(n=t[1],r=t[0].toLowerCase()):2===t.length&&(n=t[0]),u=e.indexOf(":"),u>=0&&(o="https"===a||"wss"===a,s=e.substring(u+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,Vf:r,zb:o,scheme:a,Zb:i}}function bc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function cc(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=dc(t),r=dc(e);return null!==n?null!==r?0==n-r?t.length-e.length:n-r:-1:null!==r?1:e>t?-1:1}function ec(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+C(e))}function fc(t){if("object"!=typeof t||null===t)return C(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var r=0;r<n.length;r++)0!==r&&(e+=","),e+=C(n[r]),e+=":",e+=fc(t[n[r]]);return e+"}"}function gc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else z(t,e)}function hc(t){r(!bc(t),"Invalid JSON number");var e,n,i,o;for(0===t?(i=n=0,e=-(1/0)===1/t?1:0):(e=0>t,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),o=[],t=52;t;--t)o.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)o.push(n%2?1:0),n=Math.floor(n/2);for(o.push(e?1:0),o.reverse(),e=o.join(""),n="",t=0;64>t;t+=8)i=parseInt(e.substr(t,8),2).toString(16),1===i.length&&(i="0"+i),n+=i;return n.toLowerCase()}function dc(t){return ic.test(t)&&(t=Number(t),t>=-2147483648&&2147483647>=t)?t:null}function wa(t){try{t()}catch(e){setTimeout(function(){throw F("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}}function G(t,e){if(ha(t)){var n=Array.prototype.slice.call(arguments,1).slice();wa(function(){t.apply(null,n)})}}function jc(t){var e={},n={},r={},i="";try{var o=t.split("."),e=mb(Ub(o[0])||""),n=mb(Ub(o[1])||""),i=o[2],r=n.d||{};delete n.d}catch(a){}return{dg:e,Nc:n,data:r,fg:i}}function kc(t){return t=jc(t).Nc,"object"==typeof t&&t.hasOwnProperty("iat")?B(t,"iat"):null}function lc(t,e){this.j=Yb("p:rest:"),this.L=t,this.vb=e,this.Ja=null,this.ha={}}function mc(t,e){if(n(e))return"tag$"+e;var i=t.C;return r(nc(i)&&i.m==w,"should have a tag if it's not a default query."),t.path.toString()}function pc(t,e,n,r){n=n||{},n.format="export",t.Ja&&(n.auth=t.Ja);var i=(t.L.zb?"https://":"http://")+t.L.host+e+"?"+Cb(n);t.j("Sending REST request for "+i);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(r&&4===o.readyState){t.j("REST Response for "+i+" received. status:",o.status,"response:",o.responseText);var e=null;if(200<=o.status&&300>o.status){try{e=mb(o.responseText)}catch(n){F("Failed to parse JSON response for "+i+": "+o.responseText)}r(null,e)}else 401!==o.status&&404!==o.status&&F("Got unsuccessful REST response for "+i+" Status: "+o.status),r(o.status);r=null}},o.open("GET",i,!0),o.send()}function qc(t,e){this.o=t,this.g=e?e:rc}function tc(t,e){for(var n,r=t.g,i=null;!r.f();){if(n=t.o(e,r.key),0===n){if(r.left.f())return i?i.key:null;for(r=r.left;!r.right.f();)r=r.right;return r.key}0>n?r=r.left:n>0&&(i=r,r=r.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function uc(t,e,n,r,i){for(this.g=i||null,this.o=r,this.Ra=[],i=1;!t.f();)if(i=e?n(t.key,e):1,r&&(i*=-1),0>i)t=this.o?t.left:t.right;else{if(0===i){this.Ra.push(t);break}this.Ra.push(t),t=this.o?t.right:t.left}}function I(t){if(0===t.Ra.length)return null;var e,n=t.Ra.pop();if(e=t.g?t.g(n.key,n.value):{key:n.key,value:n.value},t.o)for(n=n.left;!n.f();)t.Ra.push(n),n=n.right;else for(n=n.right;!n.f();)t.Ra.push(n),n=n.left;return e}function vc(t){if(0===t.Ra.length)return null;var e;return e=t.Ra,e=e[e.length-1],t.g?t.g(e.key,e.value):{key:e.key,value:e.value}}function wc(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:xc,this.left=null!=r?r:rc,this.right=null!=i?i:rc}function yc(t){return t.left.f()?t:yc(t.left)}function Ac(t){return t.left.f()?rc:(t.left.ka()||t.left.left.ka()||(t=Bc(t)),t=t.ba(null,null,null,Ac(t.left),null),zc(t))}function zc(t){return t.right.ka()&&!t.left.ka()&&(t=Ec(t)),t.left.ka()&&t.left.left.ka()&&(t=Cc(t)),t.left.ka()&&t.right.ka()&&(t=Dc(t)),t}function Bc(t){return t=Dc(t),t.right.left.ka()&&(t=t.ba(null,null,null,null,Cc(t.right)),t=Ec(t),t=Dc(t)),t}function Ec(t){return t.right.ba(null,null,t.color,t.ba(null,null,xc,null,t.right.left),null)}function Cc(t){return t.left.ba(null,null,t.color,null,t.ba(null,null,xc,t.left.right,null))}function Dc(t){return t.ba(null,null,!t.color,t.left.ba(null,null,!t.left.color,null,null),t.right.ba(null,null,!t.right.color,null,null))}function Fc(){}function Gc(t,e){return cc(t.name,e.name)}function Hc(t,e){return cc(t,e)}function Ic(){}function Kc(t){return q(t.compare,t)}function Mc(t){this.Qb=t}function Oc(){}function Pc(){}function Rc(){}function K(){}function J(t,e){this.name=t,this.node=e}function Uc(t,e){return new J(t,e)}function Vc(t,e){this.bd=t,this.Rb=e}function Wc(t,e,n){var i=Qa(t.bd,function(i,o){var a=B(t.Rb,o);if(r(a,"Missing index implementation for "+o),i===Jc){if(a.rc(e.node)){for(var s=[],u=n.Mb(Uc),h=I(u);h;)h.name!=e.name&&s.push(h),h=I(u);return s.push(e),Xc(s,Kc(a))}return Jc}return a=n.get(e.name),s=i,a&&(s=s.remove(new J(e.name,a))),s.Pa(e,e.node)});return new Vc(i,t.Rb)}function Yc(t,e,n){var r=Qa(t.bd,function(t){if(t===Jc)return t;var r=n.get(e.name);return r?t.remove(new J(e.name,r)):t});return new Vc(r,t.Rb)}function Da(t,e){this.I=t,r(n(this.I)&&null!==this.I,"LeafNode shouldn't be created with null/undefined value."),this.ia=e||D,$c(this.ia),this.tb=null}function N(t,e,n){this.A=t,(this.ia=e)&&$c(this.ia),t.f()&&r(!this.ia||this.ia.f(),"An empty node cannot have a priority"),this.pb=n,this.tb=null}function fd(t,e){var n;return n=(n=ed(t,e))?(n=n.xc())&&n.name:t.A.xc(),n?new J(n,t.A.get(n)):null}function gd(t,e){var n;return n=(n=ed(t,e))?(n=n.Vb())&&n.name:t.A.Vb(),n?new J(n,t.A.get(n)):null}function ed(t,e){return e===Qc?null:t.pb.get(e.toString())}function u(t,e){if(null===t)return D;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:"undefined"!=typeof e&&(n=e),r(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Da(t,u(n));if(t instanceof Array){var i=D,o=t;return z(o,function(t,e){if(A(o,e)&&"."!==e.substring(0,1)){var n=u(t);(n.R()||!n.f())&&(i=i.U(e,n))}}),i.fa(u(n))}var a=[],s=!1,h=t;if(cb(h,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=u(h[t]);e.f()||(s=s||!e.G().f(),a.push(new J(t,e)))}}),0==a.length)return D;var c=Xc(a,Gc,function(t){return t.name},Hc);if(s){var f=Xc(a,Kc(w));return new N(c,u(n),new Vc({".priority":f},{".priority":w}))}return new N(c,u(n),Zc)}function id(t){this.count=parseInt(Math.log(t+1)/hd,10),this.Ae=this.count-1,this.qf=t+1&parseInt(Array(this.count+1).join("1"),2)}function jd(t){var e=!(t.qf&1<<t.Ae);return t.Ae--,e}function Xc(t,e,n,r){function i(e,r){var o=r-e;if(0==o)return null;if(1==o){var a=t[e],s=n?n(a):a;return new wc(s,a.node,sc,null,null)}var a=parseInt(o/2,10)+e,o=i(e,a),u=i(a+1,r),a=t[a],s=n?n(a):a;return new wc(s,a.node,sc,o,u)}t.sort(e);var o=function(e){function r(e,r){var u=s-e,h=s;s-=e;var h=i(u+1,h),u=t[u],c=n?n(u):u,h=new wc(c,u.node,r,null,h);o?o.left=h:a=h,o=h}for(var o=null,a=null,s=t.length,u=0;u<e.count;++u){var h=jd(e),c=Math.pow(2,e.count-(u+1));h?r(c,sc):(r(c,sc),r(c,xc))}return a}(new id(t.length));return null!==o?new qc(r||e,o):new qc(r||e)}function bd(t){return"number"==typeof t?"number:"+hc(t):"string:"+t}function $c(t){if(t.R()){var e=t.N();r("string"==typeof e||"number"==typeof e||"object"==typeof e&&A(e,".sv"),"Priority must be a string or number.")}else r(t===Nc||t.f(),"priority of unexpected type.");r(t===Nc||t.G().f(),"Priority nodes can't have a priority of their own.")}function kd(){N.call(this,new qc(Hc),D,Zc)}function t(t,e){if(1==arguments.length){this.B=t.split("/");for(var n=0,r=0;r<this.B.length;r++)0<this.B[r].length&&(this.B[n]=this.B[r],n++);this.B.length=n,this.da=0}else this.B=t,this.da=e}function O(t,e){var n=L(t);if(null===n)return e;if(n===L(e))return O(M(t),M(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function L(t){return t.da>=t.B.length?null:t.B[t.da]}function ad(t){return t.B.length-t.da}function M(e){var n=e.da;return n<e.B.length&&n++,new t(e.B,n)}function ld(t){return t.da<t.B.length?t.B[t.B.length-1]:null}function md(t,e){this.o=t.slice(),this.g=Math.max(1,this.o.length),this.Z=e;for(var n=0;n<this.o.length;n++)this.g+=nd(this.o[n]);od(this)}function od(t){if(768<t.g)throw Error(t.Z+"has a key path longer than 768 bytes ("+t.g+").");if(32<t.o.length)throw Error(t.Z+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pd(t))}function pd(t){return 0==t.o.length?"":"in property '"+t.o.join(".")+"'"}function nd(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);128>r?e++:2048>r?e+=2:r>=55296&&56319>=r?(e+=4,n++):e+=3}return e}function Q(t,e,n,r){var i;if(e>r?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")}function R(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t=t+" failed: "+(r+" argument ")}function S(t,e,r,i){if((!i||n(r))&&!ha(r))throw Error(R(t,e,i)+"must be a valid function.")}function qd(t,e,r){if(n(r)&&(!ia(r)||null===r))throw Error(R(t,e,!0)+"must be a valid context object.")}function td(t){return p(t)&&0!==t.length&&!rd.test(t)}function ud(t){return null===t||p(t)||ga(t)&&!bc(t)||ia(t)&&A(t,".sv")}function vd(t,e,r,i){i&&!n(e)||wd(R(t,1,i),e,r)}function wd(e,r,i){if(i instanceof t&&(i=new md(i,e)),!n(r))throw Error(e+"contains undefined "+pd(i));if(ha(r))throw Error(e+"contains a function "+pd(i)+" with contents: "+r.toString());if(bc(r))throw Error(e+"contains "+r.toString()+" "+pd(i));if(p(r)&&r.length>10485760/3&&10485760<nd(r))throw Error(e+"contains a string greater than 10485760 utf8 bytes "+pd(i)+" ('"+r.substring(0,50)+"...')");if(ia(r)){var o=!1,a=!1;if(cb(r,function(t,n){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!td(t)))throw Error(e+" contains an invalid key ("+t+") "+pd(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(t),wd(e,n,i),i.pop()}),o&&a)throw Error(e+' contains ".value" child '+pd(i)+" in addition to actual children.")}}function yd(t,e,n){if(!ia(e)||ea(e))throw Error(R(t,1,!1)+" must be an Object containing the children to replace.");if(A(e,".value"))throw Error(R(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');vd(t,e,n,!1)}function zd(t,e,n){if(bc(n))throw Error(R(t,e,!1)+"is "+n.toString()+", but must be a valid Wilddog priority (a string, finite number, server value, or null).");if(!ud(n))throw Error(R(t,e,!1)+"must be a valid Wilddog priority (a string, finite number, server value, or null).")}function Ad(t,e,r){if(!r||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(R(t,1,r)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Bd(t,e,r,i){if((!i||n(r))&&!td(r))throw Error(R(t,e,i)+'was an invalid key: "'+r+'".  Wilddog keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Cd(t,e){if(!p(e)||0===e.length||sd.test(e))throw Error(R(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Dd(t,e){if(".info"===L(e))throw Error(t+" failed: Can't modify data under /.info/")}function Ed(t,e){if(!p(e))throw Error(R(t,1,!1)+"must be a valid credential (a string).")}function Fd(t,e,n){if(!p(n))throw Error(R(t,e,!1)+"must be a valid string.")}function Gd(t,e,r,i){if(!(i&&!n(r)||ia(r)&&null!==r))throw Error(R(t,e,i)+"must be a valid object.")}function Hd(t,e,n){if(!ia(e)||null===e||!A(e,n))throw Error(R(t,1,!1)+'must contain the key "'+n+'"');if(!p(B(e,n)))throw Error(R(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function T(t,e,n){this.H=t,this.$=e,this.m=n}function Jd(t,e,n){this.Oc=t||{},this.zd=e||{},this.$a=n||{},this.Oc.remember||(this.Oc.remember="default")}function Ld(t){var e={},n={};return cb(t||{},function(t,r){0<=Ea(Kd,t)?e[t]=r:n[t]=r}),new Jd(e,{},n)}function Md(){var t,e=window.opener.frames;for(t=e.length-1;t>=0;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(n){}return null}function Nd(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function Od(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function Pd(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function Qd(t){var e="";try{t=t.replace("#","");var n=Db(t);n&&A(n,"__wilddog_request_key")&&(e=B(n,"__wilddog_request_key"))}catch(r){}return e}function Rd(){var t=ac(Id);return t.scheme+"://"+t.host+"/v1"}function Sd(t){return Rd()+"/"+t+"/auth/channel"}function Td(t){this.dc=xa()+xa()+xa(),this.Se=t}function Vd(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function Ud(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function Wd(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1])}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1]);return!1}function U(t){var e=Error(B(Xd,t),t);return e.code=t,e}function Yd(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Zd(t,e){this.ge=["session",t.md,t.Wb].join(":"),this.xd=e}function $d(t){(!t.window_features||"undefined"!=typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function ae(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__wilddog_auth_jsonp=window.__wilddog_auth_jsonp||{}}function be(t,e,n){setTimeout(function(){try{var r=document.createElement("script");r.type="text/javascript",r.id=t,r.async=!0,r.src=e,r.onerror=function(){var e=document.getElementById(t);null!==e&&e.parentNode.removeChild(e),n&&n(U("NETWORK_ERROR"))};var i,o=document.getElementsByTagName("head");i=o&&0!=o.length?o[0]:document.documentElement,i.appendChild(r)}catch(a){n&&n(U("NETWORK_ERROR"))}},0)}function ce(t){r(ea(t)&&0<t.length,"Requires a non-empty array"),this.Ed=t,this.Z={}}function de(t,e){r(Ka(t.Ed,function(t){return t===e}),"Unknown event: "+e)}function ee(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function fe(t){this.dc=xa()+xa()+xa(),this.Se=t}function ge(t,e,n,r){ce.call(this,["auth_status"]),this.L=t,this.Va=e,this.ue=n,this.ce=r,this.o=new Zd(t,[pb,qb]),this.g=null,this.Ha=!1,he(this)}function he(t){qb.get("redirect_request_id")&&ie(t);var e=t.o.get();e&&e.token?(je(t,e),t.Va(e.token,function(n,r){ke(t,n,r,!1,e.token,e)},function(e,n){le(t,"resumeSession()",e,n)})):je(t,null)}function me(t,e,n,r,i,o){"wilddogio-demo.com"===t.L.domain&&F("Wilddog authentication is not supported on demo Wilddogs (*.wilddogio-demo.com). To secure your Wilddog, create a production Wilddog at https://www.wilddog.com."),t.Va(e,function(o,a){ke(t,o,a,!0,e,n,r||{},i)},function(e,n){le(t,"auth()",e,n,o)})}function ne(t,e){t.o.clear(),je(t,null),t.ue(function(t,n){if("ok"===t)G(e,null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,G(e,i)}})}function ke(t,e,n,r,i,o,a,s){"ok"===e?(r&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=i,n=null,e&&A(e,"uid")?n=B(e,"uid"):A(o,"uid")&&(n=B(o,"uid")),o.uid=n,n="custom",e&&A(e,"provider")?n=B(e,"provider"):A(o,"provider")&&(n=B(o,"provider")),o.provider=n,t.o.clear(),a=a||{},n=pb,"sessionOnly"===a.remember&&(n=qb),"none"!==a.remember&&t.o.set(o,n),je(t,o)),G(s,null,o)):(t.o.clear(),je(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),o=Error(o),o.code=t,G(s,o))}function le(t,e,n,r,i){F(e+" was canceled: "+r),t.o.clear(),je(t,null),t=Error(r),t.code=n.toUpperCase(),G(i,t)}function oe(t,e,n,r,i){pe(t),n=new Jd(r||{},{},n||{}),qe(t,NODE_CLIENT?[Yd]:[ee,ae],"/auth/"+e,n,i)}function re(t,e,n,r){pe(t);var i=[$d,fe];n=Ld(n),"anonymous"===e||"password"===e?setTimeout(function(){G(r,U("TRANSPORT_UNAVAILABLE"))},0):(n.zd.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.zd.relay_url=Sd(t.L.Wb),n.zd.requestWithCredential=q(t.ec,t),qe(t,i,"/auth/"+e,n,r))}function ie(t){var e=qb.get("redirect_request_id");if(e){var n=qb.get("redirect_client_options");qb.remove("redirect_request_id"),qb.remove("redirect_client_options");var r=[ee,ae],e={requestId:e,requestKey:Qd(document.location.hash)},n=new Jd(n,{},e);t.Ha=!0;try{document.location.hash=document.location.hash.replace(/&__wilddog_request_key=([a-zA-z0-9]*)/,"")}catch(i){}qe(t,r,"/auth/session",n,function(){this.Ha=!1}.bind(t))}}function qe(t,e,n,r,i){se(t,e,n,r,function(e,n){!e&&n&&n.token&&n.uid?me(t,n.token,n,r.Oc,function(t,e){t?G(i,t):G(i,null,e)}):G(i,e||U("UNKNOWN_ERROR"))})}function se(t,e,n,r,i){e=Ga(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()}),0===e.length?setTimeout(function(){G(i,U("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(r.zd),r=db(r.$a),r.v=(NODE_CLIENT?"node-":"js-")+"0.4.9",r.transport=e.Gb(),r.suppress_status_codes=!0,t=Rd()+"/"+t.L.Wb+n,e.open(t,r,function(t,e){if(t)G(i,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,G(i,n)}else G(i,null,e)}))}function je(t,e){var n=null!==t.g||null!==e;t.g=e,n&&t.ta("auth_status",e),t.ce(null!==e)}function pe(t){var e=t.L;if("wilddogio.com"!==e.domain&&"wilddogio-demo.com"!==e.domain&&"auth.wilddog.com"===Id)throw Error("This custom Wilddog server ('"+t.L.domain+"') does not support delegated login.")}function te(t,e,n){this.type=ue,this.source=t,this.path=e,this.children=n}function we(t,e){this.type=xe,this.source=ye,this.path=t,this.me=e}function ze(t,e){this.type=Ae,this.source=t,this.path=e}function ve(t,e,n){this.type=Be,this.source=t,this.path=e,this.Ma=n}function Ce(){}function De(t,e,n,i){this.Od=t,this.Ge=e,this.xb=n,this.se=i,r(!i||e,"Tagged queries must be from server.")}function Fe(t,e,n){this.H=t,this.ga=e,this.Kb=n}function Ge(t){return t.ga}function He(t,e){return t.ga&&!t.Kb||t.H.Ga(e)}function Ie(t,e){this.J=t,this.sd=e}function Je(t,e,n,r){return new Ie(new Fe(e,n,r),t.sd)}function Ke(t){return t.J.ga?t.J.u():null}function Le(t){return t.sd.ga?t.sd.u():null}function Me(){}
function Ne(t,e,n,r){this.Md=e,this.td=n,this.od=r,this.Uc=t}function Oe(t,e,n){this.Md=t,this.error=e,this.path=n}function V(t,e,n,r){this.type=t,this.Na=e,this.Xa=n,this.be=r,this.od=void 0}function Pe(t){return new V(Qe,t)}function Re(){}function Se(t,e,n){this.Fb=t,this.jb=e,this.kb=n||null}function Te(t,e,n){this.la=t,this.jb=e,this.kb=n}function Ue(t){this.$=t,this.m=t.C.m}function Ve(t,e,n,r){var i=[],o=[];return Fa(e,function(e){"child_changed"===e.type&&t.m.ad(e.be,e.Na)&&o.push(new V("child_moved",e.Na,e.Xa))}),We(t,i,"child_removed",e,r,n),We(t,i,"child_added",e,r,n),We(t,i,"child_moved",o,r,n),We(t,i,"child_changed",e,r,n),We(t,i,Qe,e,r,n),i}function We(t,e,n,r,i,o){r=Ga(r,function(t){return t.type===n}),Oa(r,q(t.tf,t)),Fa(r,function(n){var r=Xe(t,n,o);Fa(i,function(i){i.le(n.type)&&e.push(i.createEvent(r,t.$))})})}function Xe(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.od=n.Sd(e.Xa,e.Na,t.m)),e}function Ye(){}function $e(t,e,n){this.cf=t,this.Oa=e,this.kd=n}function af(t,e){this.Dd=t,this.rf=e}function bf(t){this.O=t}function jf(t,e,n,i,o,a){var s=e.J;if(null!=i.gc(n))return e;var u;if(n.f())r(Ge(e.D()),"If change path is empty, we must have complete server data"),e.D().Kb?(o=Le(e),i=i.lc(o instanceof N?o:D)):i=i.za(Le(e)),a=t.O.ya(e.J.u(),i,a);else{var h=L(n);if(".priority"==h)r(1==ad(n),"Can't have a priority with additional path components"),a=s.u(),u=e.D().u(),i=i.Kc(n,a,u),a=null!=i?t.O.fa(a,i):s.u();else{var c=M(n);He(s,h)?(u=e.D().u(),i=i.Kc(n,s.u(),u),i=null!=i?s.u().P(h).K(c,i):s.u().P(h)):i=i.Wa(h,e.D()),a=null!=i?t.O.K(s.u(),h,i,o,a):s.u()}}return Je(e,a,s.ga||n.f(),t.O.Ka())}function ef(t,e,n,r,i,o,a,s){var u=e.D();if(a=a?t.O:t.O.Lb(),n.f())r=a.ya(u.u(),r,null);else if(a.Ka()&&!u.Kb)r=u.u().K(n,r),r=a.ya(u.u(),r,null);else{var h=L(n);if((n.f()?!u.ga||u.Kb:!He(u,L(n)))&&1<ad(n))return e;r=u.u().P(h).K(M(n),r),r=".priority"==h?a.fa(u.u(),r):a.K(u.u(),h,r,Ze,null)}return u=u.ga||n.f(),e=new Ie(e.J,new Fe(r,u,a.Ka())),jf(t,e,n,i,new $e(i,e,o),s)}function df(t,e,n,r,i,o,a){var s=e.J;if(i=new $e(i,e,o),n.f())a=t.O.ya(e.J.u(),r,a),t=Je(e,a,!0,t.O.Ka());else if(o=L(n),".priority"===o)a=t.O.fa(e.J.u(),r),t=Je(e,a,s.ga,s.Kb);else{var u=M(n);if(n=s.u().P(o),!u.f()){var h=i.He(o);r=null!=h?".priority"===ld(u)&&h.ma(u.parent()).f()?h:h.K(u,r):D}n.ca(r)?t=e:(a=t.O.K(s.u(),o,r,i,a),t=Je(e,a,s.ga,t.O.Ka()))}return t}function ff(t,e,n,r,i,o,a){var s=e;return kf(r,function(r,u){var h=n.F(r);He(e.J,L(h))&&(s=df(t,s,h,u,i,o,a))}),kf(r,function(r,u){var h=n.F(r);He(e.J,L(h))||(s=df(t,s,h,u,i,o,a))}),s}function lf(t,e){return kf(e,function(e,n){t=t.K(e,n)}),t}function gf(e,n,r,i,o,a,s,u){if(n.D().u().f()&&!Ge(n.D()))return n;var h=n;r=r.f()?i:mf(nf,r,i);var c=n.D().u();return r.children.na(function(r,i){if(c.Ga(r)){var f=n.D().u().P(r),f=lf(f,i);h=ef(e,h,new t(r),f,o,a,s,u)}}),r.children.na(function(r,i){var f=!Ge(n.D())&&null==i.value;c.Ga(r)||f||(f=n.D().u().P(r),f=lf(f,i),h=ef(e,h,new t(r),f,o,a,s,u))}),h}function hf(t,e,n,r,i,o){if(null!=r.gc(n))return e;var a=new $e(r,e,i),s=i=e.J.u();if(Ge(e.D())){if(n.f())i=r.za(Le(e)),s=t.O.ya(e.J.u(),i,o);else if(".priority"===L(n)){var u=r.Wa(L(n),e.D());null==u||i.f()||i.G().ca(u)||(s=t.O.fa(i,u))}else u=L(n),i=r.Wa(u,e.D()),null!=i&&(s=t.O.K(e.J.u(),u,i,a,o));i=!0}else e.J.ga||n.f()?(s=i,i=e.J.u(),i.R()||i.Y(w,function(n){var i=r.Wa(n,e.D());null!=i&&(s=t.O.K(s,n,i,a,o))}),i=e.J.ga):(u=L(n),(1==ad(n)||He(e.J,u))&&(n=r.Wa(u,e.D()),null!=n&&(s=t.O.K(i,u,n,a,o))),i=!1);return Je(e,s,i,t.O.Ka())}function of(t,e){this.$=t;var n=t.C,r=new pf(n.m),n=nc(n)?new pf(n.m):n.oa?new qf(n):new rf(n);this.Ue=new bf(n);var i=e.D(),o=e.J,a=r.ya(D,i.u(),null),s=n.ya(D,o.u(),null);this.Oa=new Ie(new Fe(s,o.ga,n.Ka()),new Fe(a,i.ga,r.Ka())),this.Ya=[],this.wf=new Ue(t)}function sf(t){return t.$}function uf(t,e){var n=t.Oa.J,r=[];return n.u().R()||n.u().Y(w,function(t,e){r.push(new V("child_added",e,t))}),n.ga&&r.push(Pe(n.u())),tf(t,r,n.u(),e)}function tf(t,e,n,r){return Ve(t.wf,e,n,r?[r]:t.Ya)}function vf(t,e){this.value=t,this.children=e||wf}function xf(e){var n=nf;return z(e,function(e,r){n=n.set(new t(r),e)}),n}function yf(e,n,r){if(null!=e.value&&r(e.value))return{path:P,value:e.value};if(n.f())return null;var i=L(n);return e=e.children.get(i),null!==e?(n=yf(e,M(n),r),null!=n?{path:new t(i).F(n.path),value:n.value}:null):null}function zf(t,e){return yf(t,e,function(){return!0})}function mf(t,e,n){if(e.f())return n;var r=L(e);return e=mf(t.children.get(r)||nf,M(e),n),r=e.f()?t.children.remove(r):t.children.Pa(r,e),new vf(t.value,r)}function Af(t,e){return Bf(t,P,e)}function Bf(t,e,n){var r={};return t.children.na(function(t,i){r[t]=Bf(i,e.F(t),n)}),n(e,t.value,r)}function Cf(t,e,n){return Df(t,e,P,n)}function Df(t,e,n,r){var i=t.value?r(n,t.value):!1;return i?i:e.f()?null:(i=L(e),(t=t.children.get(i))?Df(t,M(e),n.F(i),r):null)}function Ef(t,e,n){if(!e.f()){var r=!0;t.value&&(r=n(P,t.value)),!0===r&&(r=L(e),(t=t.children.get(r))&&Ff(t,M(e),P.F(r),n))}}function Ff(t,e,n,r){if(e.f())return t;t.value&&r(n,t.value);var i=L(e);return(t=t.children.get(i))?Ff(t,M(e),n.F(i),r):nf}function kf(t,e){Gf(t,P,e)}function Gf(t,e,n){t.children.na(function(t,r){Gf(r,e.F(t),n)}),t.value&&n(e,t.value)}function Hf(t,e){t.children.na(function(t,n){n.value&&e(t,n.value)})}function If(){this.Ca={}}function Kf(t){return Ga(Ua(t.Ca),function(t){return!nc(t.$.C)})}function Lf(t,e){if(nc(e.C))return Jf(t);var n=e.Ba();return B(t.Ca,n)}function Jf(t){return Ya(t.Ca,function(t){return nc(t.$.C)})||null}function Mf(t){this.aa=t}function Of(t,e,n){if(e.f())return new Mf(new vf(n));var r=zf(t.aa,e);if(null!=r){var i=r.path,r=r.value;return e=O(i,e),r=r.K(e,n),new Mf(t.aa.set(i,r))}return t=mf(t.aa,e,new vf(n)),new Mf(t)}function Pf(t,e,n){var r=t;return cb(n,function(t,n){r=Of(r,e.F(t),n)}),r}function Qf(t,e){var n=zf(t.aa,e);return null!=n?t.aa.get(n.path).ma(O(n.path,e)):null}function Rf(t){var e=[],n=t.aa.value;return null!=n?n.R()||n.Y(w,function(t,n){e.push(new J(t,n))}):t.aa.children.na(function(t,n){null!=n.value&&e.push(new J(t,n.value))}),e}function Sf(t,e){if(e.f())return t;var n=Qf(t,e);return new Mf(null!=n?new vf(n):t.aa.subtree(e))}function Tf(t,e,n){if(null!=e.value)return n.K(t,e.value);var i=null;return e.children.na(function(e,o){".priority"===e?(r(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):n=Tf(t.F(e),o,n)}),n.ma(t).f()||null===i||(n=n.K(t.F(".priority"),i)),n}function Uf(){this.X=Nf,this.Da=[],this.Ub=-1}function Vf(t,e){return t.Ma?t.path.contains(e):!!Xa(t.children,function(n,r){return t.path.F(r).contains(e)})}function Xf(t){return t.visible}function Wf(t,e,n){for(var r=Nf,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path;if(o.Ma)n.contains(a)?(a=O(n,a),r=Of(r,a,o.Ma)):a.contains(n)&&(a=O(a,n),r=Of(r,P,o.Ma.ma(a)));else{if(!o.children)throw Tb("WriteRecord should have .snap or .children");n.contains(a)?(a=O(n,a),r=Pf(r,a,o.children)):a.contains(n)&&(a=O(a,n),a.f()?r=Pf(r,P,o.children):(o=B(o.children,L(a)))&&(o=o.ma(M(a)),r=Of(r,P,o)))}}}return r}function Yf(t,e){this.Cb=t,this.aa=e}function Zf(t){this.xa=nf,this.wb=new Uf,this.re={},this.$b={},this.tc=t}function $f(t,e,i,o,a){var s=t.wb,u=a;return r(o>s.Ub,"Stacking an older write on top of newer ones"),n(u)||(u=!0),s.Da.push({path:e,Ma:i,Fd:o,visible:u}),u&&(s.X=Of(s.X,e,i)),s.Ub=o,a?ag(t,new ve(ye,e,i)):[]}function bg(t,e,n,i){var o=t.wb;return r(i>o.Ub,"Stacking an older merge on top of newer ones"),o.Da.push({path:e,children:n,Fd:i,visible:!0}),o.X=Pf(o.X,e,n),o.Ub=i,n=xf(n),ag(t,new te(ye,e,n))}function cg(t,e,n){return n=n||!1,e=t.wb.pd(e),null==e?[]:ag(t,new we(e,n))}function dg(t,e,n){return n=xf(n),ag(t,new te(Ee,e,n))}function eg(t,e,n,r){if(r=fg(t,r),null!=r){var i=gg(r);return r=i.path,i=i.xb,e=O(r,e),n=new ve(new De(!1,!0,i,!0),e,n),hg(t,r,n)}return[]}function ig(t,e,n,r){if(r=fg(t,r)){var i=gg(r);return r=i.path,i=i.xb,e=O(r,e),n=xf(n),n=new te(new De(!1,!0,i,!0),e,n),hg(t,r,n)}return[]}function mg(t){return Af(t,function(t,e,n){if(e&&null!=Jf(e))return[Jf(e)];var r=[];return e&&(r=Kf(e)),z(n,function(t){r=r.concat(t)}),r})}function pg(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!nc(r.C)){var r=jg(r),i=t.$b[r];delete t.$b[r],delete t.re["_"+i]}}}function lg(t,e,n){var i=e.path,o=og(t,e);if(n=ng(t,n),e=t.tc.oe(e,o,n.Yc,n.S),i=t.xa.subtree(i),o)r(null==Jf(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Af(i,function(t,e,n){if(!t.f()&&e&&null!=Jf(e))return[sf(Jf(e))];var r=[];return e&&(r=r.concat(Ha(Kf(e),function(t){return t.$}))),z(n,function(t){r=r.concat(t)}),r}),i=0;i<o.length;++i)n=o[i],t.tc.wd(n,og(t,n));return e}function ng(t,e){var n=e.$,r=og(t,n);return{Yc:function(){return(e.D()||D).hash()},S:function(e){if("ok"===e){if(r){var i=n.path;if(e=fg(t,r)){var o=gg(e);e=o.path,o=o.xb,i=O(e,i),i=new ze(new De(!1,!0,o,!0),i),e=hg(t,e,i)}else e=[]}else e=ag(t,new ze(Ee,n.path));return e}return i="Unknown Error","too_big"===e?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?i="Client doesn't have permission to access the desired data.":"unavailable"==e&&(i="The service is unavailable"),i=Error(e+": "+i),i.code=e.toUpperCase(),t.ib(n,null,i)}}}function jg(t){return t.path.toString()+"$"+t.Ba()}function gg(e){var n=e.indexOf("$");return r(-1!==n&&n<e.length-1,"Bad queryKey."),{xb:e.substr(n+1),path:new t(e.substr(0,n))}}function fg(t,e){var n=t.re,r="_"+e;return r in n?n[r]:void 0}function og(t,e){var n=jg(e);return B(t.$b,n)}function hg(t,e,n){var i=t.xa.get(e);return r(i,"Missing sync point for query tag that we're tracking"),i.bb(n,new Yf(e,t.wb),null)}function ag(t,e){return qg(t,e,t.xa,null,new Yf(P,t.wb))}function qg(t,e,n,r,i){if(e.path.f())return rg(t,e,n,r,i);var o=n.get(P);null==r&&null!=o&&(r=o.fb(P));var a=[],s=L(e.path),u=e.Dc(s);if((n=n.children.get(s))&&u)var h=r?r.P(s):null,s=i.F(s),a=a.concat(qg(t,u,n,h,s));return o&&(a=a.concat(o.bb(e,i,r))),a}function rg(t,e,n,r,i){var o=n.get(P);null==r&&null!=o&&(r=o.fb(P));var a=[];return n.children.na(function(n,o){var s=r?r.P(n):null,u=i.F(n),h=e.Dc(n);h&&(a=a.concat(rg(t,h,o,s,u)))}),o&&(a=a.concat(o.bb(e,i,r))),a}function sg(){this.set={}}function tg(t,e){z(t.set,function(t,n){e(n,t)})}function Aa(){this.A=this.I=null}function ug(e,n){if(n.f())return e.I=null,e.A=null,!0;if(null!==e.I){if(e.I.R())return!1;var r=e.I;return e.I=null,r.Y(w,function(n,r){e.bc(new t(n),r)}),ug(e,n)}return null!==e.A?(r=L(n),n=M(n),e.A.contains(r)&&ug(e.A.get(r),n)&&e.A.remove(r),e.A.f()?(e.A=null,!0):!1):!0}function Ba(e,n,r){null!==e.I?r(n,e.I):e.Y(function(e,i){var o=new t(n.toString()+"/"+e);Ba(i,o,r)})}function xg(t,e,n){this.ye=t,this.j=Yb(this.ye),this.frames=null,this.we=this.xe=0,this.Of=e,this.Ic=jb(e),this.te=[],(this.Wf=0==pb.get("previous_websocket_failure"))||NODE_CLIENT||this.te.push("polling"),this.te.push("websocket"),this.eb=(e.zb?"https://":"http://")+e.Qa+"?v=1.0",!NODE_CLIENT&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("wilddogio.com")&&(this.eb+="&r=f"),e.host!==e.Qa&&(this.eb=this.eb+"&ns="+e.Wb),n&&(this.eb=this.eb+"&s="+n)}function zg(){pb.remove("previous_websocket_failure")}function Ag(t){t.Ke=!0,null!=t.Aa&&t.Aa.disconnect()}function yg(t){t.Ke||(t.j("WebSocket is closing itself"),Ag(t),t.Ac&&(t.Ac(t.Be),t.Ac=null))}function Bg(){Cg(this)}function Cg(t){var e=t.Ad=[];gc(Dg,function(t,n){n&&n.isAvailable()&&e.push(n)})}function Eg(t){if(0<t.Ad.length)return t.Ad[0];throw Error("No transports available")}function Fg(t,e,n,r,i,o){this.id=t,this.j=Yb("c:"+this.id+":"),this.jd=n,this.Cc=r,this.La=i,this.ee=o,this.L=e,this.ld=[],this.ze=0,this.$e=new Bg,this.Ua=0,this.j("Connection created"),Gg(this)}function Gg(t){var e=Eg(t.$e);t.W=new e("c:"+t.id+":"+t.ze++,t.L),t.he=e.responsesRequiredToBeHealthy||0;var n=Hg(t,t.W),r=Ig(t,t.W);t.Jc=t.W,t.Gc=t.W,t.M=null,t.sb=!1,setTimeout(function(){t.W&&t.W.open(n,r)},Math.floor(0)),e=e.healthyTimeout||0,e>0&&(t.Zc=setTimeout(function(){t.Zc=null,t.sb||(t.W&&102400<t.W.we?(t.j("Connection exceeded healthy timeout but has received "+t.W.we+" bytes.  Marking connection healthy."),t.sb=!0,zg()):t.W&&10240<t.W.xe?t.j("Connection exceeded healthy timeout but has sent "+t.W.xe+" bytes.  Leaving connection alive."):(t.j("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function Ig(t,e){return function(n){e===t.W?(t.W=null,n||0!==t.Ua?1===t.Ua&&t.j("Realtime connection lost."):(t.j("Realtime connection failed."),"s-"===t.L.Qa.substr(0,2)&&(pb.remove("host:"+t.L.host),t.L.Qa=t.L.host)),t.close()):e===t.M?(t.j("Secondary connection lost."),n=t.M,t.M=null,t.Jc!==n&&t.Gc!==n||t.close()):t.j("closing an old connection")}}function Hg(t,e){return function(n){if(2!=t.Ua)if(e===t.Gc){var r=ec("t",n);if(n=ec("d",n),"c"==r){if(r=ec("t",n),"d"in n)if(n=n.d,"h"===r){var r=n.ts,i=n.v,o=n.h;t.Qf=n.s,sb(t.L,o),0==t.Ua&&(t.W.start(),Jg(t,t.W,r),"1.0"!==i&&F("Protocol version mismatch detected"),n=t.$e,(n=1<n.Ad.length?n.Ad[1]:null)&&Kg(t,n))}else if("n"===r){for(t.j("recvd end transmission on primary"),t.Gc=t.M,n=0;n<t.ld.length;++n)t.gd(t.ld[n]);t.ld=[],Lg(t)}else"s"===r?(t.j("Connection shutdown command received. Shutting down..."),t.ee&&(t.ee(n),t.ee=null),t.La=null,t.close()):"r"===r?(t.j("Reset packet received.  New host: "+n),sb(t.L,n),1===t.Ua?t.close():(Mg(t),Gg(t))):"e"===r?Zb("Server Error: "+n):"o"===r?(t.j("got pong on primary."),Ng(t),Og(t)):Zb("Unknown control packet command: "+r)}else"d"==r&&t.gd(n)}else if(e===t.M)if(r=ec("t",n),n=ec("d",n),"c"==r)"t"in n&&(n=n.t,"a"===n?Pg(t):"r"===n?(t.j("Got a reset on secondary, closing it"),t.M.close(),t.Jc!==t.M&&t.Gc!==t.M||t.close()):"o"===n&&(t.j("got pong on secondary."),t.Ye--,Pg(t)));else{if("d"!=r)throw Error("Unknown protocol layer: "+r);t.ld.push(n)}else t.j("message on old connection")}}function Lg(t){t.Jc===t.M&&t.Gc===t.M&&(t.j("cleaning up and promoting a connection: "+t.M.ye),t.W=t.M,t.M=null)}function Pg(t){0>=t.Ye?(t.j("Secondary connection is healthy."),t.sb=!0,zg(),t.M.start(),t.j("sending client ack on secondary"),t.M.send({t:"c",d:{t:"a",d:{}}}),t.j("Ending transmission on primary"),t.W.send({t:"c",d:{t:"n",d:{}}}),t.Jc=t.M,Lg(t)):(t.j("sending ping on secondary."),t.M.send({t:"c",d:{t:"p",d:{}}}))}function Ng(t){t.sb||(t.he--,0>=t.he&&(t.j("Primary connection is healthy."),t.sb=!0,zg()))}function Kg(t,e){t.M=new e("c:"+t.id+":"+t.ze++,t.L,t.Qf),t.Ye=e.responsesRequiredToBeHealthy||0,t.M.open(Hg(t,t.M),Ig(t,t.M)),setTimeout(function(){t.M&&(t.j("Timed out trying to upgrade."),t.M.close())},Math.floor(6e4))}function Jg(t,e,n){t.j("Realtime connection established."),t.W=e,t.Ua=1,t.Cc&&(t.Cc(n),t.Cc=null),0===t.he?(t.j("Primary connection is healthy."),t.sb=!0):setTimeout(function(){Og(t)},Math.floor(5e3))}function Og(t){t.sb||1!==t.Ua||(t.j("sending ping on primary."),Qg(t,{t:"c",d:{t:"p",d:{}}}))}function Qg(t,e){if(1!==t.Ua)throw"Connection is not connected";t.Jc.send(e)}function Mg(t){t.j("Shutting down all connections"),t.W&&(t.W.close(),t.W=null),t.M&&(t.M.close(),t.M=null),t.Zc&&(clearTimeout(t.Zc),t.Zc=null)}function Rg(){ce.call(this,["visible"]);var t,e;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(e="visibilitychange",t="hidden"):"undefined"!=typeof document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):"undefined"!=typeof document.msHidden?(e="msvisibilitychange",t="msHidden"):"undefined"!=typeof document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.ic=!0,e){var n=this;document.addEventListener(e,function(){var e=!document[t];e!==n.ic&&(n.ic=e,n.ta("visible",e))},!1)}}function Sg(){if(ce.call(this,["online"]),this.g=!0,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var t=this;window.addEventListener("online",function(){t.g||(t.g=!0,t.ta("online",!0))},!1),window.addEventListener("offline",function(){t.g&&(t.g=!1,t.ta("online",!1))},!1)}}function Tg(t,e,n,r){this.id=Tg.o++,this.j=Yb("p:"+this.id+":"),this.Me=this.Xd=!1,this.ha={},this.ua=[],this.Ec=0,this.Bc=[],this.ra=!1,this.Za=1e3,this.ed=3e5,this.vb=e,this.zc=n,this.fe=r,this.L=t,this.ne=null,this.qd={},this.Pf=0,this.De=!0,this.sc=this.Yd=null,Ug(this,0),Rg.mb().ub("visible",this.Kf,this),-1===t.host.indexOf("wd.ocal")&&Sg.mb().ub("online",this.If,this)}function Vg(t,e){var n=e.Lf,r=n.path.toString(),i=n.Ba();t.j("Listen on "+r+" for "+i);var o={p:r};e.tag&&(o.q=Wg(n.C),o.t=e.tag),o.h=e.Yc(),t.Ia("q",o,function(o){var a=o.d,s=o.s;if(a&&"object"==typeof a&&A(a,"w")){var u=B(a,"w");ea(u)&&0<=Ea(u,"no_index")&&F("Using an unspecified index. Consider adding "+('".indexOn": "'+n.C.m.toString()+'"')+" at "+n.path.toString()+" to your security rules for better performance")}(t.ha[r]&&t.ha[r][i])===e&&(t.j("listen response",o),"ok"!==s&&Xg(t,r,i),e.S&&e.S(s,a))})}function Yg(t){var e=t.Ja;t.ra&&e&&t.Ia("auth",{cred:e.uf},function(n){var r=n.s;n=n.d||"error","ok"!==r&&t.Ja===e&&delete t.Ja,e.Ee?"ok"!==r&&e.Lc&&e.Lc(r,n):(e.Ee=!0,e.mc&&e.mc(r,n))})}function Zg(t,e,n,r,i){n={p:n,d:r},t.j("onDisconnect "+e,n),t.Ia(e,n,function(t){i&&setTimeout(function(){i(t.s,t.d)},Math.floor(0))})}function $g(t,e,r,i,o,a){i={p:r,d:i},n(a)&&(i.h=a),t.ua.push({action:e,We:i,S:o}),t.Ec++,e=t.ua.length-1,t.ra?ah(t,e):t.j("Buffering put: "+r)}function ah(t,e){var n=t.ua[e].action,r=t.ua[e].We,i=t.ua[e].S;t.ua[e].Mf=t.ra,t.Ia(n,r,function(r){t.j(n+" response",r),delete t.ua[e],t.Ec--,0===t.Ec&&(t.ua=[]),i&&i(r.s,r.d)})}function Ug(t,e){r(!t.Ta,"Scheduling a connect when we're already connected/ing?"),t.Jb&&clearTimeout(t.Jb),t.Jb=setTimeout(function(){t.Jb=null,dh(t)},Math.floor(e))}function dh(t){if(eh(t)){t.j("Making a connection attempt"),t.Yd=(new Date).getTime(),t.sc=null;var e=q(t.gd,t),n=q(t.Cc,t),r=q(t.Re,t),i=t.id+":"+Tg.g++;t.Ta=new Fg(i,t.L,e,n,r,function(e){F(e+" ("+t.L.toString()+")"),t.Me=!0})}}function bh(t,e,n){n=n?Ha(n,function(t){return fc(t)}).join("$"):"default",(t=Xg(t,e,n))&&t.S&&t.S("permission_denied")}function Xg(e,r,i){r=new t(r).toString();var o;return n(e.ha[r])?(o=e.ha[r][i],delete e.ha[r][i],0===Sa(e.ha[r])&&delete e.ha[r]):o=void 0,o}function ch(t){Yg(t),z(t.ha,function(e){z(e,function(e){Vg(t,e)})});for(var e=0;e<t.ua.length;e++)t.ua[e]&&ah(t,e);for(;t.Bc.length;)e=t.Bc.shift(),Zg(t,e.action,e.Zb,e.data,e.S)}function eh(t){var e;return e=Sg.mb().g,!t.Me&&!t.Xd&&e}function fh(){this.children={},this.Mc=0,this.value=null}function gh(t,e,n){this.o=t?t:"",this.g=e?e:null,this.H=n?n:new fh}function hh(e,n){for(var r,i=n instanceof t?n:new t(n),o=e;null!==(r=L(i));)o=new gh(r,o,B(o.H.children,r)||new fh),i=M(i);return o}function ih(t,e){r("undefined"!=typeof e,"Cannot set value to undefined"),t.H.value=e,jh(t)}function kh(t,e,n,r){n&&!r&&e(t),t.Y(function(t){kh(t,e,!0,r)}),n&&r&&e(t)}function lh(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function jh(t){if(null!==t.g){var e=t.g,n=t.o,r=t.f(),i=A(e.H.children,n);r&&i?(delete e.H.children[n],e.H.Mc--,jh(e)):r||i||(e.H.children[n]=t.H,e.H.Mc++,jh(e))}}function mh(t,e){this.L=t,this.Ic=jb(t),this.ja=new oa,this.fd=1,this.Sa=null,this.ea,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ea=new lc(this.L,q(this.vb,this)),setTimeout(q(this.zc,this,!0),0)):this.ea=this.Sa=new Tg(this.L,q(this.vb,this),q(this.zc,this),q(this.fe,this)),this.Uf=kb(t,q(function(){return new gb(this.Ic,this.ea)},this)),this.hc=new gh,this.Vd=new Eb;var n=this;this.cd=new Zf({oe:function(t,e,r,i){return e=[],r=n.Vd.u(t.path),r.f()||(e=ag(n.cd,new ve(Ee,t.path,r)),setTimeout(function(){i("ok")},0)),e},wd:ba}),nh(this,"connected",!1),this.La=new Aa,this.V=new ge(t,q(this.ea.V,this.ea),q(this.ea.Bd,this.ea),q(this.ce,this)),this.Sc=0,this.Wd=null,this.T=new Zf({oe:function(t,e,r,i){return n.ea.Ne(t,r,e,function(e,r){var o=i(e,r);ta(n.ja,t.path,o)}),[]},wd:function(t,e){n.ea.af(t,e)}})}function oh(e){return e=e.Vd.u(new t(".info/serverTimeOffset")).N()||0,(new Date).getTime()+e}function ph(t){return t=t={timestamp:oh(t)},t.timestamp=t.timestamp||(new Date).getTime(),t}function nh(e,n,r){n=new t("/.info/"+n),r=u(r);var i=e.Vd;i.rd=i.rd.K(n,r),r=ag(e.cd,new ve(Ee,n,r)),ta(e.ja,n,r)}function rh(t){t.j("onDisconnectEvents");var e=ph(t),n=[];Ba(za(t.La,e),P,function(e,r){n=n.concat(ag(t.T,new ve(Ee,e,r)));var i=th(t,e);qh(t,i)}),t.La=new Aa,ta(t.ja,P,n)}function uh(t,e,n,r){var i=u(n);t.ea.de(e.toString(),i.N(!0),function(n,o){"ok"===n&&t.La.bc(e,i),sh(r,n,o)})}function vh(t,e,n,r,i){var o=u(n,r);t.ea.de(e.toString(),o.N(!0),function(n,r){"ok"===n&&t.La.bc(e,o),sh(i,n,r)})}function wh(t,e,n,r){var i,o=!0;for(i in n)o=!1;o?(va("onDisconnect().update() called with empty data.  Don't do anything."),sh(r,"ok")):t.ea.Qe(e.toString(),n,function(i,o){if("ok"===i)for(var a in n){var s=u(n[a]);t.La.bc(e.F(a),s)}sh(r,i,o)})}function xh(t,e,n){n=".info"===L(e.path)?t.cd.Eb(e,n):t.T.Eb(e,n),ra(t.ja,e.path,n)}function sh(t,e,n){t&&wa(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n),i=Error(i),i.code=r,t(i)}})}function yh(t,e,i,o,a){function s(){}t.j("transaction on "+e);var h=new E(t,e);if(h.ub("value",s),i={path:e,update:i,S:o,status:null,Te:Sb(),ve:a,Xe:0,Cd:function(){h.Xb("value",s)},Gd:null,Ea:null,Pc:null,Qc:null,Rc:null},o=t.T.za(e,void 0)||D,i.Pc=o,o=i.update(o.N()),n(o)){wd("transaction failed: Data returned ",o,i.path),i.status=1,a=hh(t.hc,e);var c=a.Fa()||[];c.push(i),ih(a,c),"object"==typeof o&&null!==o&&A(o,".priority")?(c=B(o,".priority"),r(ud(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(t.T.za(e)||D).G().N(),a=ph(t),o=u(o,c),a=Ca(o,a),i.Qc=o,i.Rc=a,i.Ea=t.fd++,i=$f(t.T,e,a,i.Ea,i.ve),ta(t.ja,e,i),zh(t)}else i.Cd(),i.Qc=null,i.Rc=null,i.S&&(t=new T(i.Pc,new E(t,i.path),w),i.S(null,!1,t))}function zh(t,e){var n=e||t.hc;if(e||Ah(t,n),null!==n.Fa()){var i=Bh(t,n);r(0<i.length,"Sending zero length transaction queue"),Ja(i,function(t){return 1===t.status})&&Ch(t,n.path(),i)}else n.Xc()&&n.Y(function(e){zh(t,e)})}function Ch(t,e,n){for(var i=Ha(n,function(t){return t.Ea}),o=t.T.za(e,i)||D,i=o,o=o.hash(),a=0;a<n.length;a++){var s=n[a];r(1===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=2,s.Xe++;var u=O(e,s.path),i=i.K(u,s.Qc)}i=i.N(!0),t.ea.put(e.toString(),i,function(r){t.j("transaction put response",{path:e.toString(),status:r});var i=[];if("ok"===r){for(r=[],a=0;a<n.length;a++){if(n[a].status=3,i=i.concat(cg(t.T,n[a].Ea)),n[a].S){var o=n[a].Rc,s=new E(t,n[a].path);r.push(q(n[a].S,null,null,!0,new T(o,s,w)))}n[a].Cd()}for(Ah(t,hh(t.hc,e)),zh(t),ta(t.ja,e,i),a=0;a<r.length;a++)wa(r[a])}else{if("datastale"===r)for(a=0;a<n.length;a++)n[a].status=4===n[a].status?5:1;else for(F("transaction at "+e.toString()+" failed: "+r),a=0;a<n.length;a++)n[a].status=5,n[a].Gd=r;qh(t,e)}},o)}function qh(t,e){var n=Dh(t,e),r=n.path(),n=Bh(t,n);return Eh(t,n,r),r}function Eh(t,e,i){if(0!==e.length){for(var o=[],a=[],s=Ha(e,function(t){return t.Ea}),h=0;h<e.length;h++){var c,f=e[h],l=O(i,f.path),p=!1;if(r(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),5===f.status)p=!0,c=f.Gd,a=a.concat(cg(t.T,f.Ea,!0));else if(1===f.status)if(25<=f.Xe)p=!0,c="maxretry",a=a.concat(cg(t.T,f.Ea,!0));else{var d=t.T.za(f.path,s)||D;f.Pc=d;var g=e[h].update(d.N());n(g)?(wd("transaction failed: Data returned ",g,f.path),l=u(g),"object"==typeof g&&null!=g&&A(g,".priority")||(l=l.fa(d.G())),d=f.Ea,g=ph(t),g=Ca(l,g),f.Qc=l,f.Rc=g,f.Ea=t.fd++,Ma(s,d),a=a.concat($f(t.T,f.path,g,f.Ea,f.ve)),a=a.concat(cg(t.T,d,!0))):(p=!0,c="nodata",a=a.concat(cg(t.T,f.Ea,!0)))}ta(t.ja,i,a),a=[],p&&(e[h].status=3,setTimeout(e[h].Cd,Math.floor(0)),e[h].S&&("nodata"===c?(f=new E(t,e[h].path),o.push(q(e[h].S,null,null,!1,new T(e[h].Pc,f,w)))):o.push(q(e[h].S,null,Error(c),!1,null))))}for(Ah(t,t.hc),h=0;h<o.length;h++)wa(o[h]);zh(t)}}function Dh(t,e){for(var n,r=t.hc;null!==(n=L(e))&&null===r.Fa();)r=hh(r,n),e=M(e);return r}function Bh(t,e){var n=[];return Fh(t,e,n),n.sort(function(t,e){return t.Te-e.Te}),n}function Fh(t,e,n){var r=e.Fa();if(null!==r)for(var i=0;i<r.length;i++)n.push(r[i]);e.Y(function(e){Fh(t,e,n)})}function Ah(t,e){var n=e.Fa();if(n){for(var r=0,i=0;i<n.length;i++)3!==n[i].status&&(n[r]=n[i],r++);n.length=r,ih(e,0<n.length?n:null)}e.Y(function(e){Ah(t,e)})}function th(t,e){var n=Dh(t,e).path(),r=hh(t.hc,e);return lh(r,function(e){Gh(t,e)}),Gh(t,r),kh(r,function(e){Gh(t,e)}),n}function Gh(t,e){var n=e.Fa();if(null!==n){for(var i=[],o=[],a=-1,s=0;s<n.length;s++)4!==n[s].status&&(2===n[s].status?(r(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=4,n[s].Gd="set"):(r(1===n[s].status,"Unexpected transaction status in abort"),n[s].Cd(),o=o.concat(cg(t.T,n[s].Ea,!0)),n[s].S&&i.push(q(n[s].S,null,Error("set"),!1,null))));for(-1===a?ih(e,null):n.length=a+1,ta(t.ja,e.path(),o),s=0;s<i.length;s++)wa(i[s])}}function Hh(){this.cc={},this.bf=!1}function pf(t){this.m=t}function rf(t){this.Ud=new pf(t.m),this.m=t.m;var e;t.qa?(e=Kh(t),e=t.m.uc(Lh(t),e)):e=t.m.yc(),this.Hc=e,t.sa?(e=Mh(t),t=t.m.uc(Nh(t),e)):t=t.m.vc(),this.qc=t}function qf(t){this.wa=new rf(t),this.m=t.m,r(t.oa,"Only valid if limit has been set"),this.pa=t.pa,this.yb=!Oh(t)}function Ph(t,e,n,i,o,a){var s;if(t.yb){var u=Kc(t.m);s=function(t,e){return u(e,t)}}else s=Kc(t.m);r(e.hb()==t.pa,"");var h=new J(n,i),c=t.yb?fd(e,t.m):gd(e,t.m),f=t.wa.matches(h);if(e.Ga(n)){var l=e.P(n),c=o.Qd(t.m,c,t.yb);return null!=c&&c.name==n&&(c=o.Qd(t.m,c,t.yb)),o=null==c?1:s(c,h),f&&!i.f()&&o>=0?(null!=a&&Jh(a,new V("child_changed",i,n,l)),e.U(n,i)):(null!=a&&Jh(a,new V("child_removed",l,n)),e=e.U(n,D),null!=c&&t.wa.matches(c)?(null!=a&&Jh(a,new V("child_added",c.node,c.name)),e.U(c.name,c.node)):e)}return i.f()?e:f&&0<=s(c,h)?(null!=a&&(Jh(a,new V("child_removed",c.node,c.name)),Jh(a,new V("child_added",i,n))),e.U(n,i).U(c.name,D)):e}function cf(){this.cb={}}function Jh(t,e){var n=e.type,i=e.Xa;r("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),r(".priority"!==i,"Only non-priority child changes can be tracked.");var o=B(t.cb,i);if(o){var a=o.type;if("child_added"==n&&"child_removed"==a)t.cb[i]=new V("child_changed",e.Na,i,o.Na);else if("child_removed"==n&&"child_added"==a)delete t.cb[i];else if("child_removed"==n&&"child_changed"==a)t.cb[i]=new V("child_removed",o.be,i);else if("child_changed"==n&&"child_added"==a)t.cb[i]=new V("child_added",e.Na,i);else{if("child_changed"!=n||"child_changed"!=a)throw Tb("Illegal combination of changes: "+e+" occurred after "+o);t.cb[i]=new V("child_changed",e.Na,i,o.be)}}else t.cb[i]=e}function Qh(){this.Ib=this.sa=this.Bb=this.qa=this.oa=!1,this.pa=0,this.Db="",this.Sb=null,this.qb="",this.Pb=null,this.ob="",this.m=w}function Oh(t){return""===t.Db?t.qa:"l"===t.Db}function Lh(t){return r(t.qa,"Only valid if start has been set"),t.Sb}function Kh(t){return r(t.qa,"Only valid if start has been set"),t.Bb?t.qb:"[MIN_NAME]"}function Nh(t){return r(t.sa,"Only valid if end has been set"),t.Pb}function Mh(t){return r(t.sa,"Only valid if end has been set"),t.Ib?t.ob:"[MAX_NAME]"}function Sh(t){var e=new Qh;return e.oa=t.oa,e.pa=t.pa,e.qa=t.qa,e.Sb=t.Sb,e.Bb=t.Bb,e.qb=t.qb,e.sa=t.sa,e.Pb=t.Pb,e.Ib=t.Ib,e.ob=t.ob,e.m=t.m,e}function Th(t,e){var n=Sh(t);return n.m=e,n}function Wg(t){var e={};if(t.qa&&(e.sp=t.Sb,t.Bb&&(e.sn=t.qb)),t.sa&&(e.ep=t.Pb,t.Ib&&(e.en=t.ob)),t.oa){e.l=t.pa;var n=t.Db;""===n&&(n=Oh(t)?"l":"r"),e.vf=n}return t.m!==w&&(e.i=t.m.toString()),e}function nc(t){return!(t.qa||t.sa||t.oa)}function oc(t){var e={};if(nc(t)&&t.m==w)return e;var n;return t.m===w?n="$priority":t.m===Tc?n="$value":t.m===Qc?n="$key":(r(t.m instanceof Mc,"Unrecognized index type!"),n=t.m.toString()),e.orderBy=C(n),t.qa&&(e.startAt=C(t.Sb),t.Bb&&(e.startAt+=","+C(t.qb))),t.sa&&(e.endAt=C(t.Pb),t.Ib&&(e.endAt+=","+C(t.ob))),t.oa&&(Oh(t)?e.limitToFirst=t.pa:e.limitToLast=t.pa),e}function X(t,e,n,r){this.w=t,this.path=e,this.C=n,this.Yb=r}function Uh(t){var e=null,n=null;if(t.qa&&(e=Lh(t)),t.sa&&(n=Nh(t)),t.m===Qc){if(t.qa){if("[MIN_NAME]"!=Kh(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.sa){if("[MAX_NAME]"!=Mh(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.m===w){if(null!=e&&!ud(e)||null!=n&&!ud(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(r(t.m instanceof Mc||t.m===Tc,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function Vh(t){if(t.qa&&t.sa&&t.oa&&(!t.oa||""===t.Db))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function Wh(t,e){if(!0===t.Yb)throw Error(e+": You can't combine multiple orderBy calls.")}function Xh(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,S(t,3,r.cancel,!0),r.context=n,qd(t,4,r.context);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw Error(R(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r}function Y(t,e){this.Fc=t,this.va=e}function Yh(t){var e=this;if(this.nc=t,this.yd="*",Wd()?this.wc=this.$c=Md():(this.wc=window.opener,this.$c=window),!e.wc)throw"Unable to find relay frame";Nd(this.$c,"message",q(this.jd,this)),Nd(this.$c,"message",q(this.Pe,this));try{Zh(this,{a:"ready"})}catch(n){Nd(this.wc,"load",function(){Zh(e,{a:"ready"})})}Nd(window,"unload",q(this.Jf,this))}function Zh(t,e){e=C(e),Wd()?t.wc.doPost(e,t.yd):t.wc.postMessage(e,t.yd)}function E(e,n){var r,i,o;if(e instanceof mh)r=e,i=n;else{Q("new Wilddog",1,2,arguments.length),i=ac(arguments[0]),r=i.Vf,"wilddog"===i.domain&&$b(i.host+" is no longer supported. Please use <YOUR WILDDOG>.wilddogio.com instead"),r||$b("Cannot parse Wilddog url. Please use https://<YOUR WILDDOG>.wilddogio.com"),i.zb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&F("Insecure Wilddog access from a secure page. Please use https in calls to new Wilddog()."),r=new rb(i.host,i.zb,r),i=new t(i.Zb),o=i.toString();var a;if(!(a=!p(r.host)||0===r.host.length||!td(r.Wb))&&(a=0!==o.length)&&(o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),a=!(p(o)&&0!==o.length&&!sd.test(o))),a)throw Error(R("new Wilddog",1,!1)+'must be a valid wilddog URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(n)if(n instanceof Hh)o=n;else{if(!p(n))throw Error("Expected a valid Wilddog.Context for second argument to new Wilddog()");o=Hh.mb(),r.md=n}else o=Hh.mb();a=r.toString();var s=B(o.cc,a);s||(s=new mh(r,o.bf),o.cc[a]=s),r=s}X.call(this,r,i,Rh,!1)}var h,aa=this,la=Date.now||function(){return+new Date},na={};qa.prototype.add=function(t){this.Vc.push(t)},qa.prototype.nb=function(){return this.va};var x=Array.prototype,Ea=x.indexOf?function(t,e,n){return x.indexOf.call(t,e,n)}:function(t,e,n){if(n=null==n?0:0>n?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Fa=x.forEach?function(t,e,n){x.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)o in i&&e.call(n,i[o],o,t)},Ga=x.filter?function(t,e,n){return x.filter.call(t,e,n);
}:function(t,e,n){for(var r=t.length,i=[],o=0,a=p(t)?t.split(""):t,s=0;r>s;s++)if(s in a){var u=a[s];e.call(n,u,s,t)&&(i[o++]=u)}return i},Ha=x.map?function(t,e,n){return x.map.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=Array(r),o=p(t)?t.split(""):t,a=0;r>a;a++)a in o&&(i[a]=e.call(n,o[a],a,t));return i},Ia=x.reduce?function(t,e,n,r){return r&&(e=q(e,r)),x.reduce.call(t,e,n)}:function(t,e,n,r){var i=n;return Fa(t,function(n,o){i=e.call(r,i,n,o,t)}),i},Ja=x.every?function(t,e,n){return x.every.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=p(t)?t.split(""):t,o=0;r>o;o++)if(o in i&&!e.call(n,i[o],o,t))return!1;return!0},ab="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");eb.prototype.get=function(){return $a(this.oc)},fb.prototype.get=function(){var t=this.sf.get(),e=$a(t);if(this.dd)for(var n in this.dd)e[n]-=this.dd[n];return this.dd=t,e},gb.prototype.Ve=function(){var t,e=this.vd.get(),n={},r=!1;for(t in e)0<e[t]&&A(this.Ze,t)&&(n[t]=e[t],r=!0);r&&this.ea.je(n),setTimeout(q(this.Ve,this),Math.floor(6e5*Math.random()))};var hb={},ib={};h=lb.prototype,h.set=function(t,e){null==e?this.pc.removeItem(this.nd+t):this.pc.setItem(this.nd+t,C(e))},h.get=function(t){return t=this.pc.getItem(this.nd+t),null==t?null:mb(t)},h.remove=function(t){this.pc.removeItem(this.nd+t)},h.Le=!1,h.toString=function(){return this.pc.toString()},nb.prototype.set=function(t,e){null==e?delete this.kc[t]:this.kc[t]=e},nb.prototype.get=function(t){return A(this.kc,t)?this.kc[t]:null},nb.prototype.remove=function(t){delete this.kc[t]},nb.prototype.Le=!0;var pb=ob("localStorage"),qb=ob("sessionStorage");rb.prototype.toString=function(){var t=(this.zb?"https://":"http://")+this.host;return this.md&&(t+="<"+this.md+">"),t},ma(ub,tb),ub.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var r=e-this.o,i=0,o=this.Va,a=this.Z;e>i;){if(0==a)for(;r>=i;)vb(this,t,i),i+=this.o;if(p(t)){for(;e>i;)if(o[a]=t.charCodeAt(i),++a,++i,a==this.o){vb(this,o),a=0;break}}else for(;e>i;)if(o[a]=t[i],++a,++i,a==this.o){vb(this,o),a=0;break}}this.Z=a,this.Ha+=e}};var Ab={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},Bb=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;Eb.prototype.u=function(t){return this.rd.ma(t)},Eb.prototype.toString=function(){return this.rd.toString()};var Fb;t:{var Gb=aa.navigator;if(Gb){var Hb=Gb.userAgent;if(Hb){Fb=Hb;break t}}Fb=""}var Jb=Ib("Opera")||Ib("OPR"),Kb=Ib("Edge")||Ib("Trident")||Ib("MSIE"),Lb=!(!Ib("Gecko")||-1!=Fb.toLowerCase().indexOf("webkit")&&!Ib("Edge")||Ib("Trident")||Ib("MSIE")||Ib("Edge")),Mb=-1!=Fb.toLowerCase().indexOf("webkit")&&!Ib("Edge");!function(){if(Jb&&aa.opera){var t=aa.opera.version;return ha(t)?t():t}var t="",e=Nb();return e&&(t=e?e[1]:""),Kb&&!Ib("Edge")&&(e=(e=aa.document)?e.documentMode:void 0,e>parseFloat(t))?String(e):t}();var Ob=null,Pb=null,Qb=null,Sb=function(){var t=1;return function(){return t++}}(),ua=null,Xb=!0,ic=/^-?\d{1,10}$/;h=lc.prototype,h.Ne=function(t,e,n,r){var i=t.path.toString();this.j("Listen called for "+i+" "+t.Ba());var o=mc(t,n),a={};this.ha[o]=a,t=oc(t.C);var s=this;pc(this,i+".json",t,function(t,e){var u=e;404===t&&(t=u=null),null===t&&s.vb(i,u,!1,n),B(s.ha,o)===a&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.af=function(t,e){var n=mc(t,e);delete this.ha[n]},h.V=function(t,e){this.Ja=t;var n=jc(t),r=n.data,n=n.Nc&&n.Nc.exp;e&&e("ok",{auth:r,expires:n})},h.Bd=function(t){this.Ja=null,t("ok",null)},h.de=function(){},h.Qe=function(){},h.hd=function(){},h.put=function(){},h.Oe=function(){},h.je=function(){},{}.Xf,h=qc.prototype,h.Pa=function(t,e){return new qc(this.o,this.g.Pa(t,e,this.o).ba(null,null,sc,null,null))},h.remove=function(t){return new qc(this.o,this.g.remove(t,this.o).ba(null,null,sc,null,null))},h.get=function(t){for(var e,n=this.g;!n.f();){if(e=this.o(t,n.key),0===e)return n.value;0>e?n=n.left:e>0&&(n=n.right)}return null},h.f=function(){return this.g.f()},h.count=function(){return this.g.count()},h.xc=function(){return this.g.xc()},h.Vb=function(){return this.g.Vb()},h.na=function(t){return this.g.na(t)},h.Mb=function(t){return new uc(this.g,null,this.o,!1,t)},h.Nb=function(t,e){return new uc(this.g,t,this.o,!1,e)},h.Ob=function(t,e){return new uc(this.g,t,this.o,!0,e)},h.Ie=function(t){return new uc(this.g,null,this.o,!0,t)};var xc=!0,sc=!1;h=wc.prototype,h.ba=function(t,e,n,r,i){return new wc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.f=function(){return!1},h.na=function(t){return this.left.na(t)||t(this.key,this.value)||this.right.na(t)},h.xc=function(){return yc(this).key},h.Vb=function(){return this.right.f()?this.key:this.right.Vb()},h.Pa=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=0>r?i.ba(null,null,null,i.left.Pa(t,e,n),null):0===r?i.ba(null,e,null,null,null):i.ba(null,null,null,null,i.right.Pa(t,e,n)),zc(i)},h.remove=function(t,e){var n,r;if(n=this,0>e(t,n.key))n.left.f()||n.left.ka()||n.left.left.ka()||(n=Bc(n)),n=n.ba(null,null,null,n.left.remove(t,e),null);else{if(n.left.ka()&&(n=Cc(n)),n.right.f()||n.right.ka()||n.right.left.ka()||(n=Dc(n),n.left.left.ka()&&(n=Cc(n),n=Dc(n))),0===e(t,n.key)){if(n.right.f())return rc;r=yc(n.right),n=n.ba(r.key,r.value,null,null,Ac(n.right))}n=n.ba(null,null,null,null,n.right.remove(t,e))}return zc(n)},h.ka=function(){return this.color},h=Fc.prototype,h.ba=function(){return this},h.Pa=function(t,e){return new wc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.f=function(){return!0},h.na=function(){return!1},h.xc=function(){return null},h.Vb=function(){return null},h.ka=function(){return!1};var rc=new Fc;Ic.g;var Jc={};Ic.prototype.ad=function(t,e){return 0!==this.compare(new J("[MIN_NAME]",t),new J("[MIN_NAME]",e))},Ic.prototype.yc=function(){return Lc},ma(Mc,Ic),h=Mc.prototype,h.rc=function(t){return!t.P(this.Qb).f()},h.compare=function(t,e){var n=t.node.P(this.Qb),r=e.node.P(this.Qb),n=n.Hb(r);return 0===n?cc(t.name,e.name):n},h.uc=function(t,e){var n=u(t),n=D.U(this.Qb,n);return new J(e,n)},h.vc=function(){var t=D.U(this.Qb,Nc);return new J("[MAX_NAME]",t)},h.toString=function(){return this.Qb},ma(Oc,Ic),h=Oc.prototype,h.compare=function(t,e){var n=t.node.G(),r=e.node.G(),n=n.Hb(r);return 0===n?cc(t.name,e.name):n},h.rc=function(t){return!t.G().f()},h.ad=function(t,e){return!t.G().ca(e.G())},h.yc=function(){return Lc},h.vc=function(){return new J("[MAX_NAME]",new Da("[PRIORITY-POST]",Nc))},h.uc=function(t,e){var n=u(t);return new J(e,new Da("[PRIORITY-POST]",n))},h.toString=function(){return".priority"};var w=new Oc;ma(Pc,Ic),h=Pc.prototype,h.compare=function(t,e){return cc(t.name,e.name)},h.rc=function(){throw Tb("KeyIndex.isDefinedOn not expected to be called.")},h.ad=function(){return!1},h.yc=function(){return Lc},h.vc=function(){return new J("[MAX_NAME]",D)},h.uc=function(t){return r(p(t),"KeyIndex indexValue must always be a string."),new J(t,D)},h.toString=function(){return".key"};var Qc=new Pc;ma(Rc,Ic),h=Rc.prototype,h.compare=function(t,e){var n=t.node.Hb(e.node);return 0===n?cc(t.name,e.name):n},h.rc=function(){return!0},h.ad=function(t,e){return!t.ca(e)},h.yc=function(){return Lc},h.vc=function(){return Sc},h.uc=function(t,e){var n=u(t);return new J(e,n)},h.toString=function(){return".value"};var Tc=new Rc;K.prototype.R,K.prototype.G,K.prototype.fa,K.prototype.P,K.prototype.ma,K.prototype.Sd,K.prototype.U,K.prototype.K,K.prototype.Ga,K.prototype.f,K.prototype.hb,K.prototype.N,K.prototype.hash,K.prototype.Hb,K.prototype.ca,K.prototype.ab,K.prototype.Tb,Vc.prototype.get=function(t){var e=B(this.bd,t);if(!e)throw Error("No index defined for "+t);return e===Jc?null:e};var Zc=new Vc({".priority":Jc},{".priority":w});h=Da.prototype,h.R=function(){return!0},h.G=function(){return this.ia},h.fa=function(t){return new Da(this.I,t)},h.P=function(t){return".priority"===t?this.ia:D},h.ma=function(t){return t.f()?this:".priority"===L(t)?this.ia:D},h.Ga=function(){return!1},h.Sd=function(){return null},h.U=function(t,e){return".priority"===t?this.fa(e):e.f()&&".priority"!==t?this:D.U(t,e).fa(this.ia)},h.K=function(t,e){var n=L(t);return null===n?e:e.f()&&".priority"!==n?this:(r(".priority"!==n||1===ad(t),".priority must be the last token in a path"),this.U(n,D.K(M(t),e)))},h.f=function(){return!1},h.hb=function(){return 0},h.N=function(t){return t&&!this.G().f()?{".value":this.Fa(),".priority":this.G().N()}:this.Fa()},h.hash=function(){if(null===this.tb){var t="";this.ia.f()||(t+="priority:"+bd(this.ia.N())+":");var e=typeof this.I,t=t+(e+":"),t="number"===e?t+hc(this.I):t+this.I;this.tb=Vb(t)}return this.tb},h.Fa=function(){return this.I},h.Hb=function(t){if(t===D)return 1;if(t instanceof N)return-1;r(t.R(),"Unknown node type");var e=typeof t.I,n=typeof this.I,i=Ea(cd,e),o=Ea(cd,n);return r(i>=0,"Unknown leaf type: "+e),r(o>=0,"Unknown leaf type: "+n),i===o?"object"===n?0:this.I<t.I?-1:this.I===t.I?0:1:o-i};var cd=["object","boolean","number","string"];Da.prototype.ab=function(){return this},Da.prototype.Tb=function(){return!0},Da.prototype.ca=function(t){return t===this?!0:t.R()?this.I===t.I&&this.ia.ca(t.ia):!1},Da.prototype.toString=function(){return C(this.N(!0))},h=N.prototype,h.R=function(){return!1},h.G=function(){return this.ia||D},h.fa=function(t){return this.A.f()?this:new N(this.A,t,this.pb)},h.P=function(t){return".priority"===t?this.G():(t=this.A.get(t),null===t?D:t)},h.ma=function(t){var e=L(t);return null===e?this:this.P(e).ma(M(t))},h.Ga=function(t){return null!==this.A.get(t)},h.U=function(t,e){if(r(e,"We should always be passing snapshot nodes"),".priority"===t)return this.fa(e);var n,i,o=new J(t,e);return e.f()?(n=this.A.remove(t),o=Yc(this.pb,o,this.A)):(n=this.A.Pa(t,e),o=Wc(this.pb,o,this.A)),i=n.f()?D:this.ia,new N(n,i,o)},h.K=function(t,e){var n=L(t);if(null===n)return e;r(".priority"!==L(t)||1===ad(t),".priority must be the last token in a path");var i=this.P(n).K(M(t),e);return this.U(n,i)},h.f=function(){return this.A.f()},h.hb=function(){return this.A.count()};var dd=/^(0|[1-9]\d*)$/;h=N.prototype,h.N=function(t){if(this.f())return null;var e={},n=0,r=0,i=!0;if(this.Y(w,function(o,a){e[o]=a.N(t),n++,i&&dd.test(o)?r=Math.max(r,Number(o)):i=!1}),!t&&i&&2*n>r){var o,a=[];for(o in e)a[o]=e[o];return a}return t&&!this.G().f()&&(e[".priority"]=this.G().N()),e},h.hash=function(){if(null===this.tb){var t="";this.G().f()||(t+="priority:"+bd(this.G().N())+":"),this.Y(w,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.tb=""===t?"":Vb(t)}return this.tb},h.Sd=function(t,e,n){return(n=ed(this,n))?(t=tc(n,new J(t,e)))?t.name:null:tc(this.A,t)},h.Y=function(t,e){var n=ed(this,t);return n?n.na(function(t){return e(t.name,t.node)}):this.A.na(e)},h.Mb=function(t){return this.Nb(t.yc(),t)},h.Nb=function(t,e){var n=ed(this,e);if(n)return n.Nb(t,function(t){return t});for(var n=this.A.Nb(t.name,Uc),r=vc(n);null!=r&&0>e.compare(r,t);)I(n),r=vc(n);return n},h.Ie=function(t){return this.Ob(t.vc(),t)},h.Ob=function(t,e){var n=ed(this,e);if(n)return n.Ob(t,function(t){return t});for(var n=this.A.Ob(t.name,Uc),r=vc(n);null!=r&&0<e.compare(r,t);)I(n),r=vc(n);return n},h.Hb=function(t){return this.f()?t.f()?0:-1:t.R()||t.f()?1:t===Nc?-1:0},h.ab=function(t){if(t===Qc||Wa(this.pb.Rb,t.toString()))return this;var e=this.pb,n=this.A;r(t!==Qc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],o=!1,n=n.Mb(Uc),a=I(n);a;)o=o||t.rc(a.node),i.push(a),a=I(n);var s;return s=o?Xc(i,Kc(t)):Jc,i=t.toString(),o=$a(e.Rb),o[i]=t,t=$a(e.bd),t[i]=s,new N(this.A,this.ia,new Vc(t,o))},h.Tb=function(t){return t===Qc||Wa(this.pb.Rb,t.toString())},h.ca=function(t){if(t===this)return!0;if(t.R())return!1;if(this.G().ca(t.G())&&this.A.count()===t.A.count()){var e=this.Mb(w);t=t.Mb(w);for(var n=I(e),r=I(t);n&&r;){if(n.name!==r.name||!n.node.ca(r.node))return!1;n=I(e),r=I(t)}return null===n&&null===r}return!1},h.toString=function(){return C(this.N(!0))};var hd=Math.log(2),D=new N(new qc(Hc),null,Zc);ma(kd,N),h=kd.prototype,h.Hb=function(t){return t===this?0:1},h.ca=function(t){return t===this},h.G=function(){return this},h.P=function(){return D},h.f=function(){return!1};var Nc=new kd,Lc=new J("[MIN_NAME]",D),Sc=new J("[MAX_NAME]",Nc);h=t.prototype,h.toString=function(){for(var t="",e=this.da;e<this.B.length;e++)""!==this.B[e]&&(t+="/"+this.B[e]);return t||"/"},h.slice=function(t){return this.B.slice(this.da+(t||0))},h.parent=function(){if(this.da>=this.B.length)return null;for(var e=[],n=this.da;n<this.B.length-1;n++)e.push(this.B[n]);return new t(e,0)},h.F=function(e){for(var n=[],r=this.da;r<this.B.length;r++)n.push(this.B[r]);if(e instanceof t)for(r=e.da;r<e.B.length;r++)n.push(e.B[r]);else for(e=e.split("/"),r=0;r<e.length;r++)0<e[r].length&&n.push(e[r]);return new t(n,0)},h.f=function(){return this.da>=this.B.length},h.ca=function(t){if(ad(this)!==ad(t))return!1;for(var e=this.da,n=t.da;e<=this.B.length;e++,n++)if(this.B[e]!==t.B[n])return!1;return!0},h.contains=function(t){var e=this.da,n=t.da;if(ad(this)>ad(t))return!1;for(;e<this.B.length;){if(this.B[e]!==t.B[n])return!1;++e,++n}return!0};var P=new t("");md.prototype.push=function(t){0<this.o.length&&(this.g+=1),this.o.push(t),this.g+=nd(t),od(this)},md.prototype.pop=function(){var t=this.o.pop();this.g-=nd(t),0<this.o.length&&--this.g};var rd=/[\[\].#$\/\u0000-\u001F\u007F]/,sd=/[\[\].#$\u0000-\u001F\u007F]/;T.prototype.N=function(){return Q("Wilddog.DataSnapshot.val",0,0,arguments.length),this.H.N()},T.prototype.val=T.prototype.N,T.prototype.Ce=function(){return Q("Wilddog.DataSnapshot.exportVal",0,0,arguments.length),this.H.N(!0)},T.prototype.exportVal=T.prototype.Ce,T.prototype.g=function(){return Q("Wilddog.DataSnapshot.exists",0,0,arguments.length),!this.H.f()},T.prototype.exists=T.prototype.g,T.prototype.F=function(e){Q("Wilddog.DataSnapshot.child",0,1,arguments.length),ga(e)&&(e=String(e)),Cd("Wilddog.DataSnapshot.child",e);var n=new t(e),r=this.$.F(n);return new T(this.H.ma(n),r,w)},T.prototype.child=T.prototype.F,T.prototype.Ga=function(e){Q("Wilddog.DataSnapshot.hasChild",1,1,arguments.length),Cd("Wilddog.DataSnapshot.hasChild",e);var n=new t(e);return!this.H.ma(n).f()},T.prototype.hasChild=T.prototype.Ga,T.prototype.G=function(){return Q("Wilddog.DataSnapshot.getPriority",0,0,arguments.length),this.H.G().N()},T.prototype.getPriority=T.prototype.G,T.prototype.o=function(t){if(Q("Wilddog.DataSnapshot.forEach",1,1,arguments.length),S("Wilddog.DataSnapshot.forEach",1,t,!1),this.H.R())return!1;var e=this;return!!this.H.Y(this.m,function(n,r){return t(new T(r,e.$.F(n),w))})},T.prototype.forEach=T.prototype.o,T.prototype.Xc=function(){return Q("Wilddog.DataSnapshot.hasChildren",0,0,arguments.length),this.H.R()?!1:!this.H.f()},T.prototype.hasChildren=T.prototype.Xc,T.prototype.name=function(){return F("Wilddog.DataSnapshot.name() being deprecated. Please use Wilddog.DataSnapshot.key() instead."),Q("Wilddog.DataSnapshot.name",0,0,arguments.length),this.key()},T.prototype.name=T.prototype.name,T.prototype.key=function(){return Q("Wilddog.DataSnapshot.key",0,0,arguments.length),this.$.key()},T.prototype.key=T.prototype.key,T.prototype.hb=function(){return Q("Wilddog.DataSnapshot.numChildren",0,0,arguments.length),this.H.hb()},T.prototype.numChildren=T.prototype.hb,T.prototype.ac=function(){return Q("Wilddog.DataSnapshot.ref",0,0,arguments.length),this.$},T.prototype.ref=T.prototype.ac;var Id="auth.wilddog.com",Kd=["remember","redirectTo"];Td.prototype.open=function(t,e){qb.set("redirect_request_id",this.dc),qb.set("redirect_request_id",this.dc),e.requestId=this.dc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+Cb(e),window.location=t},Td.isAvailable=function(){return!NODE_CLIENT&&!Ud()&&!Vd()},Td.prototype.Gb=function(){return"redirect"};var Xd={NETWORK_ERROR:"Unable to contact the Wilddog server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};Yd.prototype.open=function(t,e,n){var r=ac(t),i=require("http"===r.scheme?"http":"https");t=this.options.method;var o,a={Accept:"application/json;text/plain"};if(bb(a,this.options.headers),r={host:r.host.split(":")[0],port:r.port,path:r.Zb,method:this.options.method.toUpperCase()},"GET"===t)r.path+=(/\?/.test(r.path)?"":"?")+Cb(e),o=null;else{var s=this.options.headers.content_type;"application/json"===s&&(o=C(e)),"application/x-www-form-urlencoded"===s&&(o=Cb(e)),a["Content-Length"]=Buffer.byteLength(o,"utf8")}r.headers=a,e=i.request(r,function(t){var e="";t.setEncoding("utf8"),t.on("data",function(t){e+=t}),t.on("end",function(){try{e=mb(e+"")}catch(t){}n&&(n(null,e),n=null)})}),"GET"!==t&&e.write(o),e.on("error",function(t){n(t&&t.code&&("ENOTFOUND"===t.code||"ENETDOWN"===t.code)?U("NETWORK_ERROR"):U("SERVER_ERROR")),n=null}),e.end()},Yd.isAvailable=function(){return NODE_CLIENT},Yd.prototype.Gb=function(){return"json"},Zd.prototype.set=function(t,e){if(!e){if(!this.xd.length)throw Error("wd.login.SessionManager : No storage options available!");e=this.xd[0]}e.set(this.ge,t)},Zd.prototype.get=function(){var t=Ha(this.xd,q(this.Af,this)),t=Ga(t,function(t){return null!==t});return Oa(t,function(t,e){return kc(e.token)-kc(t.token)}),0<t.length?t.shift():null},Zd.prototype.Af=function(t){try{var e=t.get(this.ge);if(e&&e.token)return e}catch(n){}return null},Zd.prototype.clear=function(){var t=this;Fa(this.xd,function(e){e.remove(t.ge)})},$d.prototype.open=function(t,e,n){function r(t){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),Od(window,"message",i),Od(window,"unload",r),h&&!t)try{h.close()}catch(e){a.postMessage("die",u)}h=a=void 0}function i(t){if(t.origin===u)try{var e=mb(t.data);"ready"===e.a?a.postMessage(f,u):"error"===e.a?(r(!1),n&&(n(e.d),n=null)):"response"===e.a&&(r(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(i){}}var o,a,s=Wd();if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var u=Pd(t);if(u!==Pd(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&(o=document.createElement("iframe"),o.setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+Cb(e);var h=window.open(t,this.options.window_name,this.options.window_features);a||(a=h);var c=setInterval(function(){h&&h.closed&&(r(!1),n&&(n(U("USER_CANCELLED")),n=null))},500),f=C({a:"request",d:e});Nd(window,"unload",r),Nd(window,"message",i)}},$d.isAvailable=function(){return!NODE_CLIENT&&"postMessage"in window&&!Ud()&&!(Vd()||"undefined"!=typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!=typeof navigator&&"undefined"!=typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!=typeof navigator&&navigator.userAgent.match(/PhantomJS/))},$d.prototype.Gb=function(){return"popup"},ae.prototype.open=function(t,e,n){function r(){n&&(n(U("REQUEST_INTERRUPTED")),n=null)}function i(){setTimeout(function(){window.__wilddog_auth_jsonp[o]=void 0,Za(window.__wilddog_auth_jsonp)&&(window.__wilddog_auth_jsonp=void 0);try{var t=document.getElementById(o);t&&t.parentNode.removeChild(t)}catch(e){}},1),Od(window,"beforeunload",r)}var o="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__wilddog_auth_jsonp."+o,t+=(/\?/.test(t)?"":"?")+Cb(e),Nd(window,"beforeunload",r),window.__wilddog_auth_jsonp[o]=function(t){n&&(n(null,t),n=null),i()},be(o,t,n)},ae.isAvailable=function(){return!NODE_CLIENT},ae.prototype.Gb=function(){return"json"},ce.prototype.ta=function(t,e){for(var n=this.Z[t]||[],r=0;r<n.length;r++)n[r].mc.apply(n[r].context,Array.prototype.slice.call(arguments,1))},ce.prototype.ub=function(t,e,n){de(this,t),this.Z[t]=this.Z[t]||[],this.Z[t].push({mc:e,context:n}),(t=this.Rd(t))&&e.apply(n,t)},ce.prototype.Xb=function(t,e,n){de(this,t),t=this.Z[t]||[];for(var r=0;r<t.length;r++)if(t[r].mc===e&&(!n||n===t[r].context)){t.splice(r,1);break}},ee.prototype.open=function(t,e,n){function r(){n&&(n(U("REQUEST_INTERRUPTED")),n=null)}var i,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(Nd(window,"beforeunload",r),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&300>o.status){try{t=mb(o.responseText)}catch(e){}n(null,t)}else n(500<=o.status&&600>o.status?U("SERVER_ERROR"):U("NETWORK_ERROR"));n=null,Od(window,"beforeunload",r)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+Cb(e),i=null;else{var s=this.options.headers.content_type;"application/json"===s&&(i=C(e)),"application/x-www-form-urlencoded"===s&&(i=Cb(e))}o.open(a,t,!0),t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},bb(t,this.options.headers);for(var u in t)o.setRequestHeader(u,t[u]);o.send(i)},ee.isAvailable=function(){return!(NODE_CLIENT||!window.XMLHttpRequest||"undefined"!=typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))&&!Wd())},ee.prototype.Gb=function(){return"json"},fe.prototype.open=function(t,e,n){function r(){n&&(n(U("USER_CANCELLED")),n=null)}var i,o=this,a=ac(Id);e.requestId=this.dc,e.redirectTo=a.scheme+"://"+a.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=Cb(e),(i=window.open(t,"_blank","location=no"))&&ha(i.addEventListener)?(i.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var s=document.createElement("a");s.href=t.url,e=s.host===a.host&&"/blank/page.html"===s.pathname;break t}catch(u){}e=!1}e&&(t=Qd(t.url),i.removeEventListener("exit",r),i.close(),t=new Jd(null,null,{requestId:o.dc,requestKey:t}),o.Se.requestWithCredential("/auth/session",t,n),n=null)}),i.addEventListener("exit",r)):n(U("TRANSPORT_UNAVAILABLE"))},fe.isAvailable=function(){return!NODE_CLIENT&&Vd()},fe.prototype.Gb=function(){return"redirect"},ma(ge,ce),h=ge.prototype,h.Pd=function(){return this.g||null},h.Ld=function(t,e){pe(this);var n=Ld(t);n.$a._method="POST",this.ec("/users",n,function(t,n){t?G(e,t):G(e,t,n)})},h.ie=function(t,e){var n=this;pe(this);var r="/users/"+encodeURIComponent(t.email),i=Ld(t);i.$a._method="DELETE",this.ec(r,i,function(t,r){!t&&r&&r.uid&&n.g&&n.g.uid&&n.g.uid===r.uid&&ne(n),G(e,t)})},h.Jd=function(t,e){pe(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ld(t);r.$a._method="PUT",r.$a.password=t.newPassword,this.ec(n,r,function(t){G(e,t)})},h.Id=function(t,e){pe(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",r=Ld(t);r.$a._method="PUT",r.$a.email=t.newEmail,r.$a.password=t.password,this.ec(n,r,function(t){G(e,t)})},h.ke=function(t,e){pe(this);var n="/users/"+encodeURIComponent(t.email)+"/password",r=Ld(t);r.$a._method="POST",this.ec(n,r,function(t){G(e,t)})},h.ec=function(t,e,n){se(this,NODE_CLIENT?[Yd]:[ee,ae],t,e,n)},h.Rd=function(t){return r("auth_status"===t,'initial event must be of type "auth_status"'),this.Ha?null:[this.g]},te.prototype.Dc=function(e){return this.path.f()?(e=this.children.subtree(new t(e)),e.f()?null:e.value?new ve(this.source,P,e.value):new te(this.source,P,e)):(r(L(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new te(this.source,M(this.path),this.children))},te.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},we.prototype.Dc=function(){return this.path.f()?this:new we(M(this.path),this.me)},we.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.me+")"},ze.prototype.Dc=function(){return this.path.f()?new ze(this.source,P):new ze(this.source,M(this.path))},ze.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},ve.prototype.Dc=function(t){return this.path.f()?new ve(this.source,P,this.Ma.P(t)):new ve(this.source,M(this.path),this.Ma)},ve.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ma.toString()+")"};var Be=0,ue=1,xe=2,Ae=3;Ce.prototype.source,Ce.prototype.type,Ce.prototype.path;var ye=new De(!0,!1,null,!1),Ee=new De(!1,!0,null,!1);De.prototype.toString=function(){return this.Od?"user":this.se?"server(queryID="+this.xb+")":"server"},Fe.prototype.u=function(){return this.H},Ie.prototype.D=function(){return this.sd},Me.prototype.nb,Me.prototype.Wc,Me.prototype.gb,Me.prototype.toString,Ne.prototype.nb=function(){var t=this.td.ac();return"value"===this.Uc?t.path:t.parent().path},Ne.prototype.Wc=function(){return this.Uc},Ne.prototype.gb=function(){return this.Md.gb(this)},Ne.prototype.toString=function(){return this.nb().toString()+":"+this.Uc+":"+C(this.td.Ce())},Oe.prototype.nb=function(){return this.path},Oe.prototype.Wc=function(){return"cancel"},Oe.prototype.gb=function(){return this.Md.gb(this)},Oe.prototype.toString=function(){return this.path.toString()+":cancel"};var Qe="value";Re.prototype.le,Re.prototype.createEvent,Re.prototype.gb,Re.prototype.Kd,Re.prototype.matches,Re.prototype.Td,h=Se.prototype,h.le=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.C.m;return new Ne("value",this,new T(t.Na,e.ac(),n))},h.gb=function(t){var e=this.kb;if("cancel"===t.Wc()){r(this.jb,"Raising a cancel event on a listener with no cancel callback");var n=this.jb;return function(){n.call(e,t.error)}}var i=this.Fb;return function(){i.call(e,t.td)}},h.Kd=function(t,e){return this.jb?new Oe(this,t,e):null},h.matches=function(t){return t instanceof Se?t.Fb&&this.Fb?t.Fb===this.Fb&&t.kb===this.kb:!0:!1},h.Td=function(){return null!==this.Fb},h=Te.prototype,h.le=function(t){return t="children_added"===t?"child_added":t,("children_removed"===t?"child_removed":t)in this.la},h.Kd=function(t,e){return this.jb?new Oe(this,t,e):null},h.createEvent=function(t,e){r(null!=t.Xa,"Child events should have a childName.");var n=e.ac().F(t.Xa);return new Ne(t.type,this,new T(t.Na,n,e.C.m),t.od)},h.gb=function(t){var e=this.kb;if("cancel"===t.Wc()){r(this.jb,"Raising a cancel event on a listener with no cancel callback");var n=this.jb;return function(){n.call(e,t.error)}}var i=this.la[t.Uc];return function(){i.call(e,t.td,t.od)}},h.matches=function(t){if(t instanceof Te){if(!this.la||!t.la)return!0;if(this.kb===t.kb){var e=Sa(t.la);if(e===Sa(this.la)){if(1===e){var e=Ta(t.la),n=Ta(this.la);return!(n!==e||t.la[e]&&this.la[n]&&t.la[e]!==this.la[n])}return Ra(this.la,function(e,n){return t.la[n]===e})}}}return!1},h.Td=function(){return null!==this.la},Ue.prototype.tf=function(t,e){if(null==t.Xa||null==e.Xa)throw Tb("Should only compare child_ events.");return this.m.compare(new J(t.Xa,t.Na),new J(e.Xa,e.Na))},Ye.prototype.He=function(){return null},Ye.prototype.Qd=function(){return null};var Ze=new Ye;$e.prototype.He=function(t){var e=this.Oa.J;return He(e,t)?e.u().P(t):(e=null!=this.kd?new Fe(this.kd,!0,!1):this.Oa.D(),this.cf.Wa(t,e))},$e.prototype.Qd=function(t,e,n){var r=null!=this.kd?this.kd:Le(this.Oa);return t=this.cf.Hd(r,e,1,n,t),0===t.length?null:t[0]},bf.prototype.bb=function(t,e,n,i){var o,a=new cf;if(e.type===Be)e.source.Od?n=df(this,t,e.path,e.Ma,n,i,a):(r(e.source.Ge,"Unknown source."),o=e.source.se,n=ef(this,t,e.path,e.Ma,n,i,o,a));else if(e.type===ue)e.source.Od?n=ff(this,t,e.path,e.children,n,i,a):(r(e.source.Ge,"Unknown source."),o=e.source.se,n=gf(this,t,e.path,e.children,n,i,o,a));else if(e.type===xe)if(e.me)if(o=e.path,null!=n.gc(o))n=t;else{if(e=new $e(n,t,i),i=t.J.u(),o.f()||".priority"===L(o))Ge(t.D())?e=n.za(Le(t)):(e=t.D().u(),r(e instanceof N,"serverChildren would be complete if leaf node"),e=n.lc(e)),e=this.O.ya(i,e,a);else{o=L(o);var s=n.Wa(o,t.D());null==s&&He(t.D(),o)&&(s=i.P(o)),e=null!=s?this.O.K(i,o,s,e,a):t.J.u().Ga(o)?this.O.K(i,o,D,e,a):i,e.f()&&Ge(t.D())&&(i=n.za(Le(t)),i.R()&&(e=this.O.ya(e,i,a)))}i=Ge(t.D())||null!=n.gc(P),n=Je(t,e,i,this.O.Ka())}else n=hf(this,t,e.path,n,i,a);else{if(e.type!==Ae)throw Tb("Unknown operation type: "+e.type);i=e.path,e=t.D(),o=e.u(),s=e.ga||i.f(),n=jf(this,new Ie(t.J,new Fe(o,s,e.Kb)),i,n,Ze,a)}return a=Ua(a.cb),i=n,e=i.J,e.ga&&(o=e.u().R()||e.u().f(),s=Ke(t),(0<a.length||!t.J.ga||o&&!e.u().ca(s)||!e.u().G().ca(s.G()))&&a.push(Pe(Ke(i)))),new af(n,a)},h=of.prototype,h.D=function(){return this.Oa.D().u()},h.fb=function(t){var e=Le(this.Oa);return e&&(nc(this.$.C)||!t.f()&&!e.P(L(t)).f())?e.ma(t):null},h.f=function(){return 0===this.Ya.length},h.Eb=function(t){this.Ya.push(t)},h.ib=function(t,e){var n=[];if(e){r(null==t,"A cancel should cancel all event registrations.");var i=this.$.path;Fa(this.Ya,function(t){(t=t.Kd(e,i))&&n.push(t)})}if(t){for(var o=[],a=0;a<this.Ya.length;++a){var s=this.Ya[a];if(s.matches(t)){if(t.Td()){o=o.concat(this.Ya.slice(a+1));break}}else o.push(s)}this.Ya=o}else this.Ya=[];return n},h.bb=function(t,e,n){t.type===ue&&null!==t.source.xb&&(r(Le(this.Oa),"We should always have a full cache before handling merges"),r(Ke(this.Oa),"Missing event cache, even though we have a server cache"));var i=this.Oa;return t=this.Ue.bb(i,t,e,n),e=this.Ue,n=t.Dd,r(n.J.u().Tb(e.O.m),"Event snap not indexed"),r(n.D().u().Tb(e.O.m),"Server snap not indexed"),r(Ge(t.Dd.D())||!Ge(i.D()),"Once a server snap is complete, it should never go back"),this.Oa=t.Dd,tf(this,t.rf,t.Dd.J.u(),null)};var wf=new qc(function(t,e){return t===e?0:e>t?-1:1});h=vf.prototype,h.f=function(){return null===this.value&&this.children.f()},h.subtree=function(t){if(t.f())return this;var e=this.children.get(L(t));return null!==e?e.subtree(M(t)):nf},h.set=function(t,e){if(t.f())return new vf(e,this.children);var n=L(t),r=(this.children.get(n)||nf).set(M(t),e),n=this.children.Pa(n,r);return new vf(this.value,n)},h.remove=function(t){if(t.f())return this.children.f()?nf:new vf(null,this.children);var e=L(t),n=this.children.get(e);return n?(t=n.remove(M(t)),e=t.f()?this.children.remove(e):this.children.Pa(e,t),null===this.value&&e.f()?nf:new vf(this.value,e)):this},h.get=function(t){if(t.f())return this.value;var e=this.children.get(L(t));return e?e.get(M(t)):null};var nf=new vf(null);vf.prototype.toString=function(){var t={};return kf(this,function(e,n){t[e.toString()]=n.toString()}),C(t)},h=If.prototype,h.f=function(){return Za(this.Ca)},h.bb=function(t,e,n){var i=t.source.xb;if(null!==i)return i=B(this.Ca,i),r(null!=i,"SyncTree gave us an op for an invalid query."),i.bb(t,e,n);var o=[];return z(this.Ca,function(r){o=o.concat(r.bb(t,e,n))}),o},h.Eb=function(t,e,n,r,i){var o=t.Ba(),a=B(this.Ca,o);if(!a){var a=n.za(i?r:null),s=!1;a?s=!0:(a=r instanceof N?n.lc(r):D,s=!1),a=new of(t,new Ie(new Fe(a,s,!1),new Fe(r,i,!1))),this.Ca[o]=a}return a.Eb(e),uf(a,e)},h.ib=function(t,e,n){var r=t.Ba(),i=[],o=[],a=null!=Jf(this);if("default"===r){var s=this;z(this.Ca,function(t,r){o=o.concat(t.ib(e,n)),t.f()&&(delete s.Ca[r],nc(t.$.C)||i.push(t.$))})}else{var u=B(this.Ca,r);u&&(o=o.concat(u.ib(e,n)),u.f()&&(delete this.Ca[r],nc(u.$.C)||i.push(u.$)))}return a&&null==Jf(this)&&i.push(new E(t.w,t.path)),{Nf:i,xf:o}},h.fb=function(t){var e=null;return z(this.Ca,function(n){e=e||n.fb(t)}),e};var Nf=new Mf(new vf(null));Mf.prototype.pd=function(t){return t.f()?Nf:(t=mf(this.aa,t,nf),new Mf(t))},Mf.prototype.f=function(){return this.aa.f()},Mf.prototype.apply=function(t){return Tf(P,this.aa,t)},na.ag,h=Uf.prototype,h.pd=function(t){var e=La(this.Da,function(e){return e.Fd===t});r(e>=0,"removeWrite called with nonexistent writeId.");
var n=this.Da[e];this.Da.splice(e,1);for(var i=n.visible,o=!1,a=this.Da.length-1;i&&a>=0;){var s=this.Da[a];s.visible&&(a>=e&&Vf(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.X=Wf(this.Da,Xf,P),0<this.Da.length?this.Ub=this.Da[this.Da.length-1].Fd:this.Ub=-1;else if(n.Ma)this.X=this.X.pd(n.path);else{var u=this;z(n.children,function(t,e){u.X=u.X.pd(n.path.F(e))})}return n.path}return null},h.za=function(t,e,n,r){if(n||r){var i=Sf(this.X,t);return!r&&i.f()?e:r||null!=e||null!=Qf(i,P)?(i=Wf(this.Da,function(e){return!(!e.visible&&!r||n&&0<=Ea(n,e.Fd)||!e.path.contains(t)&&!t.contains(e.path))},t),e=e||D,i.apply(e)):null}return i=Qf(this.X,t),null!=i?i:(i=Sf(this.X,t),i.f()?e:null!=e||null!=Qf(i,P)?(e=e||D,i.apply(e)):null)},h.lc=function(e,n){var r=D,i=Qf(this.X,e);if(i)i.R()||i.Y(w,function(t,e){r=r.U(t,e)});else if(n){var o=Sf(this.X,e);n.Y(w,function(e,n){var i=Sf(o,new t(e)).apply(n);r=r.U(e,i)}),Fa(Rf(o),function(t){r=r.U(t.name,t.node)})}else o=Sf(this.X,e),Fa(Rf(o),function(t){r=r.U(t.name,t.node)});return r},h.Kc=function(t,e,n,i){return r(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.F(e),null!=Qf(this.X,t)?null:(t=Sf(this.X,t),t.f()?i.ma(e):t.apply(i.ma(e)))},h.Wa=function(t,e,n){t=t.F(e);var r=Qf(this.X,t);return null!=r?r:He(n,e)?Sf(this.X,t).apply(n.u().P(e)):null},h.gc=function(t){return Qf(this.X,t)},h.Hd=function(t,e,n,r,i,o){var a;if(t=Sf(this.X,t),a=Qf(t,P),null==a){if(null==e)return[];a=t.apply(e)}if(a=a.ab(o),a.f()||a.R())return[];for(e=[],t=Kc(o),i=i?a.Ob(n,o):a.Nb(n,o),o=I(i);o&&e.length<r;)0!==t(o,n)&&e.push(o),o=I(i);return e},h=Yf.prototype,h.za=function(t,e,n){return this.aa.za(this.Cb,t,e,n)},h.lc=function(t){return this.aa.lc(this.Cb,t)},h.Kc=function(t,e,n){return this.aa.Kc(this.Cb,t,e,n)},h.gc=function(t){return this.aa.gc(this.Cb.F(t))},h.Hd=function(t,e,n,r,i){return this.aa.Hd(this.Cb,t,e,n,r,i)},h.Wa=function(t,e){return this.aa.Wa(this.Cb,t,e)},h.F=function(t){return new Yf(this.Cb.F(t),this.aa)},na.Yf,Zf.prototype.Eb=function(t,e){var n=t.path,i=null,o=!1;Ef(this.xa,n,function(t,e){var r=O(t,n);return i=e.fb(r),o=o||null!=Jf(e),!i});var a=this.xa.get(n);a?(o=o||null!=Jf(a),i=i||a.fb(P)):(a=new If,this.xa=this.xa.set(n,a));var s;null!=i?s=!0:(s=!1,i=D,Hf(this.xa.subtree(n),function(t,e){var n=e.fb(P);n&&(i=i.U(t,n))}));var u=null!=Lf(a,t);if(!u&&!nc(t.C)){var h=jg(t);r(!(h in this.$b),"View does not exist, but we have a tag");var c=kg++;this.$b[h]=c,this.re["_"+c]=h}return s=a.Eb(t,e,new Yf(n,this.wb),i,s),u||o||(a=Lf(a,t),s=s.concat(lg(this,t,a))),s},Zf.prototype.ib=function(t,e,n){var r=t.path,i=this.xa.get(r),o=[];if(i&&("default"===t.Ba()||null!=Lf(i,t))){o=i.ib(t,e,n),i.f()&&(this.xa=this.xa.remove(r)),i=o.Nf,o=o.xf,e=-1!==La(i,function(t){return nc(t.C)});var a=Cf(this.xa,r,function(t,e){return null!=Jf(e)});if(e&&!a&&(r=this.xa.subtree(r),!r.f()))for(var r=mg(r),s=0;s<r.length;++s){var u=r[s],h=u.$,u=ng(this,u);this.tc.oe(h,og(this,h),u.Yc,u.S)}if(!a&&0<i.length&&!n)if(e)this.tc.wd(t,null);else{var c=this;Fa(i,function(t){t.Ba();var e=c.$b[jg(t)];c.tc.wd(t,e)})}pg(this,i)}return o},Zf.prototype.za=function(t,e){var n=this.wb,r=Cf(this.xa,t,function(e,n){var r=O(e,t);return(r=n.fb(r))?r:void 0});return n.za(t,r,e,!0)};var kg=1;h=sg.prototype,h.add=function(t,e){this.set[t]=null!==e?e:!0},h.contains=function(t){return A(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.f=function(){return Za(this.set)},h.count=function(){return Sa(this.set)},Aa.prototype.find=function(t){if(null!=this.I)return this.I.ma(t);if(t.f()||null==this.A)return null;var e=L(t);return t=M(t),this.A.contains(e)?this.A.get(e).find(t):null},Aa.prototype.bc=function(t,e){if(t.f())this.I=e,this.A=null;else if(null!==this.I)this.I=this.I.K(t,e);else{null==this.A&&(this.A=new sg);var n=L(t);this.A.contains(n)||this.A.add(n,new Aa),n=this.A.get(n),t=M(t),n.bc(t,e)}},Aa.prototype.Y=function(t){null!==this.A&&tg(this.A,function(e,n){t(e,n)})};var vg={},wg=require("socket.io-client");xg.prototype.open=function(t,e){this.Ac=e,this.Hf=t,this.j("Websocket connecting to "+this.eb),this.Be=!1;try{this.Aa=wg(this.eb,{path:"/.ws",multiplex:"false","force new connection":!0,transports:this.te})}catch(n){this.j("Error instantiating socket.io ");var r=n.message||n.data;return r&&(this.j(r),pb.set("previous_websocket_failure",!0)),void yg(this)}var i=this;this.Aa.on("connect",function(){i.j("Websocket connected."),i.Be=!0,null!=i.Aa&&null!=i.Aa.io&&null!=i.Aa.io.engine&&i.Aa.io.engine.on("upgrade",function(){pb.set("previous_websocket_failure",!1)})}),this.Aa.on("disconnect",function(){i.j("Socketio connection was disconnected."),i.Aa=null,yg(i)}),this.Aa.on("wd",function(t){null!==i.Aa&&i.Hf(t)}),this.Aa.on("connect_error",function(t){i.j("Socketio error.  Closing connection."),(t=t.message||t.data)&&i.j(t),sb(i.Of,null),pb.set("previous_websocket_failure",!0),yg(i)})},xg.prototype.start=function(){},xg.Fe=function(){xg.Z=!0},xg.isAvailable=function(){return!0},xg.ta=function(){return pb.Le||!0===pb.get("previous_websocket_failure")},xg.prototype.send=function(t){this.Aa.emit("wd",t)},xg.prototype.close=function(){this.Ke||(this.j("WebSocket is being closed"),Ag(this))};var Dg=[xg];Fg.prototype.Ia=function(t){Qg(this,{t:"d",d:t})},Fg.prototype.gd=function(t){Ng(this),this.jd(t)},Fg.prototype.close=function(){2!==this.Ua&&(this.j("Closing realtime connection."),this.Ua=2,Mg(this),this.La&&(this.La(),this.La=null))},ma(Rg,ce),Rg.prototype.Rd=function(t){return r("visible"===t,"Unknown event type: "+t),[this.ic]},ca(Rg),ma(Sg,ce),Sg.prototype.Rd=function(t){return r("online"===t,"Unknown event type: "+t),[this.g]},ca(Sg),Tg.o=0,Tg.g=0,h=Tg.prototype,h.Ia=function(t,e,n){var i=++this.Pf;t={r:i,a:t,b:e},this.j(C(t)),r(this.ra,"sendRequest call when we're not connected not allowed."),this.Ta.Ia(t),n&&(this.qd[i]=n)},h.Ne=function(t,e,n,i){var o=t.Ba(),a=t.path.toString();this.j("Listen called for "+a+" "+o),this.ha[a]=this.ha[a]||{},r(!this.ha[a][o],"listen() called twice for same path/queryId."),t={S:i,Yc:e,Lf:t,tag:n},this.ha[a][o]=t,this.ra&&Vg(this,t)},h.V=function(t,e,n){this.Ja={uf:t,Ee:!1,mc:e,Lc:n},this.j("Authenticating using credential: "+t),Yg(this),(e=40==t.length)||(t=jc(t).Nc,e="object"==typeof t&&!0===B(t,"admin")),e&&(this.j("Admin auth credential detected.  Reducing max reconnect time."),this.ed=3e4)},h.Bd=function(t){delete this.Ja,this.ra&&this.Ia("unauth",{},function(e){t(e.s,e.d)})},h.af=function(t,e){var n=t.path.toString(),r=t.Ba();if(this.j("Unlisten called for "+n+" "+r),Xg(this,n,r)&&this.ra){var i=Wg(t.C);this.j("Unlisten on "+n+" for "+r),n={p:n},e&&(n.q=i,n.t=e),this.Ia("n",n)}},h.de=function(t,e,n){this.ra?Zg(this,"o",t,e,n):this.Bc.push({Zb:t,action:"o",data:e,S:n})},h.Qe=function(t,e,n){this.ra?Zg(this,"om",t,e,n):this.Bc.push({Zb:t,action:"om",data:e,S:n})},h.hd=function(t,e){this.ra?Zg(this,"oc",t,null,e):this.Bc.push({Zb:t,action:"oc",data:null,S:e})},h.put=function(t,e,n,r){$g(this,"p",t,e,n,r)},h.Oe=function(t,e,n,r){$g(this,"m",t,e,n,r)},h.je=function(t){if(this.ra){t={c:t},this.j("reportStats",t);var e=this;this.Ia("s",t,function(t){"ok"!==t.s&&e.j("reportStats","Error sending stats: "+t.d)})}},h.gd=function(t){if("r"in t){this.j("from server: "+C(t));var e=t.r,n=this.qd[e];n&&(delete this.qd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.j("handleServerMessage",e,n),"d"===e?this.vb(n.p,n.d,!1,n.t):"m"===e?this.vb(n.p,n.d,!0,n.t):"c"===e?bh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Ja,delete this.Ja,n&&n.Lc&&n.Lc(t,e)):"sd"===e?this.ne?this.ne(n):"msg"in n&&"undefined"!=typeof console&&console.log("WILDDOG: "+n.msg.replace("\n","\nWILDDOG: ")):Zb("Unrecognized action received from server: "+C(e)+"\nAre you using the latest client?"))}},h.Cc=function(t){this.j("connection ready"),this.ra=!0,this.sc=(new Date).getTime(),this.fe({serverTimeOffset:t-(new Date).getTime()}),this.De&&(t={},t["sdk.js."+"0.4.9".replace(/\./g,"-")]=1,Vd()&&(t["framework.cordova"]=1),this.je(t)),ch(this),this.De=!1,this.zc(!0)},h.Kf=function(t){t&&!this.ic&&this.Za===this.ed&&(this.j("Window became visible.  Reducing delay."),this.Za=1e3,this.Ta||Ug(this,0)),this.ic=t},h.If=function(t){t?(this.j("Browser went online."),this.Za=1e3,this.Ta||Ug(this,0)):(this.j("Browser went offline.  Killing connection."),this.Ta&&this.Ta.close())},h.Re=function(){this.j("data client disconnected"),this.ra=!1,this.Ta=null;for(var t=0;t<this.ua.length;t++){var e=this.ua[t];e&&"h"in e.We&&e.Mf&&(e.S&&e.S("disconnect"),delete this.ua[t],this.Ec--)}0===this.Ec&&(this.ua=[]),this.qd={},eh(this)&&(this.ic?this.sc&&(3e4<(new Date).getTime()-this.sc&&(this.Za=1e3),this.sc=null):(this.j("Window isn't visible.  Delaying reconnect."),this.Za=this.ed,this.Yd=(new Date).getTime()),t=Math.max(0,this.Za-((new Date).getTime()-this.Yd)),t*=Math.random(),this.j("Trying to reconnect in "+t+"ms"),Ug(this,t),this.Za=Math.min(this.ed,1.3*this.Za)),this.zc(!1)},h.rb=function(){this.Xd=!0,this.Ta?this.Ta.close():(this.Jb&&(clearTimeout(this.Jb),this.Jb=null),this.ra&&this.Re())},h.fc=function(){this.Xd=!1,this.Za=1e3,this.Ta||Ug(this,0)},h=gh.prototype,h.Fa=function(){return this.H.value},h.clear=function(){this.H.value=null,this.H.children={},this.H.Mc=0,jh(this)},h.Xc=function(){return 0<this.H.Mc},h.f=function(){return null===this.Fa()&&!this.Xc()},h.Y=function(t){var e=this;z(this.H.children,function(n,r){t(new gh(r,e,n))})},h.path=function(){return new t(null===this.g?this.o:this.g.path()+"/"+this.o)},h.name=function(){return this.o},h.parent=function(){return this.g},h=mh.prototype,h.toString=function(){return(this.L.zb?"https://":"http://")+this.L.host},h.name=function(){return this.L.Wb},h.vb=function(e,n,r,i){this.Sc++;var o=new t(e);n=this.Wd?this.Wd(e,n):n,e=[],i?r?(n=Qa(n,function(t){return u(t)}),e=ig(this.T,o,n,i)):(n=u(n),e=eg(this.T,o,n,i)):r?(i=Qa(n,function(t){return u(t)}),e=dg(this.T,o,i)):(i=u(n),e=ag(this.T,new ve(Ee,o,i))),i=o,0<e.length&&(i=qh(this,o)),ta(this.ja,i,e)},h.zc=function(t){nh(this,"connected",t),!1===t&&rh(this)},h.fe=function(t){var e=this;gc(t,function(t,n){nh(e,n,t)})},h.ce=function(t){nh(this,"authenticated",t)},h.Ab=function(t,e,n,r){this.j("set",{path:t.toString(),value:e,eg:n});var i=ph(this);e=u(e,n);var i=Ca(e,i),o=this.fd++,i=$f(this.T,t,i,o,!0);pa(this.ja,i);var a=this;this.ea.put(t.toString(),e.N(!0),function(e,n){var i="ok"===e;i||F("set at "+t+" failed: "+e),i=cg(a.T,o,!i),ta(a.ja,t,i),sh(r,e,n)}),i=th(this,t),qh(this,i),ta(this.ja,i,[])},h.update=function(t,e,n){this.j("update",{path:t.toString(),value:e});var r=!0,i=ph(this),o={};if(z(e,function(t,e){r=!1;var n=u(t);o[e]=Ca(n,i)}),r)va("update() called with empty data.  Don't do anything."),sh(n,"ok");else{var a=this.fd++,s=bg(this.T,t,o,a);pa(this.ja,s);var h=this;this.ea.Oe(t.toString(),e,function(e,r){var i="ok"===e;i||F("update at "+t+" failed: "+e);var i=cg(h.T,a,!i),o=t;0<i.length&&(o=qh(h,t)),ta(h.ja,o,i),sh(n,e,r)}),e=th(this,t),qh(this,e),ta(this.ja,t,[])}},h.hd=function(t,e){var n=this;this.ea.hd(t.toString(),function(r,i){"ok"===r&&ug(n.La,t),sh(e,r,i)})},h.rb=function(){this.Sa&&this.Sa.rb()},h.fc=function(){this.Sa&&this.Sa.fc()},h.pe=function(t){if("undefined"!=typeof console){t?(this.vd||(this.vd=new fb(this.Ic)),t=this.vd.get()):t=this.Ic.get();var e,n=Ia(Va(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var r=t[e],i=e.length;n+2>i;i++)e+=" ";console.log(e+r)}}},h.qe=function(t){var e,r=this.Ic;n(e)||(e=1),A(r.oc,t)||(r.oc[t]=0),r.oc[t]+=e,this.Uf.Ze[t]=!0},h.j=function(t){var e="";this.Sa&&(e=this.Sa.id+":"),va(e,arguments)};var W={};W.jc=Tg,W.DataConnection=W.jc,Tg.prototype.o=function(t,e){this.Ia("q",{p:t},e)},W.jc.prototype.simpleListen=W.jc.prototype.o,Tg.prototype.g=function(t,e){this.Ia("echo",{d:t},e)},W.jc.prototype.echo=W.jc.prototype.g,Tg.prototype.interrupt=Tg.prototype.rb,W.ff=Fg,W.RealTimeConnection=W.ff,Fg.prototype.sendRequest=Fg.prototype.Ia,Fg.prototype.close=Fg.prototype.close,W.Bf=function(t){var e=Tg.prototype.put;return Tg.prototype.put=function(r,i,o,a){n(a)&&(a=t()),e.call(this,r,i,o,a)},function(){Tg.prototype.put=e}},W.hijackHash=W.Bf,W.ef=rb,W.ConnectionTarget=W.ef,W.Ba=function(t){return t.Ba()},W.queryIdentifier=W.Ba,W.Df=function(t){return t.w.Sa.ha},W.listens=W.Df,W.Nd=function(t){t.Nd()},W.forceRestClient=W.Nd,na.Zf,ca(Hh),Hh.prototype.rb=function(){for(var t in this.cc)this.cc[t].rb()},Hh.prototype.interrupt=Hh.prototype.rb,Hh.prototype.fc=function(){for(var t in this.cc)this.cc[t].fc()},Hh.prototype.resume=Hh.prototype.fc,Hh.prototype.Nd=function(){this.bf=!0};var Ih=function(){var t=0,e=[];return function(n){var i=n===t;t=n;for(var o=Array(8),a=7;a>=0;a--)o[a]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(n%64),n=Math.floor(n/64);if(r(0===n,"Cannot push at time == 0"),n=o.join(""),i){for(a=11;a>=0&&63===e[a];a--)e[a]=0;e[a]++}else for(a=0;12>a;a++)e[a]=Math.floor(64*Math.random());for(a=0;12>a;a++)n+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(e[a]);return r(20===n.length,"nextPushId: Length should be 20."),n}}();h=pf.prototype,h.K=function(t,e,n,i,o){return r(t.Tb(this.m),"A node must be indexed if only a child is updated"),i=t.P(e),i.ca(n)?t:(null!=o&&(n.f()?t.Ga(e)?Jh(o,new V("child_removed",i,e)):r(t.R(),"A child remove without an old child only makes sense on a leaf node"):i.f()?Jh(o,new V("child_added",n,e)):Jh(o,new V("child_changed",n,e,i))),t.R()&&n.f()?t:t.U(e,n).ab(this.m))},h.ya=function(t,e,n){return null!=n&&(t.R()||t.Y(w,function(t,r){e.Ga(t)||Jh(n,new V("child_removed",r,t))}),e.R()||e.Y(w,function(e,r){if(t.Ga(e)){var i=t.P(e);i.ca(r)||Jh(n,new V("child_changed",r,e,i))}else Jh(n,new V("child_added",r,e))})),e.ab(this.m)},h.fa=function(t,e){return t.f()?D:t.fa(e)},h.Ka=function(){return!1},h.Lb=function(){return this},h=rf.prototype,h.matches=function(t){return 0>=this.m.compare(this.Hc,t)&&0>=this.m.compare(t,this.qc)},h.K=function(t,e,n,r,i){return this.matches(new J(e,n))||(n=D),this.Ud.K(t,e,n,r,i)},h.ya=function(t,e,n){e.R()&&(e=D);var r=e.ab(this.m),r=r.fa(D),i=this;return e.Y(w,function(t,e){i.matches(new J(t,e))||(r=r.U(t,D))}),this.Ud.ya(t,r,n)},h.fa=function(t){return t},h.Ka=function(){return!0},h.Lb=function(){return this.Ud},h=qf.prototype,h.K=function(t,e,n,r,i){return this.wa.matches(new J(e,n))||(n=D),t.P(e).ca(n)?t:t.hb()<this.pa?this.wa.Lb().K(t,e,n,r,i):Ph(this,t,e,n,r,i)},h.ya=function(t,e,n){var r;if(e.R()||e.f())r=D.ab(this.m);else if(2*this.pa<e.hb()&&e.Tb(this.m)){r=D.ab(this.m),e=this.yb?e.Ob(this.wa.qc,this.m):e.Nb(this.wa.Hc,this.m);for(var i=0;0<e.Ra.length&&i<this.pa;){var o,a=I(e);if(!(o=this.yb?0>=this.m.compare(this.wa.Hc,a):0>=this.m.compare(a,this.wa.qc)))break;r=r.U(a.name,a.node),i++}}else{r=e.ab(this.m),r=r.fa(D);var s,u,h;if(this.yb){e=r.Ie(this.m),s=this.wa.qc,u=this.wa.Hc;var c=Kc(this.m);h=function(t,e){return c(e,t)}}else e=r.Mb(this.m),s=this.wa.Hc,u=this.wa.qc,h=Kc(this.m);for(var i=0,f=!1;0<e.Ra.length;)a=I(e),!f&&0>=h(s,a)&&(f=!0),(o=f&&i<this.pa&&0>=h(a,u))?i++:r=r.U(a.name,D)}return this.wa.Lb().ya(t,r,n)},h.fa=function(t){return t},h.Ka=function(){return!0},h.Lb=function(){return this.wa.Lb()};var Rh=new Qh;h=Qh.prototype,h.Zd=function(t){var e=Sh(this);return e.oa=!0,e.pa=t,e.Db="",e},h.$d=function(t){var e=Sh(this);return e.oa=!0,e.pa=t,e.Db="l",e},h.ae=function(t){var e=Sh(this);return e.oa=!0,e.pa=t,e.Db="r",e},h.ud=function(t,e){var r=Sh(this);return r.qa=!0,n(t)||(t=null),r.Sb=t,null!=e?(r.Bb=!0,r.qb=e):(r.Bb=!1,r.qb=""),r},h.Tc=function(t,e){var r=Sh(this);return r.sa=!0,n(t)||(t=null),r.Pb=t,n(e)?(r.Ib=!0,r.ob=e):(r.gg=!1,r.ob=""),r},h.toString=function(){return C(Wg(this))},X.prototype.ac=function(){return Q("Query.ref",0,0,arguments.length),new E(this.w,this.path)},X.prototype.ref=X.prototype.ac,X.prototype.ub=function(t,e,n,r){Q("Query.on",2,4,arguments.length),Ad("Query.on",t,!1),S("Query.on",2,e,!1);var i=Xh("Query.on",n,r);if("value"===t)xh(this.w,this,new Se(e,i.cancel||null,i.context||null));else{var o={};o[t]=e,xh(this.w,this,new Te(o,i.cancel,i.context))}return e},X.prototype.on=X.prototype.ub,X.prototype.Xb=function(t,e,n){Q("Query.off",0,3,arguments.length),Ad("Query.off",t,!0),S("Query.off",2,e,!0),qd("Query.off",3,n);var r=null,i=null;"value"===t?r=new Se(e||null,null,n||null):t&&(e&&(i={},i[t]=e),r=new Te(i,null,n||null)),i=this.w,r=".info"===L(this.path)?i.cd.ib(this,r):i.T.ib(this,r),ra(i.ja,this.path,r)},X.prototype.off=X.prototype.Xb,X.prototype.o=function(t,e){function n(a){o&&(o=!1,i.Xb(t,n),e.call(r.context,a))}Q("Query.once",2,4,arguments.length),Ad("Query.once",t,!1),S("Query.once",2,e,!1);var r=Xh("Query.once",arguments[2],arguments[3]),i=this,o=!0;this.ub(t,n,function(e){i.Xb(t,n),r.cancel&&r.cancel.call(r.context,e)})},X.prototype.once=X.prototype.o,X.prototype.Zd=function(t){if(F("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),Q("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limit: First argument must be a positive integer.");if(this.C.oa)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.C.Zd(t);return Vh(e),new X(this.w,this.path,e,this.Yb)},X.prototype.limit=X.prototype.Zd,X.prototype.$d=function(t){if(Q("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.C.oa)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.C.$d(t),this.Yb)},X.prototype.limitToFirst=X.prototype.$d,X.prototype.ae=function(t){if(Q("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||0>=t)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.C.oa)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new X(this.w,this.path,this.C.ae(t),this.Yb)},X.prototype.limitToLast=X.prototype.ae,X.prototype.Z=function(t){if(Q("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Bd("Query.orderByChild",1,t,!1),Wh(this,"Query.orderByChild");var e=Th(this.C,new Mc(t));return Uh(e),new X(this.w,this.path,e,!0)},X.prototype.orderByChild=X.prototype.Z,X.prototype.ta=function(){Q("Query.orderByKey",0,0,arguments.length),Wh(this,"Query.orderByKey");var t=Th(this.C,Qc);return Uh(t),new X(this.w,this.path,t,!0)},X.prototype.orderByKey=X.prototype.ta,X.prototype.Ha=function(){Q("Query.orderByPriority",0,0,arguments.length),Wh(this,"Query.orderByPriority");var t=Th(this.C,w);return Uh(t),new X(this.w,this.path,t,!0)},X.prototype.orderByPriority=X.prototype.Ha,X.prototype.Va=function(){Q("Query.orderByValue",0,0,arguments.length),Wh(this,"Query.orderByValue");var t=Th(this.C,Tc);return Uh(t),new X(this.w,this.path,t,!0)},X.prototype.orderByValue=X.prototype.Va,X.prototype.ud=function(t,e){Q("Query.startAt",0,2,arguments.length),vd("Query.startAt",t,this.path,!0),Bd("Query.startAt",2,e,!0);var r=this.C.ud(t,e);if(Vh(r),Uh(r),this.C.qa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new X(this.w,this.path,r,this.Yb)},X.prototype.startAt=X.prototype.ud,X.prototype.Tc=function(t,e){Q("Query.endAt",0,2,arguments.length),vd("Query.endAt",t,this.path,!0),Bd("Query.endAt",2,e,!0);var n=this.C.Tc(t,e);if(Vh(n),Uh(n),this.C.sa)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new X(this.w,this.path,n,this.Yb)},X.prototype.endAt=X.prototype.Tc,X.prototype.g=function(t,e){if(Q("Query.equalTo",1,2,arguments.length),vd("Query.equalTo",t,this.path,!1),Bd("Query.equalTo",2,e,!0),this.C.qa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.C.sa)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ud(t,e).Tc(t,e)},X.prototype.equalTo=X.prototype.g,X.prototype.toString=function(){Q("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.da;n<t.B.length;n++)""!==t.B[n]&&(e+="/"+encodeURIComponent(String(t.B[n])));return this.w.toString()+(e||"/")},X.prototype.toString=X.prototype.toString,X.prototype.Ba=function(){var t=fc(Wg(this.C));return"{}"===t?"default":t},Y.prototype.cancel=function(t){Q("Wilddog.onDisconnect().cancel",0,1,arguments.length),S("Wilddog.onDisconnect().cancel",1,t,!0),this.Fc.hd(this.va,t||null)},Y.prototype.cancel=Y.prototype.cancel,Y.prototype.remove=function(t){Q("Wilddog.onDisconnect().remove",0,1,arguments.length),Dd("Wilddog.onDisconnect().remove",this.va),S("Wilddog.onDisconnect().remove",1,t,!0),uh(this.Fc,this.va,null,t)},Y.prototype.remove=Y.prototype.remove,Y.prototype.set=function(t,e){Q("Wilddog.onDisconnect().set",1,2,arguments.length),Dd("Wilddog.onDisconnect().set",this.va),vd("Wilddog.onDisconnect().set",t,this.va,!1),S("Wilddog.onDisconnect().set",2,e,!0),uh(this.Fc,this.va,t,e)},Y.prototype.set=Y.prototype.set,Y.prototype.Ab=function(t,e,n){Q("Wilddog.onDisconnect().setWithPriority",2,3,arguments.length),Dd("Wilddog.onDisconnect().setWithPriority",this.va),vd("Wilddog.onDisconnect().setWithPriority",t,this.va,!1),zd("Wilddog.onDisconnect().setWithPriority",2,e),S("Wilddog.onDisconnect().setWithPriority",3,n,!0),vh(this.Fc,this.va,t,e,n)},Y.prototype.setWithPriority=Y.prototype.Ab,Y.prototype.update=function(t,e){if(Q("Wilddog.onDisconnect().update",1,2,arguments.length),Dd("Wilddog.onDisconnect().update",this.va),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,F("Passing an Array to Wilddog.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yd("Wilddog.onDisconnect().update",t,this.va),S("Wilddog.onDisconnect().update",2,e,!0),wh(this.Fc,this.va,t,e)},Y.prototype.update=Y.prototype.update,Yh.prototype.jd=function(t){var e,n=this;try{e=mb(t.data)}catch(r){}e&&"request"===e.a&&(Od(window,"message",this.jd),this.yd=t.origin,this.nc&&setTimeout(function(){n.nc(n.yd,e.d,function(t,e){n.pf=!e,n.nc=void 0,Zh(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},Yh.prototype.Jf=function(){try{Od(this.$c,"message",this.Pe)}catch(t){}this.nc&&(Zh(this,{a:"error",d:"unknown closed window"}),this.nc=void 0);try{window.close()}catch(e){}},Yh.prototype.Pe=function(t){if(this.pf&&"die"===t.data)try{window.close()}catch(e){}};var Z={yf:function(){vg.$f.Fe(),vg.df.cg()}};Z.forceLongPolling=Z.yf,Z.zf=function(){vg.df.Fe()},Z.forceWebSockets=Z.zf,Z.Tf=function(t,e){t.w.Sa.ne=e},Z.setSecurityDebugCallback=Z.Tf,Z.pe=function(t,e){t.w.pe(e)},Z.stats=Z.pe,Z.qe=function(t,e){t.w.qe(e)},Z.statsIncrementCounter=Z.qe,Z.Sc=function(t){return t.w.Sc},Z.dataUpdateCount=Z.Sc,Z.Cf=function(t,e){t.w.Wd=e},Z.interceptServerData=Z.Cf,Z.Gf=function(t){new Yh(t)},Z.onPopupOpen=Z.Gf,Z.Rf=function(t){Id=t},Z.setAuthenticationServer=Z.Rf,ma(E,X),NODE_CLIENT&&(module.exports=E),h=E.prototype,h.name=function(){return F("Wilddog.name() being deprecated. Please use Wilddog.key() instead."),Q("Wilddog.name",0,0,arguments.length),this.key()},h.key=function(){return Q("Wilddog.key",0,0,arguments.length),this.path.f()?null:ld(this.path)},h.F=function(e){if(Q("Wilddog.child",1,1,arguments.length),ga(e))e=String(e);else if(!(e instanceof t))if(null===L(this.path)){var n=e;n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Cd("Wilddog.child",n)}else Cd("Wilddog.child",e);return new E(this.w,this.path.F(e))},h.parent=function(){Q("Wilddog.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new E(this.w,t)},h.gf=function(){Q("Wilddog.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},h.set=function(t,e){Q("Wilddog.set",1,2,arguments.length),Dd("Wilddog.set",this.path),vd("Wilddog.set",t,this.path,!1),S("Wilddog.set",2,e,!0),this.w.Ab(this.path,t,null,e||null)},h.update=function(t,e){if(Q("Wilddog.update",1,2,arguments.length),Dd("Wilddog.update",this.path),ea(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,F("Passing an Array to Wilddog.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}yd("Wilddog.update",t,this.path),S("Wilddog.update",2,e,!0),this.w.update(this.path,t,e||null)},h.Ab=function(t,e,n){if(Q("Wilddog.setWithPriority",2,3,arguments.length),Dd("Wilddog.setWithPriority",this.path),vd("Wilddog.setWithPriority",t,this.path,!1),zd("Wilddog.setWithPriority",2,e),S("Wilddog.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Wilddog.setWithPriority failed: "+this.key()+" is a read-only object.";this.w.Ab(this.path,t,e,n||null)},h.remove=function(t){Q("Wilddog.remove",0,1,arguments.length),Dd("Wilddog.remove",this.path),S("Wilddog.remove",1,t,!0),this.set(null,t)},h.hf=function(t,e,r){if(Q("Wilddog.transaction",1,3,arguments.length),Dd("Wilddog.transaction",this.path),S("Wilddog.transaction",1,t,!1),S("Wilddog.transaction",2,e,!0),n(r)&&"boolean"!=typeof r)throw Error(R("Wilddog.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Wilddog.transaction failed: "+this.key()+" is a read-only object.";"undefined"==typeof r&&(r=!0),yh(this.w,this.path,t,e||null,r)},h.Sf=function(t,e){Q("Wilddog.setPriority",1,2,arguments.length),Dd("Wilddog.setPriority",this.path),zd("Wilddog.setPriority",1,t),S("Wilddog.setPriority",2,e,!0),this.w.Ab(this.path.F(".priority"),t,null,e)},h.push=function(t,e){Q("Wilddog.push",0,2,arguments.length),Dd("Wilddog.push",this.path),vd("Wilddog.push",t,this.path,!0),S("Wilddog.push",2,e,!0);var n=oh(this.w),n=Ih(n),n=this.F(n);return"undefined"!=typeof t&&null!==t&&n.set(t,e),n},h.Ac=function(){return Dd("Wilddog.onDisconnect",this.path),new Y(this.w,this.path)},h.V=function(t,e,n){F("WilddogRef.auth() being deprecated. Please use WilddogRef.authWithCustomToken() instead."),Q("Wilddog.auth",1,3,arguments.length),Ed("Wilddog.auth",t),S("Wilddog.auth",2,e,!0),S("Wilddog.auth",3,e,!0),me(this.w.V,t,{},{remember:"none"},e,n)},h.Bd=function(t){Q("Wilddog.unauth",0,1,arguments.length),S("Wilddog.unauth",1,t,!0),ne(this.w.V,t)},h.Pd=function(){return Q("Wilddog.getAuth",0,0,arguments.length),this.w.V.Pd()},h.Ff=function(t,e){Q("Wilddog.onAuth",1,2,arguments.length),S("Wilddog.onAuth",1,t,!1),qd("Wilddog.onAuth",2,e),this.w.V.ub("auth_status",t,e)},h.Ef=function(t,e){Q("Wilddog.offAuth",1,2,arguments.length),S("Wilddog.offAuth",1,t,!1),qd("Wilddog.offAuth",2,e),this.w.V.Xb("auth_status",t,e)},h.kf=function(t,e,n){Q("Wilddog.authWithCustomToken",2,3,arguments.length),Ed("Wilddog.authWithCustomToken",t),S("Wilddog.authWithCustomToken",2,e,!1),Gd("Wilddog.authWithCustomToken",3,n,!0),me(this.w.V,t,{},n||{},e)},h.lf=function(t,e,n){Q("Wilddog.authWithOAuthPopup",2,3,arguments.length),Fd("Wilddog.authWithOAuthPopup",1,t),S("Wilddog.authWithOAuthPopup",2,e,!1),Gd("Wilddog.authWithOAuthPopup",3,n,!0),re(this.w.V,t,n,e)},h.mf=function(t,e,n){Q("Wilddog.authWithOAuthRedirect",2,3,arguments.length),Fd("Wilddog.authWithOAuthRedirect",1,t),S("Wilddog.authWithOAuthRedirect",2,e,!1),Gd("Wilddog.authWithOAuthRedirect",3,n,!0);var r=this.w.V;pe(r);var i=[Td],o=Ld(n);"anonymous"===t||"wilddog"===t?G(e,U("TRANSPORT_UNAVAILABLE")):(qb.set("redirect_client_options",o.Oc),qe(r,i,"/auth/"+t,o,e))},h.nf=function(t,e,n,r){Q("Wilddog.authWithOAuthToken",3,4,arguments.length),Fd("Wilddog.authWithOAuthToken",1,t),S("Wilddog.authWithOAuthToken",3,n,!1),Gd("Wilddog.authWithOAuthToken",4,r,!0),p(e)?(Fd("Wilddog.authWithOAuthToken",2,e),oe(this.w.V,t+"/token",{access_token:e},r,n)):(Gd("Wilddog.authWithOAuthToken",2,e,!1),oe(this.w.V,t+"/token",e,r,n))},h.jf=function(t,e){Q("Wilddog.authAnonymously",1,2,arguments.length),S("Wilddog.authAnonymously",1,t,!1),Gd("Wilddog.authAnonymously",2,e,!0),oe(this.w.V,"anonymous",{},e,t)},h.of=function(t,e,n){Q("Wilddog.authWithPassword",2,3,arguments.length),Gd("Wilddog.authWithPassword",1,t,!1),Hd("Wilddog.authWithPassword",t,"email"),Hd("Wilddog.authWithPassword",t,"password"),S("Wilddog.authAnonymously",2,e,!1),Gd("Wilddog.authAnonymously",3,n,!0),oe(this.w.V,"password",t,n,e)},h.Ld=function(t,e){Q("Wilddog.createUser",2,2,arguments.length),Gd("Wilddog.createUser",1,t,!1),Hd("Wilddog.createUser",t,"email"),Hd("Wilddog.createUser",t,"password"),S("Wilddog.createUser",2,e,!1),this.w.V.Ld(t,e)},h.ie=function(t,e){Q("Wilddog.removeUser",2,2,arguments.length),Gd("Wilddog.removeUser",1,t,!1),Hd("Wilddog.removeUser",t,"email"),Hd("Wilddog.removeUser",t,"password"),S("Wilddog.removeUser",2,e,!1),this.w.V.ie(t,e)},h.Jd=function(t,e){Q("Wilddog.changePassword",2,2,arguments.length),Gd("Wilddog.changePassword",1,t,!1),Hd("Wilddog.changePassword",t,"email"),Hd("Wilddog.changePassword",t,"oldPassword"),Hd("Wilddog.changePassword",t,"newPassword"),S("Wilddog.changePassword",2,e,!1),this.w.V.Jd(t,e)},h.Id=function(t,e){Q("Wilddog.changeEmail",2,2,arguments.length),Gd("Wilddog.changeEmail",1,t,!1),Hd("Wilddog.changeEmail",t,"oldEmail"),Hd("Wilddog.changeEmail",t,"newEmail"),Hd("Wilddog.changeEmail",t,"password"),S("Wilddog.changeEmail",2,e,!1),this.w.V.Id(t,e)},h.ke=function(t,e){Q("Wilddog.resetPassword",2,2,arguments.length),Gd("Wilddog.resetPassword",1,t,!1),Hd("Wilddog.resetPassword",t,"email"),S("Wilddog.resetPassword",2,e,!1),this.w.V.ke(t,e)},E.Ha=function(){Q("Wilddog.goOffline",0,0,arguments.length),Hh.mb().rb()},E.Va=function(){Q("Wilddog.goOnline",0,0,arguments.length),Hh.mb().fc()},E.ta=function(){r(!0,"Can't turn on custom loggers persistently."),"undefined"!=typeof console&&("function"==typeof console.log?ua=q(console.log,console):"object"==typeof console.log&&(ua=function(t){console.log(t)}))},E.Z={TIMESTAMP:{".sv":"timestamp"}},E.o="0.4.9",E.g=Z,E.Ed=Hh,E.ue=W,"undefined"!=typeof window&&(window.Wilddog=E),E.prototype.name=E.prototype.name,E.prototype.key=E.prototype.key,E.prototype.child=E.prototype.F,E.prototype.parent=E.prototype.parent,E.prototype.root=E.prototype.gf,E.prototype.set=E.prototype.set,E.prototype.update=E.prototype.update,E.prototype.setPriority=E.prototype.Sf,E.prototype.setWithPriority=E.prototype.Ab,E.prototype.remove=E.prototype.remove,E.prototype.transaction=E.prototype.hf,E.prototype.push=E.prototype.push,E.prototype.onDisconnect=E.prototype.Ac,E.prototype.auth=E.prototype.V,E.prototype.unauth=E.prototype.Bd,E.prototype.getAuth=E.prototype.Pd,E.prototype.onAuth=E.prototype.Ff,E.prototype.offAuth=E.prototype.Ef,E.prototype.authWithCustomToken=E.prototype.kf,E.prototype.authWithOAuthPopup=E.prototype.lf,E.prototype.authWithOAuthRedirect=E.prototype.mf,E.prototype.authWithOAuthToken=E.prototype.nf,E.prototype.authAnonymously=E.prototype.jf,E.prototype.authWithPassword=E.prototype.of,E.prototype.createUser=E.prototype.Ld,E.prototype.removeUser=E.prototype.ie,E.prototype.changeEmail=E.prototype.Id,E.prototype.changePassword=E.prototype.Jd,E.prototype.resetPassword=E.prototype.ke,E.goOnline=E.Va,E.goOffline=E.Ha,E.ServerValue=E.Z,E.INTERNAL=E.g},ns.wrapper(ns.goog,ns.wd)}({goog:{},wd:{}})}).call(this,require("buffer").Buffer)},{buffer:53,http:58,https:62,"socket.io-client":2}],2:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":3}],3:[function(t,e,n){function r(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r=i(t),o=r.source,h=r.id;return e.forceNew||e["force new connection"]||!1===e.multiplex?(s("ignoring socket cache for %s",o),
n=a(o,e)):(u[h]||(s("new io instance for %s",o),u[h]=a(o,e)),n=u[h]),n.socket(r.path)}var i=t("./url"),o=t("socket.io-parser"),a=t("./manager"),s=t("debug")("socket.io-client");e.exports=n=r;var u=n.managers={};n.protocol=o.protocol,n.connect=r,n.Manager=t("./manager"),n.Socket=t("./socket")},{"./manager":4,"./socket":6,"./url":7,debug:11,"socket.io-parser":47}],4:[function(t,e,n){function r(t,e){return this instanceof r?(t&&"object"==typeof t&&(e=t,t=void 0),e=e||{},e.path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(e.reconnection!==!1),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connected=[],this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=e.autoConnect!==!1,void(this.autoConnect&&this.open())):new r(t,e)}var i=(t("./url"),t("engine.io-client")),o=t("./socket"),a=t("component-emitter"),s=t("socket.io-parser"),u=t("./on"),h=t("component-bind"),c=(t("object-component"),t("debug")("socket.io-client:manager")),f=t("indexof"),l=t("backo2");e.exports=r,r.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var t in this.nsps)this.nsps[t].emit.apply(this.nsps[t],arguments)},r.prototype.updateSocketIds=function(){for(var t in this.nsps)this.nsps[t].id=this.engine.id},a(r.prototype),r.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},r.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},r.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=i(this.uri,this.opts);var e=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=u(e,"open",function(){n.onopen(),t&&t()}),o=u(e,"error",function(e){if(c("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",e),t){var r=new Error("Connection error");r.data=e,t(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;c("connect attempt will timeout after %d",a);var s=setTimeout(function(){c("connect attempt timed out after %d",a),r.destroy(),e.close(),e.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(u(t,"data",h(this,"ondata"))),this.subs.push(u(this.decoder,"decoded",h(this,"ondecoded"))),this.subs.push(u(t,"error",h(this,"onerror"))),this.subs.push(u(t,"close",h(this,"onclose")))},r.prototype.ondata=function(t){this.decoder.add(t)},r.prototype.ondecoded=function(t){this.emit("packet",t)},r.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},r.prototype.socket=function(t){var e=this.nsps[t];if(!e){e=new o(this,t),this.nsps[t]=e;var n=this;e.on("connect",function(){e.id=n.engine.id,~f(n.connected,e)||n.connected.push(e)})}return e},r.prototype.destroy=function(t){var e=f(this.connected,t);~e&&this.connected.splice(e,1),this.connected.length||this.close()},r.prototype.packet=function(t){c("writing packet %j",t);var e=this;e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(t){for(var n=0;n<t.length;n++)e.engine.write(t[n]);e.encoding=!1,e.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},r.prototype.cleanup=function(){for(var t;t=this.subs.shift();)t.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){this.skipReconnect=!0,this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(t){c("close"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},{"./on":5,"./socket":6,"./url":7,backo2:8,"component-bind":9,"component-emitter":10,debug:11,"engine.io-client":12,indexof:43,"object-component":44,"socket.io-parser":47}],5:[function(t,e,n){function r(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}e.exports=r},{}],6:[function(t,e,n){function r(t,e){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.io.autoConnect&&this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0}var i=t("socket.io-parser"),o=t("component-emitter"),a=t("to-array"),s=t("./on"),u=t("component-bind"),h=t("debug")("socket.io-client:socket"),c=t("has-binary");e.exports=n=r;var f={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},l=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[s(t,"open",u(this,"onopen")),s(t,"packet",u(this,"onpacket")),s(t,"close",u(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},r.prototype.send=function(){var t=a(arguments);return t.unshift("message"),this.emit.apply(this,t),this},r.prototype.emit=function(t){if(f.hasOwnProperty(t))return l.apply(this,arguments),this;var e=a(arguments),n=i.EVENT;c(e)&&(n=i.BINARY_EVENT);var r={type:n,data:e};return"function"==typeof e[e.length-1]&&(h("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),this},r.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},r.prototype.onopen=function(){h("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(t){h("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},r.prototype.onpacket=function(t){if(t.nsp==this.nsp)switch(t.type){case i.CONNECT:this.onconnect();break;case i.EVENT:this.onevent(t);break;case i.BINARY_EVENT:this.onevent(t);break;case i.ACK:this.onack(t);break;case i.BINARY_ACK:this.onack(t);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",t.data)}},r.prototype.onevent=function(t){var e=t.data||[];h("emitting event %j",e),null!=t.id&&(h("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?l.apply(this,e):this.receiveBuffer.push(e)},r.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);h("sending ack %j",r);var o=c(r)?i.BINARY_ACK:i.ACK;e.packet({type:o,id:t,data:r})}}},r.prototype.onack=function(t){h("calling ack %s with %j",t.id,t.data);var e=this.acks[t.id];e.apply(this,t.data),delete this.acks[t.id]},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)l.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){h("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(h("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{"./on":5,"component-bind":9,"component-emitter":10,debug:11,"has-binary":41,"socket.io-parser":47,"to-array":51}],7:[function(t,e,n){(function(n){function r(t,e){var r=t,e=e||n.location;return null==t&&(t=e.protocol+"//"+e.host),"string"==typeof t&&("/"==t.charAt(0)&&(t="/"==t.charAt(1)?e.protocol+t:e.hostname+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t="undefined"!=typeof e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),r=i(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/",r.id=r.protocol+"://"+r.host+":"+r.port,r.href=r.protocol+"://"+r.host+(e&&e.port==r.port?"":":"+r.port),r}var i=t("parseuri"),o=t("debug")("socket.io-client:url");e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{debug:11,parseuri:45}],8:[function(t,e,n){function r(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}e.exports=r,r.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(t){this.ms=t},r.prototype.setMax=function(t){this.max=t},r.prototype.setJitter=function(t){this.jitter=t}},{}],9:[function(t,e,n){var r=[].slice;e.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return e.apply(t,n.concat(r.call(arguments)))}}},{}],10:[function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],11:[function(t,e,n){function r(t){return r.enabled(t)?function(e){e=i(e);var n=new Date,o=n-(r[t]||n);r[t]=n,e=t+" "+e+" +"+r.humanize(o),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function i(t){return t instanceof Error?t.stack||t.message:t}e.exports=r,r.names=[],r.skips=[],r.enable=function(t){try{localStorage.debug=t}catch(e){}for(var n=(t||"").split(/[\s,]+/),i=n.length,o=0;i>o;o++)t=n[o].replace("*",".*?"),"-"===t[0]?r.skips.push(new RegExp("^"+t.substr(1)+"$")):r.names.push(new RegExp("^"+t+"$"))},r.disable=function(){r.enable("")},r.humanize=function(t){var e=1e3,n=6e4,r=60*n;return t>=r?(t/r).toFixed(1)+"h":t>=n?(t/n).toFixed(1)+"m":t>=e?(t/e|0)+"s":t+"ms"},r.enabled=function(t){for(var e=0,n=r.skips.length;n>e;e++)if(r.skips[e].test(t))return!1;for(var e=0,n=r.names.length;n>e;e++)if(r.names[e].test(t))return!0;return!1};try{window.localStorage&&r.enable(localStorage.debug)}catch(o){}},{}],12:[function(t,e,n){e.exports=t("./lib/")},{"./lib/":13}],13:[function(t,e,n){e.exports=t("./socket"),e.exports.parser=t("engine.io-parser")},{"./socket":14,"engine.io-parser":26}],14:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);if(e=e||{},t&&"object"==typeof t&&(e=t,t=null),t&&(t=c(t),e.host=t.host,e.secure="https"==t.protocol||"wss"==t.protocol,e.port=t.port,t.query&&(e.query=t.query)),this.secure=null!=e.secure?e.secure:n.location&&"https:"==location.protocol,e.host){var i=e.host.split(":");e.hostname=i.shift(),i.length?e.port=i.pop():e.port||(e.port=this.secure?"443":"80")}this.agent=e.agent||!1,this.hostname=e.hostname||(n.location?location.hostname:"localhost"),this.port=e.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=e.rejectUnauthorized||null,this.open()}function i(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var o=t("./transports"),a=t("component-emitter"),s=t("debug")("engine.io-client:socket"),u=t("indexof"),h=t("engine.io-parser"),c=t("parseuri"),f=t("parsejson"),l=t("parseqs");e.exports=r,r.priorWebsocketSuccess=!1,a(r.prototype),r.protocol=h.protocol,r.Socket=r,r.Transport=t("./transport"),r.transports=t("./transports"),r.parser=t("engine.io-parser"),r.prototype.createTransport=function(t){s('creating transport "%s"',t);var e=i(this.query);e.EIO=h.protocol,e.transport=t,this.id&&(e.sid=this.id);var n=new o[t]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:e,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized});return n},r.prototype.open=function(){var t;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))t="websocket";else{if(0==this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";var t;try{t=this.createTransport(t)}catch(n){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},r.prototype.setTransport=function(t){s("setting transport %s",t.name);var e=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},r.prototype.probe=function(t){function e(){if(l.onlyBinaryUpgrades){var e=!this.supportsBinary&&l.transport.supportsBinary;f=f||e}f||(s('probe transport "%s" opened',t),c.send([{type:"ping",data:"probe"}]),c.once("packet",function(e){if(!f)if("pong"==e.type&&"probe"==e.data){if(s('probe transport "%s" pong',t),l.upgrading=!0,l.emit("upgrading",c),!c)return;r.priorWebsocketSuccess="websocket"==c.name,s('pausing current transport "%s"',l.transport.name),l.transport.pause(function(){f||"closed"!=l.readyState&&(s("changing transport and sending upgrade packet"),h(),l.setTransport(c),c.send([{type:"upgrade"}]),l.emit("upgrade",c),c=null,l.upgrading=!1,l.flush())})}else{s('probe transport "%s" failed',t);var n=new Error("probe error");n.transport=c.name,l.emit("upgradeError",n)}}))}function n(){f||(f=!0,h(),c.close(),c=null)}function i(e){var r=new Error("probe error: "+e);r.transport=c.name,n(),s('probe transport "%s" failed because of error: %s',t,e),l.emit("upgradeError",r)}function o(){i("transport closed")}function a(){i("socket closed")}function u(t){c&&t.name!=c.name&&(s('"%s" works - aborting "%s"',t.name,c.name),n())}function h(){c.removeListener("open",e),c.removeListener("error",i),c.removeListener("close",o),l.removeListener("close",a),l.removeListener("upgrading",u)}s('probing transport "%s"',t);var c=this.createTransport(t,{probe:1}),f=!1,l=this;r.priorWebsocketSuccess=!1,c.once("open",e),c.once("error",i),c.once("close",o),this.once("close",a),this.once("upgrading",u),c.open()},r.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var t=0,e=this.upgrades.length;e>t;t++)this.probe(this.upgrades[t])}},r.prototype.onPacket=function(t){if("opening"==this.readyState||"open"==this.readyState)switch(s('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(f(t.data));break;case"pong":this.setPing();break;case"error":var e=new Error("server error");e.code=t.data,this.emit("error",e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else s('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!=e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},r.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){s("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},r.prototype.ping=function(){this.sendPacket("ping")},r.prototype.onDrain=function(){for(var t=0;t<this.prevBufferLen;t++)this.callbackBuffer[t]&&this.callbackBuffer[t]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(t,e){return this.sendPacket("message",t,e),this},r.prototype.sendPacket=function(t,e,n){if("closing"!=this.readyState&&"closed"!=this.readyState){var r={type:t,data:e};this.emit("packetCreate",r),this.writeBuffer.push(r),this.callbackBuffer.push(n),this.flush()}},r.prototype.close=function(){function t(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function e(){r.removeListener("upgrade",e),r.removeListener("upgradeError",e),t()}function n(){r.once("upgrade",e),r.once("upgradeError",e)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():t()}):this.upgrading?n():t()}return this},r.prototype.onError=function(t){s("socket error %j",t),r.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},r.prototype.onClose=function(t,e){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){s('socket close with reason: "%s"',t);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){n.writeBuffer=[],n.callbackBuffer=[],n.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e)}},r.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;r>n;n++)~u(this.transports,t[n])&&e.push(t[n]);return e}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":15,"./transports":16,"component-emitter":10,debug:23,"engine.io-parser":26,indexof:43,parsejson:37,parseqs:38,parseuri:39}],15:[function(t,e,n){function r(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized}var i=t("engine.io-parser"),o=t("component-emitter");e.exports=r,o(r.prototype),r.timestamps=0,r.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},r.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},r.prototype.send=function(t){if("open"!=this.readyState)throw new Error("Transport not open");this.write(t)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(t){var e=i.decodePacket(t,this.socket.binaryType);this.onPacket(e)},r.prototype.onPacket=function(t){this.emit("packet",t)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":10,"engine.io-parser":26}],16:[function(t,e,n){(function(e){function r(t){var n,r=!1,s=!1,u=!1!==t.jsonp;if(e.location){var h="https:"==location.protocol,c=location.port;c||(c=h?443:80),r=t.hostname!=location.hostname||c!=t.port,s=t.secure!=h}if(t.xdomain=r,t.xscheme=s,n=new i(t),"open"in n&&!t.forceJSONP)return new o(t);if(!u)throw new Error("JSONP disabled");return new a(t)}var i=t("xmlhttprequest"),o=t("./polling-xhr"),a=t("./polling-jsonp"),s=t("./websocket");n.polling=r,n.websocket=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":17,"./polling-xhr":18,"./websocket":20,xmlhttprequest:21}],17:[function(t,e,n){(function(n){function r(){}function i(t){o.call(this,t),this.query=this.query||{},s||(n.___eio||(n.___eio=[]),s=n.___eio),this.index=s.length;var e=this;s.push(function(t){e.onData(t)}),this.query.j=this.index,n.document&&n.addEventListener&&n.addEventListener("beforeunload",function(){e.script&&(e.script.onerror=r)},!1)}var o=t("./polling"),a=t("component-inherit");e.exports=i;var s,u=/\n/g,h=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),this.script=e;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},i.prototype.doWrite=function(t,e){function n(){r(),e()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(t){i.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+i.iframeId+'">';o=document.createElement(e)}catch(t){o=document.createElement("iframe"),o.name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=c,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),t=t.replace(h,"\\\n"),this.area.value=t.replace(u,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":19,"component-inherit":22}],18:[function(t,e,n){(function(n){function r(){}function i(t){if(u.call(this,t),n.location){var e="https:"==location.protocol,r=location.port;r||(r=e?443:80),this.xd=t.hostname!=n.location.hostname||r!=t.port,this.xs=t.secure!=e}}function o(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!=t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.create()}function a(){for(var t in o.requests)o.requests.hasOwnProperty(t)&&o.requests[t].abort()}var s=t("xmlhttprequest"),u=t("./polling"),h=t("component-emitter"),c=t("component-inherit"),f=t("debug")("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,c(i,u),i.prototype.supportsBinary=!0,i.prototype.request=function(t){return t=t||{},t.uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,new o(t)},i.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),i=this;r.on("success",e),r.on("error",function(t){i.onError("xhr post error",t)}),this.sendXhr=r},i.prototype.doPoll=function(){f("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},h(o.prototype),o.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new s(t),r=this;try{if(f("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async),this.supportsBinary&&(e.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(i){}"withCredentials"in e&&(e.withCredentials=!0),this.hasXDR()?(e.onload=function(){r.onLoad()},e.onerror=function(){r.onError(e.responseText)}):e.onreadystatechange=function(){4==e.readyState&&(200==e.status||1223==e.status?r.onLoad():setTimeout(function(){r.onError(e.status)},0))},f("xhr data %s",this.data),e.send(this.data)}catch(i){return void setTimeout(function(){r.onError(i)},0)}n.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},o.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},o.prototype.cleanup=function(t){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,t)try{this.xhr.abort()}catch(e){}n.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(n){}t="application/octet-stream"===e?this.xhr.response:this.supportsBinary?"ok":this.xhr.responseText}catch(n){this.onError(n)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return"undefined"!=typeof n.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},n.document&&(o.requestsCount=0,o.requests={},n.attachEvent?n.attachEvent("onunload",a):n.addEventListener&&n.addEventListener("beforeunload",a,!1))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":19,"component-emitter":10,"component-inherit":22,debug:23,xmlhttprequest:21}],19:[function(t,e,n){function r(t){var e=t&&t.forceBase64;(!h||e)&&(this.supportsBinary=!1),i.call(this,t)}var i=t("../transport"),o=t("parseqs"),a=t("engine.io-parser"),s=t("component-inherit"),u=t("debug")("engine.io-client:polling");e.exports=r;var h=function(){var e=t("xmlhttprequest"),n=new e({xdomain:!1});return null!=n.responseType}();s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(t){function e(){u("paused"),n.readyState="paused",t()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||e()})),this.writable||(u("we are currently writing - waiting to pause"),
r++,this.once("drain",function(){u("pre-pause writing complete"),--r||e()}))}else e()},r.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(t){var e=this;u("polling got data %s",t);var n=function(t,n,r){return"opening"==e.readyState&&e.onOpen(),"close"==t.type?(e.onClose(),!1):void e.onPacket(t)};a.decodePayload(t,this.socket.binaryType,n),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function t(){u("writing close packet"),e.write([{type:"close"}])}var e=this;"open"==this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},r.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")},e=this;a.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=+new Date+"-"+i.timestamps++),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"==e&&443!=this.port||"http"==e&&80!=this.port)&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,xmlhttprequest:21}],20:[function(t,e,n){function r(t){var e=t&&t.forceBase64;e&&(this.supportsBinary=!1),i.call(this,t)}var i=t("../transport"),o=t("engine.io-parser"),a=t("parseqs"),s=t("component-inherit"),u=t("debug")("engine.io-client:websocket"),h=t("ws");e.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=void 0,n={agent:this.agent};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.ws=new h(t,e,n),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(t){var e=this;setTimeout(function(){i.prototype.onData.call(e,t)},0)}),r.prototype.write=function(t){function e(){n.writable=!0,n.emit("drain")}var n=this;this.writable=!1;for(var r=0,i=t.length;i>r;r++)o.encodePacket(t[r],this.supportsBinary,function(t){try{n.ws.send(t)}catch(e){u("websocket closed before onclose event")}});setTimeout(e,0)},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},r.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"==e&&443!=this.port||"ws"==e&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=+new Date),this.supportsBinary||(t.b64=1),t=a.encode(t),t.length&&(t="?"+t),e+"://"+this.hostname+n+this.path+t},r.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===r.prototype.name)}},{"../transport":15,"component-inherit":22,debug:23,"engine.io-parser":26,parseqs:38,ws:40}],21:[function(t,e,n){var r=t("has-cors");e.exports=function(t){var e=t.xdomain,n=t.xscheme,i=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!e)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":35}],22:[function(t,e,n){e.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],23:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&"function"==typeof console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?localStorage.removeItem("debug"):localStorage.debug=t}catch(e){}}function s(){var t;try{t=localStorage.debug}catch(e){}return t}n=e.exports=t("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r,n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":24}],24:[function(t,e,n){function r(){return n.colors[c++%n.colors.length]}function i(t){function e(){}function i(){var t=i,e=+new Date,o=e-(h||e);t.diff=o,t.prev=h,t.curr=e,h=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];e=i.call(t,o),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var u=i.log||n.log||console.log.bind(console);u.apply(t,a)}e.enabled=!1,i.enabled=!0;var o=n.enabled(t)?i:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;r>i;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,r;for(e=0,r=n.skips.length;r>e;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;r>e;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i,n.coerce=u,n.disable=a,n.enable=o,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var h,c=0},{ms:25}],25:[function(t,e,n){function r(t){var e=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"y":return n*f;case"days":case"day":case"d":return n*c;case"hours":case"hour":case"h":return n*h;case"minutes":case"minute":case"m":return n*u;case"seconds":case"second":case"s":return n*s;case"ms":return n}}}function i(t){return t>=c?Math.round(t/c)+"d":t>=h?Math.round(t/h)+"h":t>=u?Math.round(t/u)+"m":t>=s?Math.round(t/s)+"s":t+"ms"}function o(t){return a(t,c,"day")||a(t,h,"hour")||a(t,u,"minute")||a(t,s,"second")||t+" ms"}function a(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var s=1e3,u=60*s,h=60*u,c=24*h,f=365.25*c;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e["long"]?o(t):i(t)}},{}],26:[function(t,e,n){(function(e){function r(t,e){var r="b"+n.packets[t.type]+t.data.data;return e(r)}function i(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=t.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=v[t.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(t,e,r){if(!e)return n.encodeBase64Packet(t,r);var i=new FileReader;return i.onload=function(){t.data=i.result,n.encodePacket(t,e,!0,r)},i.readAsArrayBuffer(t.data)}function a(t,e,r){if(!e)return n.encodeBase64Packet(t,r);if(y)return o(t,e,r);var i=new Uint8Array(1);i[0]=v[t.type];var a=new w([i.buffer,t.data]);return r(a)}function s(t,e,n){for(var r=new Array(t.length),i=l(t.length,n),o=function(t,n,i){e(n,function(e,n){r[t]=n,i(e,r)})},a=0;a<t.length;a++)o(a,t[a],i)}var u=t("./keys"),h=t("has-binary"),c=t("arraybuffer.slice"),f=t("base64-arraybuffer"),l=t("after"),p=t("utf8"),d=navigator.userAgent.match(/Android/i),g=/PhantomJS/i.test(navigator.userAgent),y=d||g;n.protocol=3;var v=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},b=u(v),m={type:"error",data:"parser error"},w=t("blob");n.encodePacket=function(t,n,o,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof o&&(s=o,o=null);var u=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&u instanceof ArrayBuffer)return i(t,n,s);if(w&&u instanceof e.Blob)return a(t,n,s);if(u&&u.base64)return r(t,s);var h=v[t.type];return void 0!==t.data&&(h+=o?p.encode(String(t.data)):String(t.data)),s(""+h)},n.encodeBase64Packet=function(t,r){var i="b"+n.packets[t.type];if(w&&t.data instanceof w){var o=new FileReader;return o.onload=function(){var t=o.result.split(",")[1];r(i+t)},o.readAsDataURL(t.data)}var a;try{a=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(s){for(var u=new Uint8Array(t.data),h=new Array(u.length),c=0;c<u.length;c++)h[c]=u[c];a=String.fromCharCode.apply(null,h)}return i+=e.btoa(a),r(i)},n.decodePacket=function(t,e,r){if("string"==typeof t||void 0===t){if("b"==t.charAt(0))return n.decodeBase64Packet(t.substr(1),e);if(r)try{t=p.decode(t)}catch(i){return m}var o=t.charAt(0);return Number(o)==o&&b[o]?t.length>1?{type:b[o],data:t.substring(1)}:{type:b[o]}:m}var a=new Uint8Array(t),o=a[0],s=c(t,1);return w&&"blob"===e&&(s=new w([s])),{type:b[o],data:s}},n.decodeBase64Packet=function(t,n){var r=b[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=f.decode(t.substr(1));return"blob"===n&&w&&(i=new w([i])),{type:r,data:i}},n.encodePayload=function(t,e,r){function i(t){return t.length+":"+t}function o(t,r){n.encodePacket(t,a?e:!1,!0,function(t){r(null,i(t))})}"function"==typeof e&&(r=e,e=null);var a=h(t);return e&&a?w&&!y?n.encodePayloadAsBlob(t,r):n.encodePayloadAsArrayBuffer(t,r):t.length?void s(t,o,function(t,e){return r(e.join(""))}):r("0:")},n.decodePayload=function(t,e,r){if("string"!=typeof t)return n.decodePayloadAsBinary(t,e,r);"function"==typeof e&&(r=e,e=null);var i;if(""==t)return r(m,0,1);for(var o,a,s="",u=0,h=t.length;h>u;u++){var c=t.charAt(u);if(":"!=c)s+=c;else{if(""==s||s!=(o=Number(s)))return r(m,0,1);if(a=t.substr(u+1,o),s!=a.length)return r(m,0,1);if(a.length){if(i=n.decodePacket(a,e,!0),m.type==i.type&&m.data==i.data)return r(m,0,1);var f=r(i,u+o,h);if(!1===f)return}u+=o,s=""}}return""!=s?r(m,0,1):void 0},n.encodePayloadAsArrayBuffer=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){return e(null,t)})}return t.length?void s(t,r,function(t,n){var r=n.reduce(function(t,e){var n;return n="string"==typeof e?e.length:e.byteLength,t+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return n.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}e?i[o++]=0:i[o++]=1;for(var s=n.byteLength.toString(),a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(var r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),e(i.buffer)}):e(new ArrayBuffer(0))},n.encodePayloadAsBlob=function(t,e){function r(t,e){n.encodePacket(t,!0,!0,function(t){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);t=r.buffer,n[0]=0}for(var o=t instanceof ArrayBuffer?t.byteLength:t.size,a=o.toString(),s=new Uint8Array(a.length+1),i=0;i<a.length;i++)s[i]=parseInt(a[i]);if(s[a.length]=255,w){var u=new w([n.buffer,s.buffer,t]);e(null,u)}})}s(t,r,function(t,n){return e(new w(n))})},n.decodePayloadAsBinary=function(t,e,r){"function"==typeof e&&(r=e,e=null);for(var i=t,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),u=0===s[0],h="",f=1;255!=s[f];f++){if(h.length>310){a=!0;break}h+=s[f]}if(a)return r(m,0,1);i=c(i,2+h.length),h=parseInt(h);var l=c(i,0,h);if(u)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(p){var d=new Uint8Array(l);l="";for(var f=0;f<d.length;f++)l+=String.fromCharCode(d[f])}o.push(l),i=c(i,h)}var g=o.length;o.forEach(function(t,i){r(n.decodePacket(t,e,!0),i,g)})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":27,after:28,"arraybuffer.slice":29,"base64-arraybuffer":30,blob:31,"has-binary":32,utf8:34}],27:[function(t,e,n){e.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},{}],28:[function(t,e,n){function r(t,e,n){function r(t,i){if(r.count<=0)throw new Error("after called too many times");--r.count,t?(o=!0,e(t),e=n):0!==r.count||o||e(null,i)}var o=!1;return n=n||i,r.count=t,0===t?e():r}function i(){}e.exports=r},{}],29:[function(t,e,n){e.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(0>e&&(e+=r),0>n&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(t),o=new Uint8Array(n-e),a=e,s=0;n>a;a++,s++)o[s]=i[a];return o.buffer}},{}],30:[function(t,e,n){!function(t){"use strict";n.encode=function(e){var n,r=new Uint8Array(e),i=r.length,o="";for(n=0;i>n;n+=3)o+=t[r[n]>>2],o+=t[(3&r[n])<<4|r[n+1]>>4],o+=t[(15&r[n+1])<<2|r[n+2]>>6],o+=t[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,r,i,o,a,s=.75*e.length,u=e.length,h=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),f=new Uint8Array(c);for(n=0;u>n;n+=4)r=t.indexOf(e[n]),i=t.indexOf(e[n+1]),o=t.indexOf(e[n+2]),a=t.indexOf(e[n+3]),f[h++]=r<<2|i>>4,f[h++]=(15&i)<<4|o>>2,f[h++]=(3&o)<<6|63&a;return c}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],31:[function(t,e,n){(function(t){function n(t,e){e=e||{};for(var n=new r,i=0;i<t.length;i++)n.append(t[i]);return e.type?n.getBlob(e.type):n.getBlob()}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,i=function(){try{var t=new Blob(["hi"]);return 2==t.size}catch(e){return!1}}(),o=r&&r.prototype.append&&r.prototype.getBlob;e.exports=function(){return i?t.Blob:o?n:void 0}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(i(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var o in t)if(t.hasOwnProperty(o)&&e(t[o]))return!0}return!1}return e(t)}var i=t("isarray");e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:33}],33:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],34:[function(t,e,n){(function(t){!function(r){function i(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function o(t){for(var e,n=t.length,r=-1,i="";++r<n;)e=t[r],e>65535&&(e-=65536,i+=b(e>>>10&1023|55296),e=56320|1023&e),i+=b(e);return i}function a(t,e){return b(t>>e&63|128)}function s(t){if(0==(4294967168&t))return b(t);var e="";return 0==(4294965248&t)?e=b(t>>6&31|192):0==(4294901760&t)?(e=b(t>>12&15|224),e+=a(t,6)):0==(4292870144&t)&&(e=b(t>>18&7|240),e+=a(t,12),e+=a(t,6)),e+=b(63&t|128)}function u(t){for(var e,n=i(t),r=n.length,o=-1,a="";++o<r;)e=n[o],a+=s(e);return a}function h(){if(v>=y)throw Error("Invalid byte index");var t=255&g[v];if(v++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function c(){var t,e,n,r,i;if(v>y)throw Error("Invalid byte index");if(v==y)return!1;if(t=255&g[v],v++,0==(128&t))return t;if(192==(224&t)){var e=h();if(i=(31&t)<<6|e,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&t)){if(e=h(),n=h(),i=(15&t)<<12|e<<6|n,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&t)&&(e=h(),n=h(),r=h(),i=(15&t)<<18|e<<12|n<<6|r,i>=65536&&1114111>=i))return i;throw Error("Invalid UTF-8 detected")}function f(t){g=i(t),y=g.length,v=0;for(var e,n=[];(e=c())!==!1;)n.push(e);return o(n)}var l="object"==typeof n&&n,p="object"==typeof e&&e&&e.exports==l&&e,d="object"==typeof t&&t;(d.global===d||d.window===d)&&(r=d);var g,y,v,b=String.fromCharCode,m={version:"2.0.0",encode:u,decode:f};if(l&&!l.nodeType)if(p)p.exports=m;else{var w={},E=w.hasOwnProperty;for(var A in m)E.call(m,A)&&(l[A]=m[A])}else"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return m}):r.utf8=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],35:[function(t,e,n){var r=t("global");try{e.exports="XMLHttpRequest"in r&&"withCredentials"in new r.XMLHttpRequest}catch(i){e.exports=!1}},{global:36}],36:[function(t,e,n){e.exports=function(){return this}()},{}],37:[function(t,e,n){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,e,n){n.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},n.decode=function(t){for(var e={},n=t.split("&"),r=0,i=n.length;i>r;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},{}],39:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){var e=t,n=t.indexOf("["),o=t.indexOf("]");-1!=n&&-1!=o&&(t=t.substring(0,n)+t.substring(n,o).replace(/:/g,";")+t.substring(o,t.length));for(var a=r.exec(t||""),s={},u=14;u--;)s[i[u]]=a[u]||"";return-1!=n&&-1!=o&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},{}],40:[function(t,e,n){function r(t,e,n){var r;return r=e?new o(t,e):new o(t)}var i=function(){return this}(),o=i.WebSocket||i.MozWebSocket;e.exports=o?r:null,o&&(r.prototype=o.prototype)},{}],41:[function(t,e,n){(function(n){function r(t){function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(i(t)){for(var r=0;r<t.length;r++)if(e(t[r]))return!0}else if(t&&"object"==typeof t){t.toJSON&&(t=t.toJSON());for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&e(t[o]))return!0}return!1}return e(t)}var i=t("isarray");e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:42}],42:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],43:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],44:[function(t,e,n){var r=Object.prototype.hasOwnProperty;n.keys=Object.keys||function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},n.values=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(t[n]);return e},n.merge=function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t},n.length=function(t){return n.keys(t).length},n.isEmpty=function(t){return 0==n.length(t)}},{}],45:[function(t,e,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(t){for(var e=r.exec(t||""),n={},o=14;o--;)n[i[o]]=e[o]||"";return n}},{}],46:[function(t,e,n){(function(e){var r=t("isarray"),i=t("./is-buffer");n.deconstructPacket=function(t){function e(t){if(!t)return t;if(i(t)){var o={_placeholder:!0,num:n.length};return n.push(t),o}if(r(t)){for(var a=new Array(t.length),s=0;s<t.length;s++)a[s]=e(t[s]);return a}if("object"==typeof t&&!(t instanceof Date)){var a={};for(var u in t)a[u]=e(t[u]);return a}return t}var n=[],o=t.data,a=t;return a.data=e(o),a.attachments=n.length,{packet:a,buffers:n}},n.reconstructPacket=function(t,e){function n(t){if(t&&t._placeholder){var i=e[t.num];return i}if(r(t)){for(var o=0;o<t.length;o++)t[o]=n(t[o]);return t}if(t&&"object"==typeof t){for(var a in t)t[a]=n(t[a]);return t}return t}return t.data=n(t.data),t.attachments=void 0,t},n.removeBlobs=function(t,n){function o(t,u,h){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){a++;var c=new FileReader;c.onload=function(){h?h[u]=this.result:s=this.result,--a||n(s)},c.readAsArrayBuffer(t)}else if(r(t))for(var f=0;f<t.length;f++)o(t[f],f,t);else if(t&&"object"==typeof t&&!i(t))for(var l in t)o(t[l],l,t)}var a=0,s=t;o(s),a||n(s)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./is-buffer":48,isarray:49}],47:[function(t,e,n){function r(){}function i(t){var e="",r=!1;return e+=t.type,(n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)&&(e+=t.attachments,e+="-"),t.nsp&&"/"!=t.nsp&&(r=!0,e+=t.nsp),null!=t.id&&(r&&(e+=",",r=!1),e+=t.id),null!=t.data&&(r&&(e+=","),e+=f.stringify(t.data)),c("encoded %j as %s",t,e),e}function o(t,e){function n(t){var n=p.deconstructPacket(t),r=i(n.packet),o=n.buffers;o.unshift(r),e(o)}p.removeBlobs(t,n)}function a(){this.reconstructor=null}function s(t){var e={},r=0;if(e.type=Number(t.charAt(0)),null==n.types[e.type])return h();if(n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type){for(var i="";"-"!=t.charAt(++r)&&(i+=t.charAt(r),r!=t.length););if(i!=Number(i)||"-"!=t.charAt(r))throw new Error("Illegal attachments");e.attachments=Number(i)}if("/"==t.charAt(r+1))for(e.nsp="";++r;){var o=t.charAt(r);if(","==o)break;if(e.nsp+=o,r==t.length)break}else e.nsp="/";var a=t.charAt(r+1);if(""!==a&&Number(a)==a){for(e.id="";++r;){var o=t.charAt(r);if(null==o||Number(o)!=o){--r;break}if(e.id+=t.charAt(r),r==t.length)break}e.id=Number(e.id)}if(t.charAt(++r))try{e.data=f.parse(t.substr(r))}catch(s){return h()}return c("decoded %s as %j",t,e),e}function u(t){this.reconPack=t,this.buffers=[]}function h(t){return{type:n.ERROR,data:"parser error"}}var c=t("debug")("socket.io-parser"),f=t("json3"),l=(t("isarray"),t("component-emitter")),p=t("./binary"),d=t("./is-buffer");n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=r,n.Decoder=a,r.prototype.encode=function(t,e){if(c("encoding packet %j",t),n.BINARY_EVENT==t.type||n.BINARY_ACK==t.type)o(t,e);else{var r=i(t);e([r])}},l(a.prototype),a.prototype.add=function(t){var e;if("string"==typeof t)e=s(t),n.BINARY_EVENT==e.type||n.BINARY_ACK==e.type?(this.reconstructor=new u(e),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",e)):this.emit("decoded",e);else{if(!d(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,this.emit("decoded",e))}},a.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},u.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length==this.reconPack.attachments){var e=p.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},u.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":46,"./is-buffer":48,"component-emitter":10,debug:11,isarray:49,json3:50}],48:[function(t,e,n){(function(t){function n(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],50:[function(t,e,n){!function(t){function e(t){if(e[t]!==o)return e[t];var n;if("bug-string-char-index"==t)n="a"!="a"[0];else if("json"==t)n=e("json-stringify")&&e("json-parse");else{var r,i='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var s=h.stringify,u="function"==typeof s&&c;if(u){(r=function(){return 1}).toJSON=r;try{u="0"===s(0)&&"0"===s(new Number)&&'""'==s(new String)&&s(a)===o&&s(o)===o&&s()===o&&"1"===s(r)&&"[1]"==s([r])&&"[null]"==s([o])&&"null"==s(null)&&"[null,null,null]"==s([o,a,null])&&s({a:[r,!0,!1,null,"\x00\b\n\f\r	"]})==i&&"1"===s(null,r)&&"[\n 1,\n 2\n]"==s([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==s(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==s(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==s(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==s(new Date(-1))}catch(f){u=!1}}n=u}if("json-parse"==t){var l=h.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){r=l(i);var p=5==r.a.length&&1===r.a[0];if(p){try{p=!l('"	"')}catch(f){}if(p)try{p=1!==l("01")}catch(f){}if(p)try{p=1!==l("1.")}catch(f){}}}}catch(f){p=!1}n=p}}return e[t]=!!n}var r,i,o,a={}.toString,s="function"==typeof define&&define.amd,u="object"==typeof JSON&&JSON,h="object"==typeof n&&n&&!n.nodeType&&n;h&&u?(h.stringify=u.stringify,h.parse=u.parse):h=t.JSON=u||{};var c=new Date(-0xc782b5b800cec);try{c=-109252==c.getUTCFullYear()&&0===c.getUTCMonth()&&1===c.getUTCDate()&&10==c.getUTCHours()&&37==c.getUTCMinutes()&&6==c.getUTCSeconds()&&708==c.getUTCMilliseconds()}catch(f){}if(!e("json")){var l="[object Function]",p="[object Date]",d="[object Number]",g="[object String]",y="[object Array]",v="[object Boolean]",b=e("bug-string-char-index");if(!c)var m=Math.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(t,e){return w[e]+365*(t-1970)+m((t-1969+(e=+(e>1)))/4)-m((t-1901+e)/100)+m((t-1601+e)/400)};(r={}.hasOwnProperty)||(r=function(t){var e,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=a?r=function(t){var e=this.__proto__,n=t in(this.__proto__=null,this);return this.__proto__=e,n}:(e=n.constructor,r=function(t){var n=(this.constructor||e).prototype;return t in this&&!(t in n&&this[t]===n[t])}),n=null,r.call(this,t)});var A={"boolean":1,number:1,string:1,undefined:1},k=function(t,e){var n=typeof t[e];return"object"==n?!!t[e]:!A[n]};if(i=function(t,e){var n,o,s,u=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,o=new n;for(s in o)r.call(o,s)&&u++;return n=o=null,u?i=2==u?function(t,e){var n,i={},o=a.call(t)==l;for(n in t)o&&"prototype"==n||r.call(i,n)||!(i[n]=1)||!r.call(t,n)||e(n)}:function(t,e){var n,i,o=a.call(t)==l;for(n in t)o&&"prototype"==n||!r.call(t,n)||(i="constructor"===n)||e(n);(i||r.call(t,n="constructor"))&&e(n)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],i=function(t,e){var n,i,s=a.call(t)==l,u=!s&&"function"!=typeof t.constructor&&k(t,"hasOwnProperty")?t.hasOwnProperty:r;for(n in t)s&&"prototype"==n||!u.call(t,n)||e(n);for(i=o.length;n=o[--i];u.call(t,n)&&e(n));}),i(t,e)},!e("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},_="000000",T=function(t,e){return(_+(e||0)).slice(-t)},x="\\u00",C=function(t){var e,n='"',r=0,i=t.length,o=i>10&&b;for(o&&(e=t.split(""));i>r;r++){var a=t.charCodeAt(r);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:n+=S[a];break;default:if(32>a){n+=x+T(2,a.toString(16));break}n+=o?e[r]:b?t.charAt(r):t[r]}}return n+'"'},R=function(t,e,n,s,u,h,c){var f,l,b,w,A,k,S,_,x,j,O,B,L,I,D,W;try{f=e[t]}catch(P){}if("object"==typeof f&&f)if(l=a.call(f),l!=p||r.call(f,"toJSON"))"function"==typeof f.toJSON&&(l!=d&&l!=g&&l!=y||r.call(f,"toJSON"))&&(f=f.toJSON(t));else if(f>-1/0&&1/0>f){if(E){for(A=m(f/864e5),b=m(A/365.2425)+1970-1;E(b+1,0)<=A;b++);for(w=m((A-E(b,0))/30.42);E(b,w+1)<=A;w++);A=1+A-E(b,w),k=(f%864e5+864e5)%864e5,S=m(k/36e5)%24,_=m(k/6e4)%60,x=m(k/1e3)%60,j=k%1e3}else b=f.getUTCFullYear(),w=f.getUTCMonth(),A=f.getUTCDate(),S=f.getUTCHours(),_=f.getUTCMinutes(),x=f.getUTCSeconds(),j=f.getUTCMilliseconds();f=(0>=b||b>=1e4?(0>b?"-":"+")+T(6,0>b?-b:b):T(4,b))+"-"+T(2,w+1)+"-"+T(2,A)+"T"+T(2,S)+":"+T(2,_)+":"+T(2,x)+"."+T(3,j)+"Z"}else f=null;if(n&&(f=n.call(e,t,f)),null===f)return"null";if(l=a.call(f),l==v)return""+f;if(l==d)return f>-1/0&&1/0>f?""+f:"null";if(l==g)return C(""+f);if("object"==typeof f){for(I=c.length;I--;)if(c[I]===f)throw TypeError();if(c.push(f),O=[],D=h,h+=u,l==y){for(L=0,I=f.length;I>L;L++)B=R(L,f,n,s,u,h,c),O.push(B===o?"null":B);W=O.length?u?"[\n"+h+O.join(",\n"+h)+"\n"+D+"]":"["+O.join(",")+"]":"[]"}else i(s||f,function(t){var e=R(t,f,n,s,u,h,c);e!==o&&O.push(C(t)+":"+(u?" ":"")+e)}),W=O.length?u?"{\n"+h+O.join(",\n"+h)+"\n"+D+"}":"{"+O.join(",")+"}":"{}";return c.pop(),W}};h.stringify=function(t,e,n){var r,i,o,s;if("function"==typeof e||"object"==typeof e&&e)if((s=a.call(e))==l)i=e;else if(s==y){o={};for(var u,h=0,c=e.length;c>h;u=e[h++],s=a.call(u),(s==g||s==d)&&(o[u]=1));}if(n)if((s=a.call(n))==d){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else s==g&&(r=n.length<=10?n:n.slice(0,10));return R("",(u={},u[""]=t,u),i,o,r,"",[])}}if(!e("json-parse")){var j,O,B=String.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},I=function(){throw j=O=null,SyntaxError()},D=function(){for(var t,e,n,r,i,o=O,a=o.length;a>j;)switch(i=o.charCodeAt(j)){case 9:case 10:case 13:case 32:j++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=b?o.charAt(j):o[j],j++,t;case 34:for(t="@",j++;a>j;)if(i=o.charCodeAt(j),32>i)I();else if(92==i)switch(i=o.charCodeAt(++j)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=L[i],j++;break;case 117:for(e=++j,n=j+4;n>j;j++)i=o.charCodeAt(j),i>=48&&57>=i||i>=97&&102>=i||i>=65&&70>=i||I();t+=B("0x"+o.slice(e,j));break;default:I()}else{if(34==i)break;for(i=o.charCodeAt(j),e=j;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++j);t+=o.slice(e,j)}if(34==o.charCodeAt(j))return j++,t;I();default:if(e=j,45==i&&(r=!0,i=o.charCodeAt(++j)),i>=48&&57>=i){for(48==i&&(i=o.charCodeAt(j+1),i>=48&&57>=i)&&I(),r=!1;a>j&&(i=o.charCodeAt(j),i>=48&&57>=i);j++);if(46==o.charCodeAt(j)){for(n=++j;a>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==j&&I(),j=n}if(i=o.charCodeAt(j),101==i||69==i){for(i=o.charCodeAt(++j),(43==i||45==i)&&j++,n=j;a>n&&(i=o.charCodeAt(n),i>=48&&57>=i);n++);n==j&&I(),j=n}return+o.slice(e,j)}if(r&&I(),"true"==o.slice(j,j+4))return j+=4,!0;if("false"==o.slice(j,j+5))return j+=5,!1;if("null"==o.slice(j,j+4))return j+=4,null;I()}return"$"},W=function(t){var e,n;if("$"==t&&I(),"string"==typeof t){if("@"==(b?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];t=D(),"]"!=t;n||(n=!0))n&&(","==t?(t=D(),"]"==t&&I()):I()),","==t&&I(),e.push(W(t));return e}if("{"==t){for(e={};t=D(),"}"!=t;n||(n=!0))n&&(","==t?(t=D(),
"}"==t&&I()):I()),(","==t||"string"!=typeof t||"@"!=(b?t.charAt(0):t[0])||":"!=D())&&I(),e[t.slice(1)]=W(D());return e}I()}return t},P=function(t,e,n){var r=N(t,e,n);r===o?delete t[e]:t[e]=r},N=function(t,e,n){var r,o=t[e];if("object"==typeof o&&o)if(a.call(o)==y)for(r=o.length;r--;)P(o,r,n);else i(o,function(t){P(o,t,n)});return n.call(t,e,o)};h.parse=function(t,e){var n,r;return j=0,O=""+t,n=W(D()),"$"!=D()&&I(),j=O=null,e&&a.call(e)==l?N((r={},r[""]=n,r),"",e):n}}}s&&define(function(){return h})}(this)},{}],51:[function(t,e,n){function r(t,e){var n=[];e=e||0;for(var r=e||0;r<t.length;r++)n[r-e]=t[r];return n}e.exports=r},{}],52:[function(t,e,n){},{}],53:[function(t,e,n){function r(t){return this instanceof r?(this.length=0,this.parent=void 0,"number"==typeof t?i(this,t):"string"==typeof t?o(this,t,arguments.length>1?arguments[1]:"utf8"):a(this,t)):arguments.length>1?new r(t,arguments[1]):new r(t)}function i(t,e){if(t=l(t,0>e?0:0|p(e)),!r.TYPED_ARRAY_SUPPORT)for(var n=0;e>n;n++)t[n]=0;return t}function o(t,e,n){("string"!=typeof n||""===n)&&(n="utf8");var r=0|g(e,n);return t=l(t,r),t.write(e,n),t}function a(t,e){if(r.isBuffer(e))return s(t,e);if(H(e))return u(t,e);if(null==e)throw new TypeError("must start with number, buffer, array or string");return"undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer?h(t,e):e.length?c(t,e):f(t,e)}function s(t,e){var n=0|p(e.length);return t=l(t,n),e.copy(t,0,0,n),t}function u(t,e){var n=0|p(e.length);t=l(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function h(t,e){var n=0|p(e.length);t=l(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function c(t,e){var n=0|p(e.length);t=l(t,n);for(var r=0;n>r;r+=1)t[r]=255&e[r];return t}function f(t,e){var n,r=0;"Buffer"===e.type&&H(e.data)&&(n=e.data,r=0|p(n.length)),t=l(t,r);for(var i=0;r>i;i+=1)t[i]=255&n[i];return t}function l(t,e){r.TYPED_ARRAY_SUPPORT?t=r._augment(new Uint8Array(e)):(t.length=e,t._isBuffer=!0);var n=0!==e&&e<=r.poolSize>>>1;return n&&(t.parent=Y),t}function p(t){if(t>=z)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z.toString(16)+" bytes");return 0|t}function d(t,e){if(!(this instanceof d))return new d(t,e);var n=new r(t,e);return delete n.parent,n}function g(t,e){if("string"!=typeof t&&(t=String(t)),0===t.length)return 0;switch(e||"utf8"){case"ascii":case"binary":case"raw":return t.length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t.length;case"hex":return t.length>>>1;case"utf8":case"utf-8":return N(t).length;case"base64":return q(t).length;default:return t.length}}function y(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function v(t,e,n,r){return F(N(e,t.length-n),t,n,r)}function b(t,e,n,r){return F(M(e),t,n,r)}function m(t,e,n,r){return b(t,e,n,r)}function w(t,e,n,r){return F(q(e),t,n,r)}function E(t,e,n,r){return F(U(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function k(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=Q(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+Q(i)}function S(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function _(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function T(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=P(t[o]);return i}function x(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function C(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,n,i,o,a){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||a>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function j(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function O(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function B(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function L(t,e,n,r,i){return i||B(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,e,n,r,23,4),n+4}function I(t,e,n,r,i){return i||B(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,e,n,r,52,8),n+8}function D(t){if(t=W(t).replace(K,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return 16>t?"0"+t.toString(16):t.toString(16)}function N(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function M(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function U(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function q(t){return X.toByteArray(D(t))}function F(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function Q(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var X=t("base64-js"),J=t("ieee754"),H=t("is-array");n.Buffer=r,n.SlowBuffer=d,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var z=1073741823,Y={};r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);a>o&&t[o]===e[o];)++o;return o!==a&&(n=t[o],i=e[o]),i>n?-1:n>i?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!H(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(i,o),o+=a.length}return i},r.byteLength=g,r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,n){var r=!1;if(e=0|e,n=void 0===n||n===1/0?this.length:0|n,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return S(this,e,n);case"binary":return _(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:r.compare(this,t)},r.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(r.isBuffer(t))return n(this,t,e);if("number"==typeof t)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else if(isFinite(e))e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0);else{var i=r;r=e,e=0|n,n=i}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(0>n||0>e)||e>this.length)throw new RangeError("attempt to write outside buffer bounds");r||(r="utf8");for(var a=!1;;)switch(r){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return v(this,t,e,n);case"ascii":return b(this,t,e,n);case"binary":return m(this,t,e,n);case"base64":return w(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=r._augment(this.subarray(t,e));else{var o=e-t;i=new r(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},r.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},r.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},r.prototype.readUInt8=function(t,e){return e||C(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||C(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||C(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},r.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||C(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||C(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||C(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||C(t,4,this.length),J.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||C(t,4,this.length),J.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||C(t,8,this.length),J.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||C(t,8,this.length),J.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||R(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,r){t=+t,e=0|e,n=0|n,r||R(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):j(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):O(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):O(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=0,a=1,s=0>t?1:0;for(this[e]=255&t;++o<n&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},r.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);R(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0>t?1:0;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=(t/a>>0)-s&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):j(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):j(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):O(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e=0|e,n||R(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):O(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return I(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return I(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;if(1e3>o||!r.TYPED_ARRAY_SUPPORT)for(var a=0;o>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+o),e);return o},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=N(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var G=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._set=t.set,t.get=G.get,t.set=G.set,t.write=G.write,t.toString=G.toString,t.toLocaleString=G.toString,t.toJSON=G.toJSON,t.equals=G.equals,t.compare=G.compare,t.indexOf=G.indexOf,t.copy=G.copy,t.slice=G.slice,t.readUIntLE=G.readUIntLE,t.readUIntBE=G.readUIntBE,t.readUInt8=G.readUInt8,t.readUInt16LE=G.readUInt16LE,t.readUInt16BE=G.readUInt16BE,t.readUInt32LE=G.readUInt32LE,t.readUInt32BE=G.readUInt32BE,t.readIntLE=G.readIntLE,t.readIntBE=G.readIntBE,t.readInt8=G.readInt8,t.readInt16LE=G.readInt16LE,t.readInt16BE=G.readInt16BE,t.readInt32LE=G.readInt32LE,t.readInt32BE=G.readInt32BE,t.readFloatLE=G.readFloatLE,t.readFloatBE=G.readFloatBE,t.readDoubleLE=G.readDoubleLE,t.readDoubleBE=G.readDoubleBE,t.writeUInt8=G.writeUInt8,t.writeUIntLE=G.writeUIntLE,t.writeUIntBE=G.writeUIntBE,t.writeUInt16LE=G.writeUInt16LE,t.writeUInt16BE=G.writeUInt16BE,t.writeUInt32LE=G.writeUInt32LE,t.writeUInt32BE=G.writeUInt32BE,t.writeIntLE=G.writeIntLE,t.writeIntBE=G.writeIntBE,t.writeInt8=G.writeInt8,t.writeInt16LE=G.writeInt16LE,t.writeInt16BE=G.writeInt16BE,t.writeInt32LE=G.writeInt32LE,t.writeInt32BE=G.writeInt32BE,t.writeFloatLE=G.writeFloatLE,t.writeFloatBE=G.writeFloatBE,t.writeDoubleLE=G.writeDoubleLE,t.writeDoubleBE=G.writeDoubleBE,t.fill=G.fill,t.inspect=G.inspect,t.toArrayBuffer=G.toArrayBuffer,t};var K=/[^+\/0-9A-z\-]/g},{"base64-js":54,ieee754:55,"is-array":56}],54:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===f?62:e===s||e===l?63:u>e?-1:u+10>e?e-u+26+26:c+26>e?e-c:h+26>e?e-h+26:void 0}function n(t){function n(t){h[f++]=t}var r,i,a,s,u,h;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=t.length;u="="===t.charAt(c-2)?2:"="===t.charAt(c-1)?1:0,h=new o(3*t.length/4-u),a=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===u?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===u&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),h}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,u="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(s){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),h="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),l="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],55:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,h=u>>1,c=-7,f=n?i-1:0,l=n?-1:1,p=t[e+f];for(f+=l,o=p&(1<<-c)-1,p>>=-c,c+=s;c>0;o=256*o+t[e+f],f+=l,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+t[e+f],f+=l,c-=8);if(0===o)o=1-h;else{if(o===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,r),o-=h}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,u,h=8*o-i-1,c=(1<<h)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+f>=1?l/u:l*Math.pow(2,1-f),e*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(e*u-1)*Math.pow(2,i),a+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,h+=i;h>0;t[n+p]=255&a,p+=d,a/=256,h-=8);t[n+p-d]|=128*g}},{}],56:[function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],57:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],s(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(a(n)){for(r=arguments.length,o=new Array(r-1),u=1;r>u;u++)o[u-1]=arguments[u];for(h=n.slice(),r=h.length,u=0;r>u;u++)h[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned){var n;n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(n)){for(s=o;s-->0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],58:[function(t,e,n){var r=e.exports,i=(t("events").EventEmitter,t("./lib/request")),o=t("url");r.request=function(t,e){"string"==typeof t&&(t=o.parse(t)),t||(t={}),t.host||t.port||(t.port=parseInt(window.location.port,10)),!t.host&&t.hostname&&(t.host=t.hostname),t.protocol||(t.scheme?t.protocol=t.scheme+":":t.protocol=window.location.protocol),t.host||(t.host=window.location.hostname||window.location.host),/:/.test(t.host)&&(t.port||(t.port=t.host.split(":")[1]),t.host=t.host.split(":")[0]),t.port||(t.port="https:"==t.protocol?443:80);var n=new i(new a,t);return e&&n.on("response",e),n},r.get=function(t,e){t.method="GET";var n=r.request(t,e);return n.end(),n},r.Agent=function(){},r.Agent.defaultMaxSockets=4;var a=function(){if("undefined"==typeof window)throw new Error("no window object present");if(window.XMLHttpRequest)return window.XMLHttpRequest;if(window.ActiveXObject){for(var t=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Microsoft.XMLHTTP"],e=0;e<t.length;e++)try{var n=new window.ActiveXObject(t[e]);return function(){if(n){var r=n;return n=null,r}return new window.ActiveXObject(t[e])}}catch(r){}throw new Error("ajax not supported in this browser")}throw new Error("ajax not supported in this browser")}();r.STATUS_CODES={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",300:"Multiple Choices",301:"Moved Permanently",302:"Moved Temporarily",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Time-out",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Large",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Time-out",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{"./lib/request":59,events:57,url:83}],59:[function(t,e,n){var r=t("stream"),i=t("./response"),o=t("Base64"),a=t("inherits"),s=e.exports=function(t,e){var n=this;n.writable=!0,n.xhr=t,n.body=[],n.uri=(e.protocol||"http:")+"//"+e.host+(e.port?":"+e.port:"")+(e.path||"/"),"undefined"==typeof e.withCredentials&&(e.withCredentials=!0);try{t.withCredentials=e.withCredentials}catch(r){}if(e.responseType)try{t.responseType=e.responseType}catch(r){}if(t.open(e.method||"GET",n.uri,!0),t.onerror=function(t){n.emit("error",new Error("Network error"))},n._headers={},e.headers)for(var a=u(e.headers),s=0;s<a.length;s++){var h=a[s];if(n.isSafeRequestHeader(h)){var c=e.headers[h];n.setHeader(h,c)}}e.auth&&this.setHeader("Authorization","Basic "+o.btoa(e.auth));var f=new i;f.on("close",function(){n.emit("close")}),f.on("ready",function(){n.emit("response",f)}),f.on("error",function(t){n.emit("error",t)}),t.onreadystatechange=function(){t.__aborted||f.handle(t)}};a(s,r),s.prototype.setHeader=function(t,e){this._headers[t.toLowerCase()]=e},s.prototype.getHeader=function(t){return this._headers[t.toLowerCase()]},s.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},s.prototype.write=function(t){this.body.push(t)},s.prototype.destroy=function(t){this.xhr.__aborted=!0,this.xhr.abort(),this.emit("close")},s.prototype.end=function(t){void 0!==t&&this.body.push(t);for(var e=u(this._headers),n=0;n<e.length;n++){var r=e[n],i=this._headers[r];if(h(i))for(var o=0;o<i.length;o++)this.xhr.setRequestHeader(r,i[o]);else this.xhr.setRequestHeader(r,i)}if(0===this.body.length)this.xhr.send("");else if("string"==typeof this.body[0])this.xhr.send(this.body.join(""));else if(h(this.body[0])){for(var a=[],n=0;n<this.body.length;n++)a.push.apply(a,this.body[n]);this.xhr.send(a)}else if(/Array/.test(Object.prototype.toString.call(this.body[0]))){for(var s=0,n=0;n<this.body.length;n++)s+=this.body[n].length;for(var a=new this.body[0].constructor(s),c=0,n=0;n<this.body.length;n++)for(var l=this.body[n],o=0;o<l.length;o++)a[c++]=l[o];this.xhr.send(a)}else if(f(this.body[0]))this.xhr.send(this.body[0]);else{for(var a="",n=0;n<this.body.length;n++)a+=this.body[n].toString();this.xhr.send(a)}},s.unsafeHeaders=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"],s.prototype.isSafeRequestHeader=function(t){return t?-1===c(s.unsafeHeaders,t.toLowerCase()):!1};var u=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},h=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},c=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},f=function(t){return"undefined"!=typeof Blob&&t instanceof Blob?!0:"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?!0:"undefined"!=typeof FormData&&t instanceof FormData?!0:void 0}},{"./response":60,Base64:61,inherits:63,stream:81}],60:[function(t,e,n){function r(t){for(var e=t.getAllResponseHeaders().split(/\r?\n/),n={},r=0;r<e.length;r++){var i=e[r];if(""!==i){var o=i.match(/^([^:]+):\s*(.*)/);if(o){var a=o[1].toLowerCase(),s=o[2];void 0!==n[a]?u(n[a])?n[a].push(s):n[a]=[n[a],s]:n[a]=s}else n[i]=!0}}return n}var i=t("stream"),o=t("util"),a=e.exports=function(t){this.offset=0,this.readable=!0};o.inherits(a,i);var s={streaming:!0,status2:!0};a.prototype.getResponse=function(t){var e=String(t.responseType).toLowerCase();return"blob"===e?t.responseBlob||t.response:"arraybuffer"===e?t.response:t.responseText},a.prototype.getHeader=function(t){return this.headers[t.toLowerCase()]},a.prototype.handle=function(t){if(2===t.readyState&&s.status2){try{this.statusCode=t.status,this.headers=r(t)}catch(e){s.status2=!1}s.status2&&this.emit("ready")}else if(s.streaming&&3===t.readyState){try{this.statusCode||(this.statusCode=t.status,this.headers=r(t),this.emit("ready"))}catch(e){}try{this._emitData(t)}catch(e){s.streaming=!1}}else 4===t.readyState&&(this.statusCode||(this.statusCode=t.status,this.emit("ready")),this._emitData(t),t.error?this.emit("error",this.getResponse(t)):this.emit("end"),this.emit("close"))},a.prototype._emitData=function(t){var e=this.getResponse(t);return e.toString().match(/ArrayBuffer/)?(this.emit("data",new Uint8Array(e,this.offset)),void(this.offset=e.byteLength)):void(e.length>this.offset&&(this.emit("data",e.slice(this.offset)),this.offset=e.length))};var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{stream:81,util:85}],61:[function(t,e,n){!function(){function t(t){this.message=t}var e="undefined"!=typeof n?n:this,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var n,i,o=0,a=r,s="";e.charAt(0|o)||(a="=",o%1);s+=a.charAt(63&n>>8-o%1*8)){if(i=e.charCodeAt(o+=.75),i>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|i}return s}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),e.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,o=0,a=0,s="";i=e.charAt(a++);~i&&(n=o%4?64*n+i:i,
o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)i=r.indexOf(i);return s})}()},{}],62:[function(t,e,n){var r=t("http"),i=e.exports;for(var o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);i.request=function(t,e){return t||(t={}),t.scheme="https",r.request.call(this,t,e)}},{http:58}],63:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],64:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{dup:33}],65:[function(t,e,n){function r(){c=!1,s.length?h=s.concat(h):f=-1,h.length&&i()}function i(){if(!c){var t=setTimeout(r);c=!0;for(var e=h.length;e;){for(s=h,h=[];++f<e;)s[f].run();f=-1,e=h.length}s=null,c=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function a(){}var s,u=e.exports={},h=[],c=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new o(t,e)),1!==h.length||c||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=a,u.addListener=a,u.once=a,u.off=a,u.removeListener=a,u.removeAllListeners=a,u.emit=a,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],66:[function(t,e,n){(function(t){!function(r){function i(t){throw RangeError(L[t])}function o(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function a(t,e){var n=t.split("@"),r="";n.length>1&&(r=n[0]+"@",t=n[1]),t=t.replace(B,".");var i=t.split("."),a=o(i,e).join(".");return r+a}function s(t){for(var e,n,r=[],i=0,o=t.length;o>i;)e=t.charCodeAt(i++),e>=55296&&56319>=e&&o>i?(n=t.charCodeAt(i++),56320==(64512&n)?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--)):r.push(e);return r}function u(t){return o(t,function(t){var e="";return t>65535&&(t-=65536,e+=W(t>>>10&1023|55296),t=56320|1023&t),e+=W(t)}).join("")}function h(t){return 10>t-48?t-22:26>t-65?t-65:26>t-97?t-97:A}function c(t,e){return t+22+75*(26>t)-((0!=e)<<5)}function f(t,e,n){var r=0;for(t=n?D(t/T):t>>1,t+=D(t/e);t>I*S>>1;r+=A)t=D(t/I);return D(r+(I+1)*t/(t+_))}function l(t){var e,n,r,o,a,s,c,l,p,d,g=[],y=t.length,v=0,b=C,m=x;for(n=t.lastIndexOf(R),0>n&&(n=0),r=0;n>r;++r)t.charCodeAt(r)>=128&&i("not-basic"),g.push(t.charCodeAt(r));for(o=n>0?n+1:0;y>o;){for(a=v,s=1,c=A;o>=y&&i("invalid-input"),l=h(t.charCodeAt(o++)),(l>=A||l>D((E-v)/s))&&i("overflow"),v+=l*s,p=m>=c?k:c>=m+S?S:c-m,!(p>l);c+=A)d=A-p,s>D(E/d)&&i("overflow"),s*=d;e=g.length+1,m=f(v-a,e,0==a),D(v/e)>E-b&&i("overflow"),b+=D(v/e),v%=e,g.splice(v++,0,b)}return u(g)}function p(t){var e,n,r,o,a,u,h,l,p,d,g,y,v,b,m,w=[];for(t=s(t),y=t.length,e=C,n=0,a=x,u=0;y>u;++u)g=t[u],128>g&&w.push(W(g));for(r=o=w.length,o&&w.push(R);y>r;){for(h=E,u=0;y>u;++u)g=t[u],g>=e&&h>g&&(h=g);for(v=r+1,h-e>D((E-n)/v)&&i("overflow"),n+=(h-e)*v,e=h,u=0;y>u;++u)if(g=t[u],e>g&&++n>E&&i("overflow"),g==e){for(l=n,p=A;d=a>=p?k:p>=a+S?S:p-a,!(d>l);p+=A)m=l-d,b=A-d,w.push(W(c(d+m%b,0))),l=D(m/b);w.push(W(c(l,0))),a=f(n,v,r==o),n=0,++r}++n,++e}return w.join("")}function d(t){return a(t,function(t){return j.test(t)?l(t.slice(4).toLowerCase()):t})}function g(t){return a(t,function(t){return O.test(t)?"xn--"+p(t):t})}var y="object"==typeof n&&n&&!n.nodeType&&n,v="object"==typeof e&&e&&!e.nodeType&&e,b="object"==typeof t&&t;(b.global===b||b.window===b||b.self===b)&&(r=b);var m,w,E=2147483647,A=36,k=1,S=26,_=38,T=700,x=72,C=128,R="-",j=/^xn--/,O=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=A-k,D=Math.floor,W=String.fromCharCode;if(m={version:"1.3.2",ucs2:{decode:s,encode:u},decode:l,encode:p,toASCII:g,toUnicode:d},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return m});else if(y&&v)if(e.exports==y)v.exports=m;else for(w in m)m.hasOwnProperty(w)&&(y[w]=m[w]);else r.punycode=m}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],67:[function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.exports=function(t,e,n,o){e=e||"&",n=n||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var h=t.length;u>0&&h>u&&(h=u);for(var c=0;h>c;++c){var f,l,p,d,g=t[c].replace(s,"%20"),y=g.indexOf(n);y>=0?(f=g.substr(0,y),l=g.substr(y+1)):(f=g,l=""),p=decodeURIComponent(f),d=decodeURIComponent(l),r(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},{}],68:[function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};e.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(a(t),function(a){var s=encodeURIComponent(i(a))+n;return o(t[a])?r(t[a],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[a]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var o=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},a=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},{}],69:[function(t,e,n){"use strict";n.decode=n.parse=t("./decode"),n.encode=n.stringify=t("./encode")},{"./decode":67,"./encode":68}],70:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":71}],71:[function(t,e,n){(function(n){function r(t){return this instanceof r?(u.call(this,t),h.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}e.exports=r;var a=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},s=t("core-util-is");s.inherits=t("inherits");var u=t("./_stream_readable"),h=t("./_stream_writable");s.inherits(r,u),o(a(h.prototype),function(t){r.prototype[t]||(r.prototype[t]=h.prototype[t])})}).call(this,t("_process"))},{"./_stream_readable":73,"./_stream_writable":75,_process:65,"core-util-is":76,inherits:63}],72:[function(t,e,n){function r(t){return this instanceof r?void i.call(this,t):new r(t)}e.exports=r;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":74,"core-util-is":76,inherits:63}],73:[function(t,e,n){(function(n){function r(e,n){var r=t("./_stream_duplex");e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(C||(C=t("string_decoder/").StringDecoder),this.decoder=new C(e.encoding),this.encoding=e.encoding)}function i(e){t("./_stream_duplex");return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void T.call(this)):new i(e)}function o(t,e,n,r,i){var o=h(e,n);if(o)t.emit("error",o);else if(x.isNullOrUndefined(n))e.reading=!1,e.ended||c(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var s=new Error("stream.push() after EOF");t.emit("error",s)}else if(e.endEmitted&&i){var s=new Error("stream.unshift() after end event");t.emit("error",s)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t)),p(t,e);else i||(e.reading=!1);return a(e)}function a(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function s(t){if(t>=j)t=j;else{t--;for(var e=1;32>e;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||x.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:0>=t?0:(t>e.highWaterMark&&(e.highWaterMark=s(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function h(t,e){var n=null;return x.isBuffer(e)||x.isString(e)||x.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function c(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(R("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?n.nextTick(function(){l(t)}):l(t))}function l(t){R("emit readable"),t.emit("readable"),b(t)}function p(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(function(){d(t,e)}))}function d(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(R("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function g(t){return function(){var e=t._readableState;R("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_.listenerCount(t,"data")&&(e.flowing=!0,b(t))}}function y(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(function(){v(t,e)}))}function v(t,e){e.resumeScheduled=!1,t.emit("resume"),b(t),e.flowing&&!e.reading&&t.read(0)}function b(t){var e=t._readableState;if(R("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function m(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,a=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(a)n=r.shift();else if(!t||t>=i)n=o?r.join(""):S.concat(r,i),r.length=0;else if(t<r[0].length){var s=r[0];n=s.slice(0,t),r[0]=s.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new S(t);for(var u=0,h=0,c=r.length;c>h&&t>u;h++){var s=r[0],f=Math.min(t-u,s.length);o?n+=s.slice(0,f):s.copy(n,u,0,f),f<s.length?r[0]=s.slice(f):r.shift(),u+=f}}return n}function w(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,n.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function E(t,e){for(var n=0,r=t.length;r>n;n++)e(t[n],n)}function A(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}e.exports=i;var k=t("isarray"),S=t("buffer").Buffer;i.ReadableState=r;var _=t("events").EventEmitter;_.listenerCount||(_.listenerCount=function(t,e){return t.listeners(e).length});var T=t("stream"),x=t("core-util-is");x.inherits=t("inherits");var C,R=t("util");R=R&&R.debuglog?R.debuglog("stream"):function(){},x.inherits(i,T),i.prototype.push=function(t,e){var n=this._readableState;return x.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new S(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(e){return C||(C=t("string_decoder/").StringDecoder),this._readableState.decoder=new C(e),this._readableState.encoding=e,this};var j=8388608;i.prototype.read=function(t){R("read",t);var e=this._readableState,n=t;if((!x.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return R("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?w(this):f(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&w(this),null;var r=e.needReadable;R("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,R("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,R("reading or ended",r)),r&&(R("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?m(t,e):null,x.isNull(i)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&w(this),x.isNull(i)||this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function r(t){R("onunpipe"),t===f&&o()}function i(){R("onend"),t.end()}function o(){R("cleanup"),t.removeListener("close",u),t.removeListener("finish",h),t.removeListener("drain",y),t.removeListener("error",s),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",a),!l.awaitDrain||t._writableState&&!t._writableState.needDrain||y()}function a(e){R("ondata");var n=t.write(e);!1===n&&(R("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function s(e){R("onerror",e),c(),t.removeListener("error",s),0===_.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",h),c()}function h(){R("onfinish"),t.removeListener("close",u),c()}function c(){R("unpipe"),f.unpipe(t)}var f=this,l=this._readableState;switch(l.pipesCount){case 0:l.pipes=t;break;case 1:l.pipes=[l.pipes,t];break;default:l.pipes.push(t)}l.pipesCount+=1,R("pipe count=%d opts=%j",l.pipesCount,e);var p=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,d=p?i:o;l.endEmitted?n.nextTick(d):f.once("end",d),t.on("unpipe",r);var y=g(f);return t.on("drain",y),f.on("data",a),t._events&&t._events.error?k(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",u),t.once("finish",h),t.emit("pipe",f),l.flowing||(R("pipe resume"),f.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;r>i;i++)n[i].emit("unpipe",this);return this}var i=A(e.pipes,t);return-1===i?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var r=T.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&f(this,i);else{var o=this;n.nextTick(function(){R("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(R("resume"),t.flowing=!0,t.reading||(R("resume read 0"),this.read(0)),y(this,t)),this},i.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(R("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(R("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)x.isFunction(t[i])&&x.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return E(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){R("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=m}).call(this,t("_process"))},{"./_stream_duplex":71,_process:65,buffer:53,"core-util-is":76,events:57,inherits:63,isarray:64,stream:81,"string_decoder/":82,util:52}],74:[function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);s.call(this,t),this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=o;var s=t("./_stream_duplex"),u=t("core-util-is");u.inherits=t("inherits"),u.inherits(o,s),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":71,"core-util-is":76,inherits:63}],75:[function(t,e,n){(function(n){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(e,n){var r=t("./_stream_duplex");e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!e.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var a=e.decodeStrings===!1;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){p(n,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){var n=t("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(e,this),this.writable=!0,void k.call(this)):new o(e)}function a(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick(function(){r(i)})}function s(t,e,r,i){var o=!0;if(!(A.isBuffer(r)||A.isString(r)||A.isNullOrUndefined(r)||e.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");t.emit("error",a),n.nextTick(function(){i(a)}),o=!1}return o}function u(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&A.isString(e)&&(e=new E(e,n)),e}function h(t,e,n,i,o){n=u(e,n,i),A.isBuffer(n)&&(i="buffer");var a=e.objectMode?1:n.length;e.length+=a;var s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new r(n,i,o)):c(t,e,!1,a,n,i,o),s}function c(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function f(t,e,r,i,o){r?n.nextTick(function(){e.pendingcb--,o(i)}):(e.pendingcb--,o(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}function l(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function p(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(l(r),e)f(t,r,i,e,o);else{var a=v(t,r);a||r.corked||r.bufferProcessing||!r.buffer.length||y(t,r),i?n.nextTick(function(){d(t,r,a,o)}):d(t,r,a,o)}}function d(t,e,n,r){n||g(t,e),e.pendingcb--,r(),m(t,e)}function g(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function y(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var n=[],r=0;r<e.buffer.length;r++)n.push(e.buffer[r].callback);e.pendingcb++,c(t,e,!0,e.length,e.buffer,"",function(t){for(var r=0;r<n.length;r++)e.pendingcb--,n[r](t)}),e.buffer=[]}else{for(var r=0;r<e.buffer.length;r++){var i=e.buffer[r],o=i.chunk,a=i.encoding,s=i.callback,u=e.objectMode?1:o.length;if(c(t,e,!1,u,o,a,s),e.writing){r++;break}}r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}e.bufferProcessing=!1}function v(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function m(t,e){var n=v(t,e);return n&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),n}function w(t,e,r){e.ending=!0,m(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}e.exports=o;var E=t("buffer").Buffer;o.WritableState=i;var A=t("core-util-is");A.inherits=t("inherits");var k=t("stream");A.inherits(o,k),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return A.isFunction(e)&&(n=e,e=null),A.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),A.isFunction(n)||(n=function(){}),r.ended?a(this,r,n):s(this,r,t,n)&&(r.pendingcb++,i=h(this,r,t,e,n)),i},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||y(this,t))},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var r=this._writableState;A.isFunction(t)?(n=t,t=null,e=null):A.isFunction(e)&&(n=e,e=null),A.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||w(this,r,n)}}).call(this,t("_process"))},{"./_stream_duplex":71,_process:65,buffer:53,"core-util-is":76,inherits:63,stream:81}],76:[function(t,e,n){(function(t){function e(t){return Array.isArray(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"==typeof t}function s(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function h(t){return void 0===t}function c(t){return f(t)&&"[object RegExp]"===v(t)}function f(t){return"object"==typeof t&&null!==t}function l(t){return f(t)&&"[object Date]"===v(t)}function p(t){return f(t)&&("[object Error]"===v(t)||t instanceof Error)}function d(t){return"function"==typeof t}function g(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function y(e){return t.isBuffer(e)}function v(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=a,n.isString=s,n.isSymbol=u,n.isUndefined=h,n.isRegExp=c,n.isObject=f,n.isDate=l,n.isError=p,n.isFunction=d,n.isPrimitive=g,n.isBuffer=y}).call(this,t("buffer").Buffer)},{buffer:53}],77:[function(t,e,n){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":72}],78:[function(t,e,n){n=e.exports=t("./lib/_stream_readable.js"),n.Stream=t("stream"),n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":71,"./lib/_stream_passthrough.js":72,"./lib/_stream_readable.js":73,"./lib/_stream_transform.js":74,"./lib/_stream_writable.js":75,stream:81}],79:[function(t,e,n){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":74}],80:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":75}],81:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter,o=t("inherits");o(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&h.pause&&h.pause()}function r(){h.readable&&h.resume&&h.resume()}function o(){c||(c=!0,t.end())}function a(){c||(c=!0,"function"==typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){h.removeListener("data",n),t.removeListener("drain",r),h.removeListener("end",o),h.removeListener("close",a),h.removeListener("error",s),t.removeListener("error",s),h.removeListener("end",u),h.removeListener("close",u),t.removeListener("close",u)}var h=this;h.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(h.on("end",o),h.on("close",a));var c=!1;return h.on("error",s),t.on("error",s),h.on("end",u),h.on("close",u),t.on("close",u),t.emit("pipe",h),t}},{events:57,inherits:63,"readable-stream/duplex.js":70,"readable-stream/passthrough.js":77,"readable-stream/readable.js":78,"readable-stream/transform.js":79,"readable-stream/writable.js":80}],82:[function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function a(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var s=t("buffer").Buffer,u=s.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},h=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};h.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&56319>=r)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&56319>=r){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},h.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(2>=e&&n>>4==14){this.charLength=3;break}if(3>=e&&n>>3==30){this.charLength=4;break}}this.charReceived=e},h.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:53}],83:[function(t,e,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function i(t,e,n){if(t&&h(t)&&t instanceof r)return t;var i=new r;return i.parse(t,e,n),i}function o(t){return u(t)&&(t=i(t)),t instanceof r?t.format():r.prototype.format.call(t)}function a(t,e){return i(t,!1,!0).resolve(e)}function s(t,e){return t?i(t,!1,!0).resolveObject(e):e}function u(t){return"string"==typeof t}function h(t){return"object"==typeof t&&null!==t}function c(t){return null===t}function f(t){return null==t}var l=t("punycode");n.parse=i,n.resolve=a,n.resolveObject=s,n.format=o,n.Url=r;var p=/^([a-z0-9.+-]+:)/i,d=/:[0-9]*$/,g=["<",">",'"',"`"," ","\r","\n","	"],y=["{","}","|","\\","^","`"].concat(g),v=["'"].concat(y),b=["%","/","?",";","#"].concat(v),m=["/","?","#"],w=255,E=/^[a-z0-9A-Z_-]{0,63}$/,A=/^([a-z0-9A-Z_-]{0,63})(.*)$/,k={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},_={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=t("querystring");r.prototype.parse=function(t,e,n){if(!u(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var r=t;r=r.trim();var i=p.exec(r);if(i){i=i[0];var o=i.toLowerCase();this.protocol=o,r=r.substr(i.length)}if(n||i||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===r.substr(0,2);!a||i&&S[i]||(r=r.substr(2),this.slashes=!0)}if(!S[i]&&(a||i&&!_[i])){for(var s=-1,h=0;h<m.length;h++){var c=r.indexOf(m[h]);-1!==c&&(-1===s||s>c)&&(s=c)}var f,d;d=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==d&&(f=r.slice(0,d),r=r.slice(d+1),this.auth=decodeURIComponent(f)),s=-1;for(var h=0;h<b.length;h++){var c=r.indexOf(b[h]);-1!==c&&(-1===s||s>c)&&(s=c)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var y=this.hostname.split(/\./),h=0,x=y.length;x>h;h++){var C=y[h];if(C&&!C.match(E)){for(var R="",j=0,O=C.length;O>j;j++)R+=C.charCodeAt(j)>127?"x":C[j];if(!R.match(E)){var B=y.slice(0,h),L=y.slice(h+1),I=C.match(A);I&&(B.push(I[1]),L.unshift(I[2])),L.length&&(r="/"+L.join(".")+r),this.hostname=B.join(".");break}}}if(this.hostname.length>w?this.hostname="":this.hostname=this.hostname.toLowerCase(),!g){for(var D=this.hostname.split("."),W=[],h=0;h<D.length;++h){var P=D[h];W.push(P.match(/[^A-Za-z0-9_-]/)?"xn--"+l.encode(P):P)}this.hostname=W.join(".")}var N=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+N,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!k[o])for(var h=0,x=v.length;x>h;h++){var U=v[h],q=encodeURIComponent(U);q===U&&(q=escape(U)),r=r.split(U).join(q)}var F=r.indexOf("#");-1!==F&&(this.hash=r.substr(F),r=r.slice(0,F));var Q=r.indexOf("?");if(-1!==Q?(this.search=r.substr(Q),this.query=r.substr(Q+1),e&&(this.query=T.parse(this.query)),r=r.slice(0,Q)):e&&(this.search="",this.query={}),r&&(this.pathname=r),_[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",P=this.search||"";this.path=N+P}return this.href=this.format(),this},r.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&h(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||_[e])&&i!==!1?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(t){return encodeURIComponent(t);
}),a=a.replace("#","%23"),e+i+n+a+r},r.prototype.resolve=function(t){return this.resolveObject(i(t,!1,!0)).format()},r.prototype.resolveObject=function(t){if(u(t)){var e=new r;e.parse(t,!1,!0),t=e}var n=new r;if(Object.keys(this).forEach(function(t){n[t]=this[t]},this),n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol)return Object.keys(t).forEach(function(e){"protocol"!==e&&(n[e]=t[e])}),_[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(t.protocol&&t.protocol!==n.protocol){if(!_[t.protocol])return Object.keys(t).forEach(function(e){n[e]=t[e]}),n.href=n.format(),n;if(n.protocol=t.protocol,t.host||S[t.protocol])n.pathname=t.pathname;else{for(var i=(t.pathname||"").split("/");i.length&&!(t.host=i.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==i[0]&&i.unshift(""),i.length<2&&i.unshift(""),n.pathname=i.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),h=t.host||t.pathname&&"/"===t.pathname.charAt(0),l=h||s||n.host&&t.pathname,p=l,d=n.pathname&&n.pathname.split("/")||[],i=t.pathname&&t.pathname.split("/")||[],g=n.protocol&&!_[n.protocol];if(g&&(n.hostname="",n.port=null,n.host&&(""===d[0]?d[0]=n.host:d.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===i[0]?i[0]=t.host:i.unshift(t.host)),t.host=null),l=l&&(""===i[0]||""===d[0])),h)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,d=i;else if(i.length)d||(d=[]),d.pop(),d=d.concat(i),n.search=t.search,n.query=t.query;else if(!f(t.search)){if(g){n.hostname=n.host=d.shift();var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return n.search=t.search,n.query=t.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!d.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var v=d.slice(-1)[0],b=(n.host||t.host)&&("."===v||".."===v)||""===v,m=0,w=d.length;w>=0;w--)v=d[w],"."==v?d.splice(w,1):".."===v?(d.splice(w,1),m++):m&&(d.splice(w,1),m--);if(!l&&!p)for(;m--;m)d.unshift("..");!l||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),b&&"/"!==d.join("/").substr(-1)&&d.push("");var E=""===d[0]||d[0]&&"/"===d[0].charAt(0);if(g){n.hostname=n.host=E?"":d.length?d.shift():"";var y=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;y&&(n.auth=y.shift(),n.host=n.hostname=y.shift())}return l=l||n.host&&d.length,l&&!E&&d.unshift(""),d.length?n.pathname=d.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var t=this.host,e=d.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},{punycode:66,querystring:69}],84:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],85:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:a};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(e)?r.showHidden=e:e&&n._extend(r,e),E(r.showHidden)&&(r.showHidden=!1),E(r.depth)&&(r.depth=2),E(r.colors)&&(r.colors=!1),E(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&T(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return m(i)||(i=u(t,i,r)),i}var o=h(t,e);if(o)return o;var a=Object.keys(e),g=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(e)),_(e)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return c(e);if(0===a.length){if(T(e)){var y=e.name?": "+e.name:"";return t.stylize("[Function"+y+"]","special")}if(A(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return t.stylize(Date.prototype.toString.call(e),"date");if(_(e))return c(e)}var v="",b=!1,w=["{","}"];if(d(e)&&(b=!0,w=["[","]"]),T(e)){var E=e.name?": "+e.name:"";v=" [Function"+E+"]"}if(A(e)&&(v=" "+RegExp.prototype.toString.call(e)),S(e)&&(v=" "+Date.prototype.toUTCString.call(e)),_(e)&&(v=" "+c(e)),0===a.length&&(!b||0==e.length))return w[0]+v+w[1];if(0>r)return A(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var k;return k=b?f(t,e,r,g,a):a.map(function(n){return l(t,e,r,g,n,b)}),t.seen.pop(),p(k,v,w)}function h(t,e){if(E(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):y(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],a=0,s=e.length;s>a;++a)O(e,String(a))?o.push(l(t,e,n,r,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(l(t,e,n,r,i,!0))}),o}function l(t,e,n,r,i,o){var a,s,h;if(h=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},h.get?s=h.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):h.set&&(s=t.stylize("[Setter]","special")),O(r,i)||(a="["+i+"]"),s||(t.seen.indexOf(h.value)<0?(s=y(n)?u(t,h.value,null):u(t,h.value,n-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),E(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function p(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function y(t){return null===t}function v(t){return null==t}function b(t){return"number"==typeof t}function m(t){return"string"==typeof t}function w(t){return"symbol"==typeof t}function E(t){return void 0===t}function A(t){return k(t)&&"[object RegExp]"===C(t)}function k(t){return"object"==typeof t&&null!==t}function S(t){return k(t)&&"[object Date]"===C(t)}function _(t){return k(t)&&("[object Error]"===C(t)||t instanceof Error)}function T(t){return"function"==typeof t}function x(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function R(t){return 10>t?"0"+t.toString(10):t.toString(10)}function j(){var t=new Date,e=[R(t.getHours()),R(t.getMinutes()),R(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var B=/%[sdj%]/g;n.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,a=String(t).replace(B,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),s=r[n];o>n;s=r[++n])a+=y(s)||!k(s)?" "+s:" "+i(s);return a},n.deprecate=function(t,i){function o(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}if(E(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var a=!1;return o};var L,I={};n.debuglog=function(t){if(E(L)&&(L=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(L)){var r=e.pid;I[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else I[t]=function(){};return I[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=y,n.isNullOrUndefined=v,n.isNumber=b,n.isString=m,n.isSymbol=w,n.isUndefined=E,n.isRegExp=A,n.isObject=k,n.isDate=S,n.isError=_,n.isFunction=T,n.isPrimitive=x,n.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",j(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!k(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":84,_process:65,inherits:63}]},{},[1]);